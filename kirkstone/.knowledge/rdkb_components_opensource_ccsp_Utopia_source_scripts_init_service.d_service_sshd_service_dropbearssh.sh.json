{"is_source_file": true, "format": "Shell Script", "description": "This file is a shell script used for managing the SSH daemon (dropbear) in a network device. It includes functions to start, stop, and restart the SSH service, and handles events such as lan and wan status changes. The script also interacts with system properties, configuration files, and system events to control the SSH service lifecycle.", "external_files": ["/etc/utopia/service.d/ulog_functions.sh", "/etc/utopia/service.d/log_capture_path.sh", "/etc/device.properties", "/etc/mount-utils/getConfigFile.sh", "/etc/utopia/service.d/pmon.sh", "/etc/dropbear_dss_host_key", "/etc/dropbear_rsa_host_key", "/etc/sshbanner.txt"], "external_methods": ["getConfigFile", "sysevent get", "sysevent set", "ulog"], "published": [], "classes": [], "methods": [{"name": "do_start", "description": "Starts the dropbear SSH daemon with configuration, sets its PID, and updates system events."}, {"name": "do_stop", "description": "Stops the dropbear SSH daemon and updates system events."}, {"name": "service_start", "description": "Initiates the SSH service based on system status, waits for network readiness, and sets relevant system events."}, {"name": "service_stop", "description": "Stops the SSH service and updates system events."}, {"name": "service_lanwan_status", "description": "Checks LAN and WAN status to start or stop SSH service accordingly."}, {"name": "service_bridge_status", "description": "Checks bridge status to start or stop SSH service accordingly."}], "calls": ["sysevent get wan-status", "sysevent get lan-status", "sysevent get bridge-status", "sysevent set ssh_daemon_state up", "sysevent set ssh_daemon_state down", "sysevent set sshd-status", "sysevent set sshd-errinfo"], "search-terms": ["service_sshd.sh", "dropbear", "ssh daemon management", "Utopia script", "ssh start stop script", "system event control", "Network device SSH"], "state": 2, "file_id": 7594, "knowledge_revision": 20667, "git_revision": "", "hash": "23629e6750fd31ec1d227e80ef024870", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/Utopia/source/scripts/init/service.d/service_sshd/service_dropbearssh.sh", "revision_history": [{"20667": ""}]}