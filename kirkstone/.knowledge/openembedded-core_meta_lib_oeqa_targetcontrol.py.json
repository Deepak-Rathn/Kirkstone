{"is_source_file": true, "format": "Python", "description": "This file contains classes and functions for controlling and testing embedded system targets using QEMU and SSH. It defines target abstraction classes including BaseTarget, QemuTarget, and SimpleRemoteTarget, with methods for deployment, starting, stopping, and running commands on the target devices.", "external_files": ["oeqa.utils.sshcontrol", "oeqa.utils.qemurunner", "oeqa.utils.qemutinyrunner", "oeqa.utils.dump", "oeqa.controllers.testtargetloader", "abc", "oe.path", "bb"], "external_methods": ["bb.utils.mkdirhier", "bb.utils.mkdirhier", "os.path.islink", "os.unlink", "os.symlink", "os.path.basename", "os.path.exists", "os.path.join", "logging.FileHandler", "logging.Formatter", "logging.getLogger", "logging.Logger", "os.path.islink", "os.path.join", "os.path.exists", "os.path.read", "subprocess.check_output", "bb.fatal", "bb.error"], "published": ["BaseTarget", "QemuTarget", "SimpleRemoteTarget"], "classes": [{"name": "BaseTarget", "description": "Abstract base class for target machines, providing common methods and properties for deploying, starting, stopping, and communicating with target devices."}, {"name": "QemuTarget", "description": "Derived class implementing a QEMU-based virtual target, managing QEMU instances, logs, and device-specific operations."}, {"name": "SimpleRemoteTarget", "description": "Derived class for controlling remote targets via SSH, suitable for real hardware devices or other accessible hosts."}], "methods": [{"name": "deploy(self)", "description": "Prepares the target environment, such as creating log files and symlinks.", "scope": "SimpleRemoteTarget", "scopeKind": "class"}, {"name": "start(self, params=None, ssh=True, extra_bootparams='', runqemuparams='', launch_cmd='', discard_writes=True)", "description": "Starts the target, with optional SSH connection and boot parameters.", "scope": "QemuTarget", "scopeKind": "class"}, {"name": "stop(self)", "description": "Stops the target device or simulation.", "scope": "SimpleRemoteTarget", "scopeKind": "class"}, {"name": "restart(self, params=None)", "description": "Stops and then starts the target again.", "scope": "QemuTarget", "scopeKind": "class"}, {"name": "run(self, cmd, timeout=None)", "description": "Executes a command on the target, returns output.", "scope": "BaseTarget", "scopeKind": "class"}, {"name": "copy_to(self, localpath, remotepath)", "description": "Copies files from local to remote target.", "scope": "BaseTarget", "scopeKind": "class"}, {"name": "copy_from(self, remotepath, localpath)", "description": "Copies files from remote target to local.", "scope": "BaseTarget", "scopeKind": "class"}, {"name": "__init__(self, d)", "scope": "SimpleRemoteTarget", "scopeKind": "class", "description": "unavailable"}, {"name": "__init__(self, d, logger)", "scope": "BaseTarget", "scopeKind": "class", "description": "unavailable"}, {"name": "__init__(self, d, logger, image_fstype=None)", "scope": "QemuTarget", "scopeKind": "class", "description": "unavailable"}, {"name": "check(self)", "scope": "QemuTarget", "scopeKind": "class", "description": "unavailable"}, {"name": "get_extra_files(self)", "scope": "BaseTarget", "scopeKind": "class", "description": "unavailable"}, {"name": "get_image_fstype(self, d)", "scope": "BaseTarget", "scopeKind": "class", "description": "unavailable"}, {"name": "match_image_fstype(self, d, image_fstypes=None)", "scope": "BaseTarget", "scopeKind": "class", "description": "unavailable"}, {"name": "run_serial(self, command, timeout=60)", "scope": "QemuTarget", "scopeKind": "class", "description": "unavailable"}, {"name": "start(self, params=None, ssh=True, extra_bootparams=None)", "scope": "SimpleRemoteTarget", "scopeKind": "class", "description": "unavailable"}], "calls": ["os.path.islink", "os.unlink", "os.symlink", "logging.FileHandler", "logging.Formatter", "logging.getLogger", "bb.utils.mkdirhier", "subprocess.check_output", "bb.fatal", "bb.error"], "search-terms": ["QEMUTarget", "SimpleRemoteTarget", "deploy", "start", "stop", "SSHControl", "testimage_dump"], "state": 2, "file_id": 1948, "knowledge_revision": 15098, "git_revision": "", "ctags": [{"_type": "tag", "name": "BaseTarget", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/targetcontrol.py", "pattern": "/^class BaseTarget(object, metaclass=ABCMeta):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "QemuTarget", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/targetcontrol.py", "pattern": "/^class QemuTarget(BaseTarget):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "SimpleRemoteTarget", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/targetcontrol.py", "pattern": "/^class SimpleRemoteTarget(BaseTarget):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/targetcontrol.py", "pattern": "/^    def __init__(self, d):$/", "language": "Python", "kind": "member", "signature": "(self, d)", "scope": "SimpleRemoteTarget", "scopeKind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/targetcontrol.py", "pattern": "/^    def __init__(self, d, logger):$/", "language": "Python", "kind": "member", "signature": "(self, d, logger)", "scope": "BaseTarget", "scopeKind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/targetcontrol.py", "pattern": "/^    def __init__(self, d, logger, image_fstype=None):$/", "language": "Python", "kind": "member", "signature": "(self, d, logger, image_fstype=None)", "scope": "QemuTarget", "scopeKind": "class"}, {"_type": "tag", "name": "check", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/targetcontrol.py", "pattern": "/^    def check(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "QemuTarget", "scopeKind": "class"}, {"_type": "tag", "name": "copy_from", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/targetcontrol.py", "pattern": "/^    def copy_from(self, remotepath, localpath):$/", "language": "Python", "kind": "member", "signature": "(self, remotepath, localpath)", "scope": "BaseTarget", "scopeKind": "class"}, {"_type": "tag", "name": "copy_to", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/targetcontrol.py", "pattern": "/^    def copy_to(self, localpath, remotepath):$/", "language": "Python", "kind": "member", "signature": "(self, localpath, remotepath)", "scope": "BaseTarget", "scopeKind": "class"}, {"_type": "tag", "name": "deploy", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/targetcontrol.py", "pattern": "/^    def deploy(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BaseTarget", "scopeKind": "class"}, {"_type": "tag", "name": "deploy", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/targetcontrol.py", "pattern": "/^    def deploy(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "QemuTarget", "scopeKind": "class"}, {"_type": "tag", "name": "deploy", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/targetcontrol.py", "pattern": "/^    def deploy(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "SimpleRemoteTarget", "scopeKind": "class"}, {"_type": "tag", "name": "get_extra_files", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/targetcontrol.py", "pattern": "/^    def get_extra_files(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BaseTarget", "scopeKind": "class"}, {"_type": "tag", "name": "get_image_fstype", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/targetcontrol.py", "pattern": "/^    def get_image_fstype(self, d):$/", "language": "Python", "kind": "member", "signature": "(self, d)", "scope": "BaseTarget", "scopeKind": "class"}, {"_type": "tag", "name": "match_image_fstype", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/targetcontrol.py", "pattern": "/^    def match_image_fstype(self, d, image_fstypes=None):$/", "language": "Python", "kind": "member", "signature": "(self, d, image_fstypes=None)", "scope": "BaseTarget", "scopeKind": "class"}, {"_type": "tag", "name": "restart", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/targetcontrol.py", "pattern": "/^    def restart(self, params=None):$/", "language": "Python", "kind": "member", "signature": "(self, params=None)", "scope": "BaseTarget", "scopeKind": "class"}, {"_type": "tag", "name": "restart", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/targetcontrol.py", "pattern": "/^    def restart(self, params=None):$/", "language": "Python", "kind": "member", "signature": "(self, params=None)", "scope": "QemuTarget", "scopeKind": "class"}, {"_type": "tag", "name": "run", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/targetcontrol.py", "pattern": "/^    def run(self, cmd, timeout=None):$/", "language": "Python", "kind": "member", "signature": "(self, cmd, timeout=None)", "scope": "BaseTarget", "scopeKind": "class"}, {"_type": "tag", "name": "run_serial", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/targetcontrol.py", "pattern": "/^    def run_serial(self, command, timeout=60):$/", "language": "Python", "kind": "member", "signature": "(self, command, timeout=60)", "scope": "QemuTarget", "scopeKind": "class"}, {"_type": "tag", "name": "start", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/targetcontrol.py", "pattern": "/^    def start(self, params=None, ssh=True, extra_bootparams='', runqemuparams='', launch_cmd='',/", "language": "Python", "kind": "member", "signature": "(self, params=None, ssh=True, extra_bootparams='', runqemuparams='', launch_cmd='', discard_writes=True)", "scope": "QemuTarget", "scopeKind": "class"}, {"_type": "tag", "name": "start", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/targetcontrol.py", "pattern": "/^    def start(self, params=None, ssh=True, extra_bootparams=None):$/", "language": "Python", "kind": "member", "signature": "(self, params=None, ssh=True, extra_bootparams=None)", "scope": "BaseTarget", "scopeKind": "class"}, {"_type": "tag", "name": "start", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/targetcontrol.py", "pattern": "/^    def start(self, params=None, ssh=True, extra_bootparams=None):$/", "language": "Python", "kind": "member", "signature": "(self, params=None, ssh=True, extra_bootparams=None)", "scope": "SimpleRemoteTarget", "scopeKind": "class"}, {"_type": "tag", "name": "stop", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/targetcontrol.py", "pattern": "/^    def stop(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BaseTarget", "scopeKind": "class"}, {"_type": "tag", "name": "stop", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/targetcontrol.py", "pattern": "/^    def stop(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "QemuTarget", "scopeKind": "class"}, {"_type": "tag", "name": "stop", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/targetcontrol.py", "pattern": "/^    def stop(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "SimpleRemoteTarget", "scopeKind": "class"}, {"_type": "tag", "name": "supported_image_fstypes", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/targetcontrol.py", "pattern": "/^    supported_image_fstypes = ['ext3', 'ext4', 'cpio.gz', 'wic']$/", "language": "Python", "kind": "variable", "scope": "QemuTarget", "scopeKind": "class"}, {"_type": "tag", "name": "supported_image_fstypes", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/targetcontrol.py", "pattern": "/^    supported_image_fstypes = []$/", "language": "Python", "kind": "variable", "scope": "BaseTarget", "scopeKind": "class"}], "hash": "62fd226a8b091d20b42f43255b35c69c", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "openembedded-core/meta/lib/oeqa/targetcontrol.py", "fields": [{"name": "supported_image_fstypes = ['ext3', 'ext4', 'cpio.gz', 'wic']", "scope": "QemuTarget", "scopeKind": "class", "description": "unavailable"}, {"name": "supported_image_fstypes = []", "scope": "BaseTarget", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"15098": ""}]}