{"is_source_file": true, "format": "C", "description": "This source file implements a fork helper for a sysevent daemon, managing process activation via fork and exec upon events. It handles system initialization, signal management, message parsing from a pipe, and process spawning, including error handling and inter-process communication.", "external_files": ["ulog/ulog.h"], "external_methods": ["ulog/ulog.h: ulog, ulogf, ulog_init"], "published": ["main"], "classes": [], "methods": [{"name": "int daemon_init(void)", "description": "Initializes the process as a daemon, setting session ID, working directory, and file permissions.", "scope": "", "scopeKind": ""}, {"name": "int deinitialize_system(void)", "description": "Performs cleanup by closing the pipe, removing PID file, and logging shutdown message.", "scope": "", "scopeKind": ""}, {"name": "void terminate_signal_handler(int signum)", "description": "Handles termination signals, logs the event, and performs cleanup.", "scope": "", "scopeKind": ""}, {"name": "void ignore_signal_handler(int signum)", "description": "Handles signals to be ignored, logs receipt of the signal.", "scope": "", "scopeKind": ""}, {"name": "void reinit_signal_handler(int signum)", "description": "Handles reinitialization signals, logs receipt.", "scope": "", "scopeKind": ""}, {"name": "int initialize_system(void)", "description": "Sets up logging, daemon process, signal handlers, and writes process PID to file.", "scope": "", "scopeKind": ""}, {"name": "pid_t _eval(char * const prog,char * argv[],pid_t * pid)", "description": "Forks and executes a specified program with arguments, manages signal masking and output redirection.", "scope": "", "scopeKind": ""}, {"name": "int get_args_and_eval(int fd)", "description": "Reads a message from the pipe, parses and constructs argument list, spawns process accordingly.", "scope": "", "scopeKind": ""}, {"name": "int main(int argc,char ** argv)", "description": "Main loop that initializes system, waits on pipe for messages, and triggers process spawning.", "scope": "", "scopeKind": ""}], "calls": ["ulog/ulog.h: ulog, ulogf, ulog_init", "sigaction", "sigemptyset", "sigaddset", "sigprocmask", "fork", "execv", "getppid", "getpid", "setgid", "setuid", "close", "unlink", "open", "read", "write", "select", "nanosleep", "fprintf", "fclose", "fopen"], "search-terms": ["sysevent fork helper", "process activation", "signal handling", "daemon initialization", "inter-process communication", "message parsing", "process spawning", "system cleanup", "pid file"], "state": 2, "file_id": 7739, "knowledge_revision": 20808, "git_revision": "", "ctags": [{"_type": "tag", "name": "MAX_ARGS", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/fork_helper/fork_helper.c", "pattern": "/^#define MAX_ARGS /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "PID_FILE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/fork_helper/fork_helper.c", "pattern": "/^#define PID_FILE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "REDIRECT_CHILD_OUTPUT_TO_CONSOLE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/fork_helper/fork_helper.c", "pattern": "/^#define REDIRECT_CHILD_OUTPUT_TO_CONSOLE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "__USE_GNU", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/fork_helper/fork_helper.c", "pattern": "/^#define __USE_GNU /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "_eval", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/fork_helper/fork_helper.c", "pattern": "/^static pid_t _eval(char *const prog, char *argv[], pid_t *pid)$/", "file": true, "language": "C", "typeref": "typename:pid_t", "kind": "function", "signature": "(char * const prog,char * argv[],pid_t * pid)"}, {"_type": "tag", "name": "daemon_init", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/fork_helper/fork_helper.c", "pattern": "/^static int daemon_init(void)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "deinitialize_system", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/fork_helper/fork_helper.c", "pattern": "/^static int deinitialize_system(void)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "get_args_and_eval", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/fork_helper/fork_helper.c", "pattern": "/^static int get_args_and_eval(int fd)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(int fd)"}, {"_type": "tag", "name": "ignore_signal_handler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/fork_helper/fork_helper.c", "pattern": "/^static void ignore_signal_handler (int signum)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(int signum)"}, {"_type": "tag", "name": "initialize_system", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/fork_helper/fork_helper.c", "pattern": "/^static int initialize_system(void)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "main", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/fork_helper/fork_helper.c", "pattern": "/^int main(int argc, char **argv)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(int argc,char ** argv)"}, {"_type": "tag", "name": "read_pipe", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/fork_helper/fork_helper.c", "pattern": "/^static int read_pipe;$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "variable"}, {"_type": "tag", "name": "reinit_signal_handler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/fork_helper/fork_helper.c", "pattern": "/^static void reinit_signal_handler (int signum)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(int signum)"}, {"_type": "tag", "name": "terminate_signal_handler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/fork_helper/fork_helper.c", "pattern": "/^static void terminate_signal_handler (int signum)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(int signum)"}], "hash": "cb1a17d9c2252fb382b9715dbd0c75d2", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/Utopia/source/sysevent/fork_helper/fork_helper.c", "fields": [{"name": "int read_pipe", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"20808": ""}]}