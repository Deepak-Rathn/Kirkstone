{"is_source_file": true, "format": "C", "description": "This file appears to be the main source code for a component of the Cisco TR-069 Protocol Agent (PA), responsible for initializing, managing, and controlling the lifecycle of the PA process. It includes handling configuration, signal processing, daemonization, and interface with other system components.", "external_files": ["ssp_global.h", "syscfg/syscfg.h", "cap.h", "telemetry_busmessage_sender.h", "rdk_debug.h", "breakpad_wrapper.h"], "external_methods": ["CcspTr069PaTraceInfo", "CcspTr069PaTraceError", "AnscCopyString", "AnscSleep", "isBlocklisted", "init_capability", "drop_root_caps", "update_process_caps", "read_capability", "breakpad_ExceptionHandler", "t2_init", "engage_tr069pa", "cancel_tr069pa", "ssp_setLogLevel", "ssp_testNsSyncWithCR", "ssp_sendDiagCompleteSignal", "ssp_dumpPiTree", "ssp_testNsAgainstMapper", "ssp_testGPN", "ssp_testGPV", "ssp_testSPV", "ssp_testGPA", "ssp_testSPA", "ssp_testCDS", "ssp_testFirmwareDownload", "ssp_testAddObject", "ssp_testDeleteObject", "ssp_testSPV_notFromPA", "ssp_checkCachedParamAttr", "ssp_flipInvNamespaceChkFlag", "ssp_sendValueChangeSignal"], "published": ["g_pCcspCwmpCpeController", "bEngaged", "g_Tr069PaName", "g_CrName", "g_Subsystem", "g_PaMapperXmlFile", "g_PaCustMapperFile", "g_SdmXmlFile", "g_tr069Health"], "classes": [], "methods": [{"name": "int display_menu()", "description": "Displays the command menu options for interacting with the PA process.", "scope": "", "scopeKind": ""}, {"name": "int display_info()", "description": "Displays information about the PE program, including copyright and license details.", "scope": "", "scopeKind": ""}, {"name": "void _print_stack_backtrace(void)", "description": "Prints the current call stack for debugging purposes when a signal is received.", "scope": "", "scopeKind": ""}, {"name": "void daemonize(void)", "description": "Converts the process into a daemon by detaching from terminal and redirecting stdio to /dev/null.", "scope": "", "scopeKind": ""}, {"name": "void sig_handler(int sig)", "description": "Handles system signals like SIGINT, SIGUSR1, SIGUSR2, etc., performing cleanup or debugging actions.", "scope": "", "scopeKind": ""}, {"name": "int is_core_dump_opened(void)", "description": "Checks if core dump size limits are set to allow core dumps.", "scope": "", "scopeKind": ""}, {"name": "void drop_root()", "description": "Drops root privileges if not blocklisted, for security.", "scope": "", "scopeKind": ""}, {"name": "BOOL is_customer_data_model(void)", "description": "Checks whether custom data model is enabled via system configuration.", "scope": "", "scopeKind": ""}, {"name": "int main(int argc,char * argv[])", "description": "Entry point of the program; parses arguments, initializes system, manages process lifecycle, and handles commands.", "scope": "", "scopeKind": ""}, {"name": "int cmd_dispatch(int command)", "description": "Handles command inputs for controlling the PA process, such as engaging/disengaging, testing, dumping info.", "scope": "", "scopeKind": ""}, {"name": "int engage_tr069pa()", "description": "Initializes and starts the TR-069 PA process, setting up interfaces, configuration, and control objects.", "scope": "", "scopeKind": ""}, {"name": "int cancel_tr069pa()", "description": "Shuts down and cleans up the PA process, releasing resources.", "scope": "", "scopeKind": ""}], "calls": ["CcspTr069PaSsp_LoadCfgFile", "CcspTr069PaSsp_InitCcspCwmpCfgIf", "ssp_BbhmInitWebAcmIf", "CcspCwmpCreateCpeController", "CcspTr069PaSsp_InitCcspCwmpCfgIf", "g_pCcspCwmpCpeController->SetCcspCwmpCfgIf", "g_pCcspCwmpCpeController->SetSubsysName", "g_pCcspCwmpCpeController->SetPAMapperFile", "g_pCcspCwmpCpeController->SetPACustomMapperFile", "g_pCcspCwmpCpeController->SetSDMXmlFilename", "pCcspCwmpTcpcrHandler->SetWebAcmIf", "g_pCcspCwmpCpeController->SetOutboundIfName", "g_pCcspCwmpCpeController->Engage", "g_DslhDataModelAgent->pPrefix", "AnscAllocateMemory", "AnscFreeMemory", "signal", "open", "fputs", "fprintf", "fclose", "getpid", "sleep"], "search-terms": ["/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "TR-069", "ccsp_tr069_pa", "engage", "daemon", "signal handler", "core dump", "CCSP", "CPE controller", "system configuration", "system signals"], "state": 2, "file_id": 7400, "knowledge_revision": 20478, "git_revision": "", "ctags": [{"_type": "tag", "name": "CCSP_COMMON_COMPONENT_HEALTH_Green", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "pattern": "/^#define  CCSP_COMMON_COMPONENT_HEALTH_Green /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "CCSP_COMMON_COMPONENT_HEALTH_Red", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "pattern": "/^#define  CCSP_COMMON_COMPONENT_HEALTH_Red /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "CCSP_COMMON_COMPONENT_HEALTH_Yellow", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "pattern": "/^#define  CCSP_COMMON_COMPONENT_HEALTH_Yellow /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "CCSP_TR069PA_CFG_FILE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "pattern": "/^#define  CCSP_TR069PA_CFG_FILE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "CCSP_TR069PA_DEF_MAPPER_XML_FILE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "pattern": "/^#define  CCSP_TR069PA_DEF_MAPPER_XML_FILE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "DEBUG_INI_NAME", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "pattern": "/^#define DEBUG_INI_NAME /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "TITLE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "pattern": "/^#define TITLE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "_print_stack_backtrace", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "pattern": "/^static void _print_stack_backtrace(void)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "appcaps", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "pattern": "/^static cap_user appcaps;$/", "file": true, "language": "C", "typeref": "typename:cap_user", "kind": "variable"}, {"_type": "tag", "name": "bEngaged", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "pattern": "/^BOOL                                bEngaged                = FALSE;$/", "language": "C", "typeref": "typename:BOOL", "kind": "variable"}, {"_type": "tag", "name": "cancel_tr069pa", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "pattern": "/^int  cancel_tr069pa()$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "ccspCwmpCfgIf", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "pattern": "/^CCSP_CWMP_CFG_INTERFACE             ccspCwmpCfgIf;$/", "language": "C", "typeref": "typename:CCSP_CWMP_CFG_INTERFACE", "kind": "variable"}, {"_type": "tag", "name": "cmd_dispatch", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "pattern": "/^int  cmd_dispatch(int  command)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(int command)"}, {"_type": "tag", "name": "daemonize", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "pattern": "/^static void daemonize(void) {$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "display_info", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "pattern": "/^int  display_info()$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "display_menu", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "pattern": "/^int  display_menu()$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "drop_root", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "pattern": "/^static void drop_root()$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "engage_tr069pa", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "pattern": "/^int  engage_tr069pa()$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "g_CrName", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "pattern": "/^static char                         g_CrName[256]           = {0};$/", "file": true, "language": "C", "typeref": "typename:char[256]", "kind": "variable"}, {"_type": "tag", "name": "g_PaCustMapperFile", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "pattern": "/^static char                         g_PaCustMapperFile[256] = {0};$/", "file": true, "language": "C", "typeref": "typename:char[256]", "kind": "variable"}, {"_type": "tag", "name": "g_PaMapperXmlFile", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "pattern": "/^static char                         g_PaMapperXmlFile[256]  = {0};$/", "file": true, "language": "C", "typeref": "typename:char[256]", "kind": "variable"}, {"_type": "tag", "name": "g_SdmXmlFile", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "pattern": "/^static char                         g_SdmXmlFile[256]       = {0};$/", "file": true, "language": "C", "typeref": "typename:char[256]", "kind": "variable"}, {"_type": "tag", "name": "g_Subsystem", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "pattern": "/^char                                g_Subsystem[32]         = {0};$/", "language": "C", "typeref": "typename:char[32]", "kind": "variable"}, {"_type": "tag", "name": "g_Tr069PaAcsDefAddr", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "pattern": "/^char* g_Tr069PaAcsDefAddr = NULL;$/", "language": "C", "typeref": "typename:char *", "kind": "variable"}, {"_type": "tag", "name": "g_Tr069PaName", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "pattern": "/^static char                         g_Tr069PaName[256]      = {0};$/", "file": true, "language": "C", "typeref": "typename:char[256]", "kind": "variable"}, {"_type": "tag", "name": "g_Tr069PaOutboundIfName", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "pattern": "/^char* g_Tr069PaOutboundIfName = NULL;$/", "language": "C", "typeref": "typename:char *", "kind": "variable"}, {"_type": "tag", "name": "g_Tr069_PA_Name", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "pattern": "/^char*                               g_Tr069_PA_Name         = g_Tr069PaName;$/", "language": "C", "typeref": "typename:char *", "kind": "variable"}, {"_type": "tag", "name": "g_pCcspCwmpCpeController", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "pattern": "/^PCCSP_CWMP_CPE_CONTROLLER_OBJECT    g_pCcspCwmpCpeController    = NULL;$/", "language": "C", "typeref": "typename:PCCSP_CWMP_CPE_CONTROLLER_OBJECT", "kind": "variable"}, {"_type": "tag", "name": "g_tr069Health", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "pattern": "/^int g_tr069Health = CCSP_COMMON_COMPONENT_HEALTH_Red;$/", "language": "C", "typeref": "typename:int", "kind": "variable"}, {"_type": "tag", "name": "is_core_dump_opened", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "pattern": "/^static int is_core_dump_opened(void)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "is_customer_data_model", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "pattern": "/^static BOOL is_customer_data_model (void)$/", "file": true, "language": "C", "typeref": "typename:BOOL", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "main", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "pattern": "/^int main(int argc, char* argv[])$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(int argc,char * argv[])"}, {"_type": "tag", "name": "openssl_client_dev_certificate_file", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "pattern": "/^char* openssl_client_dev_certificate_file = NULL;$/", "language": "C", "typeref": "typename:char *", "kind": "variable"}, {"_type": "tag", "name": "openssl_client_private_key_file", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "pattern": "/^char* openssl_client_private_key_file = NULL;$/", "language": "C", "typeref": "typename:char *", "kind": "variable"}, {"_type": "tag", "name": "sig_handler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "pattern": "/^void sig_handler(int sig)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(int sig)"}, {"_type": "tag", "name": "ulMemTraceFromBlockId", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "pattern": "/^ULONG                               ulMemTraceFromBlockId   = 0;$/", "language": "C", "typeref": "typename:ULONG", "kind": "variable"}, {"_type": "tag", "name": "webAcmIf", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "pattern": "/^WEB_ACM_INTERFACE                   webAcmIf;$/", "language": "C", "typeref": "typename:WEB_ACM_INTERFACE", "kind": "variable"}], "hash": "7ba36332e8590e6773e0a1215aeab4a2", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/CcspTr069Pa/source-embedded/Ssp/ssp_main.c", "fields": [{"name": "cap_user appcaps", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "BOOL bEngaged", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "CCSP_CWMP_CFG_INTERFACE ccspCwmpCfgIf", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char[256] g_CrName", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char[256] g_PaCustMapperFile", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char[256] g_PaMapperXmlFile", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char[256] g_SdmXmlFile", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char[32] g_Subsystem", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char * g_Tr069PaAcsDefAddr", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char[256] g_Tr069PaName", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char * g_Tr069PaOutboundIfName", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char * g_Tr069_PA_Name", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "PCCSP_CWMP_CPE_CONTROLLER_OBJECT g_pCcspCwmpCpeController", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int g_tr069Health", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char * openssl_client_dev_certificate_file", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char * openssl_client_private_key_file", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ULONG ulMemTraceFromBlockId", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "WEB_ACM_INTERFACE webAcmIf", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"20478": ""}]}