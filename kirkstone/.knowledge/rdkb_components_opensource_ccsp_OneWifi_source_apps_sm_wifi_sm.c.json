{"is_source_file": true, "format": "C", "description": "This file contains implementation of Wi-Fi state machine and response handlers for various Wi-Fi monitoring and survey responses. It includes logic for converting scan types, handling provider responses, scheduling scans, managing configuration, and initializing/deinitializing the Wi-Fi state machine.", "external_files": ["<opensync/dppline.h>", "<qm_conn.h>", "scheduler.h", "sm_cache.h", "sm_report.h", "wifi_hal.h", "wifi_mgr.h", "wifi_sm.h", "const.h"], "external_methods": ["get_wifimgr_obj()", "hash_map_get()", "hash_map_get_first()", "hash_map_get_next()", "hash_map_put()", "hash_map_remove()", "webconfig_subdoc_data_t and related accessors", "push_event_to_monitor_queue()", "convert_vap_index_to_vap_array_index()", "convert_vap_index_to_name()", "convert_vap_name_to_array_index()", "getNumberVAPsPerRadio()", "isVapSTAMesh()", "sm_report_start_task()", "sm_report_init()", "sm_report_deinit()", "app_init()", "dpp_init()", "free()", "memset()", "memcpy()", "snprintf()", "timeval_to_ms()", "is_scan_scheduled()", "getRdkWifiVap()", "TIME to ms conversion functions"], "published": ["sm_event", "sm_init", "sm_deinit", "handle_sm_webconfig_event", "monitor_event_sm", "handle_sm_command_event"], "classes": [], "methods": [{"name": "int assoc_client_response(wifi_provider_response_t * provider_response)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int capacity_config_to_monitor_queue(wifi_monitor_data_t * data,stats_config_t * stat_config_entry)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int capacity_response(wifi_provider_response_t * provider_response)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int client_diag_config_to_monitor_queue(wifi_monitor_data_t * data,stats_config_t * stat_config_entry)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int free_sm_stats_config_map(wifi_app_t * app)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int generate_vap_mask_for_radio_index(unsigned int radio_index)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int handle_monitor_provider_response(wifi_app_t * app,wifi_event_t * event)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int handle_ready_client_stats(client_assoc_data_t * stats,size_t stats_num,unsigned int vap_mask,unsigned int radio_index)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int handle_sm_command_event(wifi_app_t * app,wifi_event_t * event)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int handle_sm_webconfig_event(wifi_app_t * app,wifi_event_t * event)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool is_scan_scheduled(wifi_app_t * app,stats_config_t * config)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int monitor_event_sm(wifi_app_t * app,wifi_event_t * event)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int neighbor_config_to_monitor_queue(wifi_monitor_data_t * data,stats_config_t * stat_config_entry)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int neighbor_response(wifi_provider_response_t * provider_response)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int push_sm_config_event_to_monitor_queue(wifi_app_t * app,wifi_mon_stats_request_state_t state,stats_config_t * stat_config_entry)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int sm_common_config_to_monitor_queue(wifi_monitor_data_t * data,stats_config_t * stat_config_entry)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int sm_deinit(wifi_app_t * app)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int sm_event(wifi_app_t * app,wifi_event_t * event)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int sm_init(wifi_app_t * app,unsigned int create_flag)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int sm_route(wifi_event_route_t * route)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int sm_survey_type_conversion(wifi_neighborScanMode_t * halw_scan_type,survey_type_t * app_stat_type,unsigned int conv_type)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int survey_config_to_monitor_queue(wifi_monitor_data_t * data,stats_config_t * stat_config_entry)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int survey_response(wifi_provider_response_t * provider_response)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["sm_survey_type_conversion", "sm_route", "neighbor_response", "survey_response", "handle_ready_client_stats", "assoc_client_response", "capacity_response", "push_event_to_monitor_queue", "sm_common_config_to_monitor_queue", "neighbor_config_to_monitor_queue", "survey_config_to_monitor_queue", "client_diag_config_to_monitor_queue", "capacity_config_to_monitor_queue", "sm_report_start_task", "hash_map_get", "hash_map_get_first", "hash_map_get_next", "hash_map_put", "hash_map_remove", "get_wifimgr_obj", "isVapSTAMesh", "generate_vap_mask_for_radio_index", "convert_vap_index_to_name", "convert_vap_name_to_array_index", "getNumberVAPsPerRadio", "sm_report_init", "sm_report_deinit", "app_init", "dpp_init", "free", "memset", "memcpy", "snprintf", "timeval_to_ms", "push_sm_config_event_to_monitor_queue", "hash_map_create", "hash_map_destroy", "is_scan_scheduled", "getRdkWifiVap", "convert_freq_band_to_radio_index"], "search-terms": ["wifi_sm", "neighbor_response", "survey_response", "assoc_client_response", "capacity_response", "sm_webconfig_event", "sm_command_event", "monitor_event_sm", "wifi_provider_response_t", "wifi_event_route_t", "survey_type_t", "stats_config_t"], "state": 2, "file_id": 6064, "knowledge_revision": 19173, "git_revision": "", "ctags": [{"_type": "tag", "name": "APP_TO_DCA", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/wifi_sm.c", "pattern": "/^#define APP_TO_DCA /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "DCA_TO_APP", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/wifi_sm.c", "pattern": "/^#define DCA_TO_APP /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "__anonc8b43d3c0108", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/wifi_sm.c", "pattern": "/^typedef struct {$/", "file": true, "language": "C", "kind": "struct"}, {"_type": "tag", "name": "__anonc8b43d3c0208", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/wifi_sm.c", "pattern": "/^typedef struct {$/", "file": true, "language": "C", "kind": "struct"}, {"_type": "tag", "name": "assoc_client_response", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/wifi_sm.c", "pattern": "/^int assoc_client_response(wifi_provider_response_t *provider_response)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(wifi_provider_response_t * provider_response)"}, {"_type": "tag", "name": "assoc_stats", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/wifi_sm.c", "pattern": "/^    sta_data_t  assoc_stats[MAX_ASSOCIATED_WIFI_DEVS];$/", "file": true, "language": "C", "typeref": "typename:sta_data_t[]", "kind": "member", "scope": "__anonc8b43d3c0108", "scopeKind": "struct"}, {"_type": "tag", "name": "assoc_stats_vap_presence_mask", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/wifi_sm.c", "pattern": "/^    unsigned int    assoc_stats_vap_presence_mask;$/", "file": true, "language": "C", "typeref": "typename:unsigned int", "kind": "member", "scope": "__anonc8b43d3c0208", "scopeKind": "struct"}, {"_type": "tag", "name": "capacity_config_to_monitor_queue", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/wifi_sm.c", "pattern": "/^int capacity_config_to_monitor_queue(wifi_monitor_data_t *data, stats_config_t *stat_config_entr/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(wifi_monitor_data_t * data,stats_config_t * stat_config_entry)"}, {"_type": "tag", "name": "capacity_response", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/wifi_sm.c", "pattern": "/^int capacity_response(wifi_provider_response_t *provider_response)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(wifi_provider_response_t * provider_response)"}, {"_type": "tag", "name": "client_assoc_data", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/wifi_sm.c", "pattern": "/^    client_assoc_data_t client_assoc_data[MAX_NUM_VAP_PER_RADIO];$/", "file": true, "language": "C", "typeref": "typename:client_assoc_data_t[]", "kind": "member", "scope": "__anonc8b43d3c0208", "scopeKind": "struct"}, {"_type": "tag", "name": "client_assoc_data_t", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/wifi_sm.c", "pattern": "/^} client_assoc_data_t;$/", "file": true, "language": "C", "typeref": "struct:__anonc8b43d3c0108", "kind": "typedef"}, {"_type": "tag", "name": "client_assoc_stats", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/wifi_sm.c", "pattern": "/^client_assoc_stats_t client_assoc_stats[MAX_NUM_RADIOS];$/", "language": "C", "typeref": "typename:client_assoc_stats_t[]", "kind": "variable"}, {"_type": "tag", "name": "client_assoc_stats_t", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/wifi_sm.c", "pattern": "/^} client_assoc_stats_t;$/", "file": true, "language": "C", "typeref": "struct:__anonc8b43d3c0208", "kind": "typedef"}, {"_type": "tag", "name": "client_diag_config_to_monitor_queue", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/wifi_sm.c", "pattern": "/^int client_diag_config_to_monitor_queue(wifi_monitor_data_t *data, stats_config_t *stat_config_e/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(wifi_monitor_data_t * data,stats_config_t * stat_config_entry)"}, {"_type": "tag", "name": "free_sm_stats_config_map", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/wifi_sm.c", "pattern": "/^int free_sm_stats_config_map(wifi_app_t *app)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(wifi_app_t * app)"}, {"_type": "tag", "name": "generate_vap_mask_for_radio_index", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/wifi_sm.c", "pattern": "/^int generate_vap_mask_for_radio_index(unsigned int radio_index)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(unsigned int radio_index)"}, {"_type": "tag", "name": "handle_monitor_provider_response", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/wifi_sm.c", "pattern": "/^int handle_monitor_provider_response(wifi_app_t *app, wifi_event_t *event)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(wifi_app_t * app,wifi_event_t * event)"}, {"_type": "tag", "name": "handle_ready_client_stats", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/wifi_sm.c", "pattern": "/^static int handle_ready_client_stats(client_assoc_data_t *stats, size_t stats_num, unsigned int /", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(client_assoc_data_t * stats,size_t stats_num,unsigned int vap_mask,unsigned int radio_index)"}, {"_type": "tag", "name": "handle_sm_command_event", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/wifi_sm.c", "pattern": "/^int handle_sm_command_event(wifi_app_t *app, wifi_event_t *event)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(wifi_app_t * app,wifi_event_t * event)"}, {"_type": "tag", "name": "handle_sm_webconfig_event", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/wifi_sm.c", "pattern": "/^int handle_sm_webconfig_event(wifi_app_t *app, wifi_event_t *event)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(wifi_app_t * app,wifi_event_t * event)"}, {"_type": "tag", "name": "is_scan_scheduled", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/wifi_sm.c", "pattern": "/^bool is_scan_scheduled(wifi_app_t *app, stats_config_t *config)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(wifi_app_t * app,stats_config_t * config)"}, {"_type": "tag", "name": "monitor_event_sm", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/wifi_sm.c", "pattern": "/^int monitor_event_sm(wifi_app_t *app, wifi_event_t *event)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(wifi_app_t * app,wifi_event_t * event)"}, {"_type": "tag", "name": "neighbor_config_to_monitor_queue", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/wifi_sm.c", "pattern": "/^int neighbor_config_to_monitor_queue(wifi_monitor_data_t *data, stats_config_t *stat_config_entr/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(wifi_monitor_data_t * data,stats_config_t * stat_config_entry)"}, {"_type": "tag", "name": "neighbor_response", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/wifi_sm.c", "pattern": "/^int neighbor_response(wifi_provider_response_t *provider_response)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(wifi_provider_response_t * provider_response)"}, {"_type": "tag", "name": "push_sm_config_event_to_monitor_queue", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/wifi_sm.c", "pattern": "/^int push_sm_config_event_to_monitor_queue(wifi_app_t *app, wifi_mon_stats_request_state_t state,/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(wifi_app_t * app,wifi_mon_stats_request_state_t state,stats_config_t * stat_config_entry)"}, {"_type": "tag", "name": "req_stats_vap_mask", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/wifi_sm.c", "pattern": "/^    unsigned int    req_stats_vap_mask;$/", "file": true, "language": "C", "typeref": "typename:unsigned int", "kind": "member", "scope": "__anonc8b43d3c0208", "scopeKind": "struct"}, {"_type": "tag", "name": "sm_common_config_to_monitor_queue", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/wifi_sm.c", "pattern": "/^int sm_common_config_to_monitor_queue(wifi_monitor_data_t *data, stats_config_t *stat_config_ent/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(wifi_monitor_data_t * data,stats_config_t * stat_config_entry)"}, {"_type": "tag", "name": "sm_deinit", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/wifi_sm.c", "pattern": "/^int sm_deinit(wifi_app_t *app)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(wifi_app_t * app)"}, {"_type": "tag", "name": "sm_event", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/wifi_sm.c", "pattern": "/^int sm_event(wifi_app_t *app, wifi_event_t *event)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(wifi_app_t * app,wifi_event_t * event)"}, {"_type": "tag", "name": "sm_init", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/wifi_sm.c", "pattern": "/^int sm_init(wifi_app_t *app, unsigned int create_flag)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(wifi_app_t * app,unsigned int create_flag)"}, {"_type": "tag", "name": "sm_route", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/wifi_sm.c", "pattern": "/^int sm_route(wifi_event_route_t *route)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(wifi_event_route_t * route)"}, {"_type": "tag", "name": "sm_survey_type_conversion", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/wifi_sm.c", "pattern": "/^int sm_survey_type_conversion(wifi_neighborScanMode_t *halw_scan_type, survey_type_t *app_stat_t/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(wifi_neighborScanMode_t * halw_scan_type,survey_type_t * app_stat_type,unsigned int conv_type)"}, {"_type": "tag", "name": "stat_array_size", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/wifi_sm.c", "pattern": "/^    size_t      stat_array_size;$/", "file": true, "language": "C", "typeref": "typename:size_t", "kind": "member", "scope": "__anonc8b43d3c0108", "scopeKind": "struct"}, {"_type": "tag", "name": "survey_config_to_monitor_queue", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/wifi_sm.c", "pattern": "/^int survey_config_to_monitor_queue(wifi_monitor_data_t *data, stats_config_t *stat_config_entry)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(wifi_monitor_data_t * data,stats_config_t * stat_config_entry)"}, {"_type": "tag", "name": "survey_response", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/wifi_sm.c", "pattern": "/^int survey_response(wifi_provider_response_t *provider_response)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(wifi_provider_response_t * provider_response)"}], "hash": "891acfc9d1cdfec48b88376185e809b5", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/wifi_sm.c", "fields": [{"name": "sta_data_t[] assoc_stats", "scope": "__anonc8b43d3c0108", "scopeKind": "struct", "description": "unavailable"}, {"name": "unsigned int assoc_stats_vap_presence_mask", "scope": "__anonc8b43d3c0208", "scopeKind": "struct", "description": "unavailable"}, {"name": "client_assoc_data_t[] client_assoc_data", "scope": "__anonc8b43d3c0208", "scopeKind": "struct", "description": "unavailable"}, {"name": "client_assoc_stats_t[] client_assoc_stats", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "unsigned int req_stats_vap_mask", "scope": "__anonc8b43d3c0208", "scopeKind": "struct", "description": "unavailable"}, {"name": "size_t stat_array_size", "scope": "__anonc8b43d3c0108", "scopeKind": "struct", "description": "unavailable"}], "revision_history": [{"19173": ""}]}