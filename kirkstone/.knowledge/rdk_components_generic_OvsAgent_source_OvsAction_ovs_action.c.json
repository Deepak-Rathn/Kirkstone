{"is_source_file": true, "format": "C", "description": "This file contains implementation of OVS (Open vSwitch) related actions and configurations, including functions to create, delete, and modify network bridges, VLANs, GRE tunnels, and flows, as well as handling specific device models and interfaces.", "external_files": ["common/OvsAgentLog.h", "OvsAction/ovs_action.h", "OvsAction/syscfg.h", "OvsAgentSsp/cosa_api.h", "secure_wrapper.h"], "external_methods": ["Cosa_FindDestComp", "Cosa_GetParamValues", "Cosa_FreeParamValues", "SyscfgGet", "SyscfgInit", "v_secure_system", "v_secure_popen", "v_secure_pclose"], "published": ["ovs_action_init", "ovs_action_gateway_config", "ovs_action_feedback"], "classes": [], "methods": [{"name": "bool SetModelNum(const char * model_num,ovs_action_config * config)", "description": "Sets device model enumeration based on input model number string.", "scope": "", "scopeKind": ""}, {"name": "bool SetOneWifiEnabled(const char * enabled,ovs_action_config * config)", "description": "Configures the oneWifiEnabled boolean flag based on a string input.", "scope": "", "scopeKind": ""}, {"name": "char * getVlanFromInterfaceName(const char * ifName)", "description": "Extracts VLAN ID from interface name string.", "scope": "", "scopeKind": ""}, {"name": "OVS_STATUS setupAndRestoreEthSwitchCmds(char * ifName,char * ifPath,char * ifVlan,char * restoreIfName,char * restoreBridge,char * restorePath,char * restoreVlan)", "description": "Performs setup and restoration of Ethernet switch port commands.", "scope": "", "scopeKind": ""}, {"name": "OVS_STATUS setupEthSwitchCmds(char * ifName,char * ifPath,char * ifVlan)", "description": "Sets up Ethernet switch commands for a specific port.", "scope": "", "scopeKind": ""}, {"name": "OVS_STATUS ovs_setupEthSwitch(char * ifName)", "description": "Handles special setup logic for Puma7 Ethernet switch ports, including path and bridge restoration.", "scope": "", "scopeKind": ""}, {"name": "bool GetLan0IPAddess(char * ip_address,size_t size)", "description": "Retrieves LAN0 IP address using syscfg or equivalent.", "scope": "", "scopeKind": ""}, {"name": "OVS_STATUS ovs_setup_admin_gui_access(Gateway_Config * req)", "description": "Sets up OpenFlow rules to allow admin GUI access in bridge mode.", "scope": "", "scopeKind": ""}, {"name": "bool GetCosaParamValues(char ** paramNames,const int numParams,int * paramSize,parameterValStruct_t *** paramValues)", "description": "Fetches parameter values from Cosa framework.", "scope": "", "scopeKind": ""}, {"name": "OVS_STATUS ovs_block_mso_ui_access(Gateway_Config * req)", "description": "Adds flow rules to block MSO UI access for security purposes.", "scope": "", "scopeKind": ""}, {"name": "OVS_STATUS ovs_setup_brcm_wifi_flows(Gateway_Config * req)", "description": "Sets up Broadcom-specific wifi flows based on device model.", "scope": "", "scopeKind": ""}, {"name": "OVS_STATUS getExistingOvsParentBridge(char * if_name,char * existing_bridge,size_t size,bool * found)", "description": "Checks for existing OVS bridge associated with a network interface.", "scope": "", "scopeKind": ""}, {"name": "OVS_STATUS getExistingLinuxParentBridge(char * if_name,char * existing_bridge,size_t size,bool * found)", "description": "Checks for underlying Linux bridge associated with an interface.", "scope": "", "scopeKind": ""}, {"name": "OVS_STATUS removeExistingInterfacePort(Gateway_Config * req,bool ovs_enabled)", "description": "Removes a network port from its current bridge (OVS or Linux).", "scope": "", "scopeKind": ""}, {"name": "OVS_STATUS configureParentBridge(Gateway_Config * req,bool ovs_enabled,bool * exists)", "description": "Creates or updates a parent network bridge and adds ports, configured either via OVS or Linux bridge utilities.", "scope": "", "scopeKind": ""}, {"name": "OVS_STATUS ovs_setup_bridge_flows(Gateway_Config * req)", "description": "Configures OpenFlow flows related to the main bridge based on device configuration.", "scope": "", "scopeKind": ""}, {"name": "OVS_STATUS ovs_modifyParentBridge(Gateway_Config * req)", "description": "Modifies parent bridge configurations, creating bridges if needed, and adds ports.", "scope": "", "scopeKind": ""}, {"name": "OVS_STATUS ovs_setup_port_flows(Gateway_Config * req)", "description": "Sets up port-specific OpenFlow flows, including admin GUI access and UI blocking.", "scope": "", "scopeKind": ""}, {"name": "OVS_STATUS ovs_createBridge(Gateway_Config * req)", "description": "Creates or deletes a network bridge, configures IP and MTU, and sets up flows.", "scope": "", "scopeKind": ""}, {"name": "OVS_STATUS ovs_createVlan(Gateway_Config * req)", "description": "Creates or deletes VLAN interfaces and adjusts parent bridge configuration.", "scope": "", "scopeKind": ""}, {"name": "OVS_STATUS ovs_createGRE(Gateway_Config * req)", "description": "Creates or deletes GRE tunnels based on configuration.", "scope": "", "scopeKind": ""}, {"name": "OVS_STATUS ovs_addPort(Gateway_Config * req)", "description": "Adds or removes network interfaces to bridges and configures interface states.", "scope": "", "scopeKind": ""}, {"name": "OVS_STATUS ovs_action_init()", "description": "Initializes the OVS actions module, setting device model and enabling features.", "scope": "", "scopeKind": ""}, {"name": "void update_openflow_priority_conf()", "description": "Updates OpenFlow flow priorities based on interface list.", "scope": "", "scopeKind": ""}, {"name": "OVS_STATUS ovs_action_gateway_config(Gateway_Config * req)", "description": "Main entry point for device configuration commands related to bridges, VLANs, GRE, and ports.", "scope": "", "scopeKind": ""}, {"name": "OVS_STATUS ovs_action_feedback(Feedback * req)", "description": "Stub for providing feedback, currently just returns success.", "scope": "", "scopeKind": ""}], "calls": ["Cosa_FindDestComp", "Cosa_GetParamValues", "Cosa_FreeParamValues", "SyscfgGet", "v_secure_system", "v_secure_popen", "v_secure_pclose"], "search-terms": ["ovs", "OpenFlow", "bridge", "VLAN", "GRE", "puma7", "bridge creation", "port configuration", "admin GUI flows", "block MSO UI", "model number", "syscfg", "Linux bridge"], "state": 2, "file_id": 12738, "knowledge_revision": 25651, "git_revision": "", "ctags": [{"_type": "tag", "name": "BUFF_SIZE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^#define BUFF_SIZE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "CMD_BUFF_SIZE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^#define CMD_BUFF_SIZE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "GetCosaParamValues", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^static bool GetCosaParamValues(char **paramNames, const int numParams,$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(char ** paramNames,const int numParams,int * paramSize,parameterValStruct_t *** paramValues)"}, {"_type": "tag", "name": "GetLan0IPAddess", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^static bool GetLan0IPAddess(char *ip_address, size_t size)$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(char * ip_address,size_t size)"}, {"_type": "tag", "name": "MAC_ADDR_STR_LEN", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^#define MAC_ADDR_STR_LEN /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MAX_IP_ADDR_STR_LEN", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^#define MAX_IP_ADDR_STR_LEN /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MIN_IP_ADDR_STR_LEN", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^#define MIN_IP_ADDR_STR_LEN /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "OVS_PRIORITY_FILE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^#define OVS_PRIORITY_FILE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "SetModelNum", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^static bool SetModelNum(const char * model_num, ovs_action_config * config)$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(const char * model_num,ovs_action_config * config)"}, {"_type": "tag", "name": "SetOneWifiEnabled", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^static bool SetOneWifiEnabled(const char * enabled, ovs_action_config * config)$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(const char * enabled,ovs_action_config * config)"}, {"_type": "tag", "name": "TMP_STRING_SIZE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^#define TMP_STRING_SIZE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "configureParentBridge", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^static OVS_STATUS configureParentBridge(Gateway_Config * req, bool ovs_enabled,$/", "file": true, "language": "C", "typeref": "typename:OVS_STATUS", "kind": "function", "signature": "(Gateway_Config * req,bool ovs_enabled,bool * exists)"}, {"_type": "tag", "name": "g_ovsActionConfig", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^static ovs_action_config g_ovsActionConfig = {0};$/", "file": true, "language": "C", "typeref": "typename:ovs_action_config", "kind": "variable"}, {"_type": "tag", "name": "getExistingLinuxParentBridge", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^static OVS_STATUS getExistingLinuxParentBridge(char * if_name,$/", "file": true, "language": "C", "typeref": "typename:OVS_STATUS", "kind": "function", "signature": "(char * if_name,char * existing_bridge,size_t size,bool * found)"}, {"_type": "tag", "name": "getExistingOvsParentBridge", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^static OVS_STATUS getExistingOvsParentBridge(char * if_name,$/", "file": true, "language": "C", "typeref": "typename:OVS_STATUS", "kind": "function", "signature": "(char * if_name,char * existing_bridge,size_t size,bool * found)"}, {"_type": "tag", "name": "getVlanFromInterfaceName", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^static char * getVlanFromInterfaceName(const char *ifName)$/", "file": true, "language": "C", "typeref": "typename:char *", "kind": "function", "signature": "(const char * ifName)"}, {"_type": "tag", "name": "modelNum", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^    OVS_DEVICE_MODEL modelNum; \\/\\/ RDKB Device Model Number$/", "file": true, "language": "C", "typeref": "typename:OVS_DEVICE_MODEL", "kind": "member", "scope": "ovs_action_config", "scopeKind": "struct"}, {"_type": "tag", "name": "oneWifiEnabled", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^    bool             oneWifiEnabled;$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "member", "scope": "ovs_action_config", "scopeKind": "struct"}, {"_type": "tag", "name": "ovs_action_config", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^typedef struct ovs_action_config$/", "file": true, "language": "C", "kind": "struct"}, {"_type": "tag", "name": "ovs_action_config", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^} ovs_action_config;$/", "file": true, "language": "C", "typeref": "struct:ovs_action_config", "kind": "typedef"}, {"_type": "tag", "name": "ovs_action_feedback", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^OVS_STATUS ovs_action_feedback(Feedback * req)$/", "language": "C", "typeref": "typename:OVS_STATUS", "kind": "function", "signature": "(Feedback * req)"}, {"_type": "tag", "name": "ovs_action_gateway_config", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^OVS_STATUS ovs_action_gateway_config(Gateway_Config * req)$/", "language": "C", "typeref": "typename:OVS_STATUS", "kind": "function", "signature": "(Gateway_Config * req)"}, {"_type": "tag", "name": "ovs_action_init", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^OVS_STATUS ovs_action_init()$/", "language": "C", "typeref": "typename:OVS_STATUS", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "ovs_addPort", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^static OVS_STATUS ovs_addPort(Gateway_Config * req)$/", "file": true, "language": "C", "typeref": "typename:OVS_STATUS", "kind": "function", "signature": "(Gateway_Config * req)"}, {"_type": "tag", "name": "ovs_block_mso_ui_access", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^static OVS_STATUS ovs_block_mso_ui_access(Gateway_Config * req)$/", "file": true, "language": "C", "typeref": "typename:OVS_STATUS", "kind": "function", "signature": "(Gateway_Config * req)"}, {"_type": "tag", "name": "ovs_createBridge", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^static OVS_STATUS ovs_createBridge(Gateway_Config * req)$/", "file": true, "language": "C", "typeref": "typename:OVS_STATUS", "kind": "function", "signature": "(Gateway_Config * req)"}, {"_type": "tag", "name": "ovs_createGRE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^static OVS_STATUS ovs_createGRE(Gateway_Config * req)$/", "file": true, "language": "C", "typeref": "typename:OVS_STATUS", "kind": "function", "signature": "(Gateway_Config * req)"}, {"_type": "tag", "name": "ovs_createVlan", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^static OVS_STATUS ovs_createVlan(Gateway_Config * req)$/", "file": true, "language": "C", "typeref": "typename:OVS_STATUS", "kind": "function", "signature": "(Gateway_Config * req)"}, {"_type": "tag", "name": "ovs_modifyParentBridge", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^static OVS_STATUS ovs_modifyParentBridge(Gateway_Config * req)$/", "file": true, "language": "C", "typeref": "typename:OVS_STATUS", "kind": "function", "signature": "(Gateway_Config * req)"}, {"_type": "tag", "name": "ovs_setupEthSwitch", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^static OVS_STATUS ovs_setupEthSwitch(char *ifName)$/", "file": true, "language": "C", "typeref": "typename:OVS_STATUS", "kind": "function", "signature": "(char * ifName)"}, {"_type": "tag", "name": "ovs_setup_admin_gui_access", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^static OVS_STATUS ovs_setup_admin_gui_access(Gateway_Config * req)$/", "file": true, "language": "C", "typeref": "typename:OVS_STATUS", "kind": "function", "signature": "(Gateway_Config * req)"}, {"_type": "tag", "name": "ovs_setup_brcm_wifi_flows", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^static OVS_STATUS ovs_setup_brcm_wifi_flows(Gateway_Config * req)$/", "file": true, "language": "C", "typeref": "typename:OVS_STATUS", "kind": "function", "signature": "(Gateway_Config * req)"}, {"_type": "tag", "name": "ovs_setup_bridge_flows", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^static OVS_STATUS ovs_setup_bridge_flows(Gateway_Config * req)$/", "file": true, "language": "C", "typeref": "typename:OVS_STATUS", "kind": "function", "signature": "(Gateway_Config * req)"}, {"_type": "tag", "name": "ovs_setup_port_flows", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^static OVS_STATUS ovs_setup_port_flows(Gateway_Config * req)$/", "file": true, "language": "C", "typeref": "typename:OVS_STATUS", "kind": "function", "signature": "(Gateway_Config * req)"}, {"_type": "tag", "name": "removeExistingInterfacePort", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^static OVS_STATUS removeExistingInterfacePort(Gateway_Config * req, bool ovs_enabled)$/", "file": true, "language": "C", "typeref": "typename:OVS_STATUS", "kind": "function", "signature": "(Gateway_Config * req,bool ovs_enabled)"}, {"_type": "tag", "name": "setupAndRestoreEthSwitchCmds", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^static OVS_STATUS setupAndRestoreEthSwitchCmds(char *ifName, char *ifPath,$/", "file": true, "language": "C", "typeref": "typename:OVS_STATUS", "kind": "function", "signature": "(char * ifName,char * ifPath,char * ifVlan,char * restoreIfName,char * restoreBridge,char * restorePath,char * restoreVlan)"}, {"_type": "tag", "name": "setupEthSwitchCmds", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^static OVS_STATUS setupEthSwitchCmds(char *ifName, char *ifPath, char *ifVlan)$/", "file": true, "language": "C", "typeref": "typename:OVS_STATUS", "kind": "function", "signature": "(char * ifName,char * ifPath,char * ifVlan)"}, {"_type": "tag", "name": "update_openflow_priority_conf", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "pattern": "/^void update_openflow_priority_conf()$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}], "hash": "63b6ccd7b1fc630a4656002886ce80a7", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdk/components/generic/OvsAgent/source/OvsAction/ovs_action.c", "fields": [{"name": "ovs_action_config g_ovsActionConfig", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "OVS_DEVICE_MODEL modelNum", "scope": "ovs_action_config", "scopeKind": "struct", "description": "unavailable"}, {"name": "bool oneWifiEnabled", "scope": "ovs_action_config", "scopeKind": "struct", "description": "unavailable"}], "revision_history": [{"25651": ""}]}