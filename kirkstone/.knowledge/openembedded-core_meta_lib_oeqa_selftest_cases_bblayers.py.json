{"is_source_file": true, "format": "Python", "description": "This source file contains a set of automated test cases for validating Bitbake layer commands and functionalities in the Yocto Project build environment. It defines a class 'BitbakeLayers' with various methods to test layer dependencies, overlays, flattening, adding/removing layers, and creating new layers.", "external_files": ["oeqa.utils.ftools", "oeqa.utils.commands", "oeqa.selftest.case"], "external_methods": ["runCmd", "get_bb_var", "get_bb_vars"], "published": ["BitbakeLayers", "test_bitbakelayers_layerindexshowdepends", "test_bitbakelayers_showcrossdepends", "test_bitbakelayers_showlayers", "test_bitbakelayers_showappends", "test_bitbakelayers_showoverlayed", "test_bitbakelayers_flatten", "test_bitbakelayers_add_remove", "test_bitbakelayers_showrecipes", "test_bitbakelayers_createlayer", "get_recipe_basename"], "classes": [{"name": "BitbakeLayers", "description": "A test case class inheriting from OESelftestTestCase, designed to test Bitbake layer functionalities."}], "methods": [{"name": "test_bitbakelayers_layerindexshowdepends(self)", "description": "Tests the bitbake-layers layerindex-show-depends command for the meta-poky layer.", "scope": "BitbakeLayers", "scopeKind": "class"}, {"name": "test_bitbakelayers_showcrossdepends(self)", "description": "Checks the cross-dependencies shown by the bitbake-layers show-cross-depends command, expecting 'aspell' to be listed.", "scope": "BitbakeLayers", "scopeKind": "class"}, {"name": "test_bitbakelayers_showlayers(self)", "description": "Verifies the show-layers command lists 'meta-selftest'.", "scope": "BitbakeLayers", "scopeKind": "class"}, {"name": "test_bitbakelayers_showappends(self)", "description": "Verifies the show-appends command includes the 'xcursor-transparent-theme' recipe file.", "scope": "BitbakeLayers", "scopeKind": "class"}, {"name": "test_bitbakelayers_showoverlayed(self)", "description": "Checks the overlayed layers include 'aspell'.", "scope": "BitbakeLayers", "scopeKind": "class"}, {"name": "test_bitbakelayers_flatten(self)", "description": "Tests the flattening of specified layers and verifies the flattened .bb file contains expected content.", "scope": "BitbakeLayers", "scopeKind": "class"}, {"name": "test_bitbakelayers_add_remove(self)", "description": "Tests adding and removing a layer ('meta-skeleton') from bblayers.conf and verifies the changes.", "scope": "BitbakeLayers", "scopeKind": "class"}, {"name": "test_bitbakelayers_showrecipes(self)", "description": "Checks the show-recipes command with various filters to ensure correctness.", "scope": "BitbakeLayers", "scopeKind": "class"}, {"name": "test_bitbakelayers_createlayer(self)", "description": "Creates a new layer, verifies its addition, and checks associated bb vars.", "scope": "BitbakeLayers", "scopeKind": "class"}, {"name": "get_recipe_basename(self, recipe)", "description": "Finds the filename of the recipe for a given recipe name in the current environment.", "scope": "BitbakeLayers", "scopeKind": "class"}], "calls": ["runCmd", "get_bb_var", "get_bb_vars", "self.assertTrue", "self.assertIn", "self.assertNotIn", "self.assertFalse", "self.assertIsNotNone", "self.assertEqual", "self.assertNotEqual", "os.path.join", "os.path.isdir", "os.path.isfile", "os.path.exists", "os.path.basename", "re.search", "re.escape", "self.track_for_cleanup", "self.add_command_to_tearDown", "self.assertIn"], "search-terms": ["bitbake-layers", "selftest", "layer", "create-layer", "meta-skeleton", "flatten", "show-recipes", "dependency", "overlay", "add-layer", "remove-layer", "bblayers.conf", "BBFILE_PRIORITY", "BBFILE_COLLECTIONS"], "state": 2, "file_id": 1895, "knowledge_revision": 15038, "git_revision": "", "ctags": [{"_type": "tag", "name": "BitbakeLayers", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bblayers.py", "pattern": "/^class BitbakeLayers(OESelftestTestCase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ftools", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bblayers.py", "pattern": "/^import oeqa.utils.ftools as ftools$/", "language": "Python", "kind": "namespace", "nameref": "module:oeqa.utils.ftools"}, {"_type": "tag", "name": "get_recipe_basename", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bblayers.py", "pattern": "/^    def get_recipe_basename(self, recipe):$/", "language": "Python", "kind": "member", "signature": "(self, recipe)", "scope": "BitbakeLayers", "scopeKind": "class"}, {"_type": "tag", "name": "test_bitbakelayers_add_remove", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bblayers.py", "pattern": "/^    def test_bitbakelayers_add_remove(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeLayers", "scopeKind": "class"}, {"_type": "tag", "name": "test_bitbakelayers_createlayer", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bblayers.py", "pattern": "/^    def test_bitbakelayers_createlayer(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeLayers", "scopeKind": "class"}, {"_type": "tag", "name": "test_bitbakelayers_flatten", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bblayers.py", "pattern": "/^    def test_bitbakelayers_flatten(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeLayers", "scopeKind": "class"}, {"_type": "tag", "name": "test_bitbakelayers_layerindexshowdepends", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bblayers.py", "pattern": "/^    def test_bitbakelayers_layerindexshowdepends(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeLayers", "scopeKind": "class"}, {"_type": "tag", "name": "test_bitbakelayers_showappends", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bblayers.py", "pattern": "/^    def test_bitbakelayers_showappends(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeLayers", "scopeKind": "class"}, {"_type": "tag", "name": "test_bitbakelayers_showcrossdepends", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bblayers.py", "pattern": "/^    def test_bitbakelayers_showcrossdepends(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeLayers", "scopeKind": "class"}, {"_type": "tag", "name": "test_bitbakelayers_showlayers", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bblayers.py", "pattern": "/^    def test_bitbakelayers_showlayers(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeLayers", "scopeKind": "class"}, {"_type": "tag", "name": "test_bitbakelayers_showoverlayed", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bblayers.py", "pattern": "/^    def test_bitbakelayers_showoverlayed(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeLayers", "scopeKind": "class"}, {"_type": "tag", "name": "test_bitbakelayers_showrecipes", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bblayers.py", "pattern": "/^    def test_bitbakelayers_showrecipes(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeLayers", "scopeKind": "class"}], "hash": "e043891a3d416ba410d8aec503d7b36d", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "openembedded-core/meta/lib/oeqa/selftest/cases/bblayers.py", "revision_history": [{"15038": ""}]}