{"is_source_file": true, "format": "C", "description": "This source file implements a state machine for managing Ethernet interface states, including connection, validation, VLAN configuration, and link status management. It contains functions for starting the state machine thread, transitioning between states, and interfacing with external components to create or delete Ethernet links and update WAN status.", "external_files": ["cosa_ethernet_manager.h", "cosa_ethernet_apis.h", "<syscfg/syscfg.h>"], "external_methods": ["CosaDmlEthPortGetCopyOfGlobalInfoForGivenIfName", "CosaDmlEthCreateEthLink", "CosaDmlEthDeleteEthLink", "CosaDmlEthSetWanStatusForWanAgent", "CosaDmlEthSetWanInterfaceNameForWanManager", "CosaDmlEthSetWanLinkStatusForWanManager"], "published": ["CosaEthManager_Start_StateMachine"], "classes": [], "methods": [{"name": "void CosaEthManager_Start_StateMachine(PETH_SM_PRIVATE_INFO pstMPrivateInfo)", "description": "Initializes and starts the Ethernet state machine thread with provided private info.", "scope": "", "scopeKind": ""}, {"name": "void * CcspEthManager_StateMachineThread()", "description": "Main function executing the Ethernet link state machine logic in a separate thread.", "scope": "", "scopeKind": ""}, {"name": "ethSmState_t State_Exit(PETH_SM_PRIVATE_INFO pstInfo)", "description": "Handles the exit state of the Ethernet state machine.", "scope": "", "scopeKind": ""}, {"name": "ethSmState_t State_EthDisconnected(PETH_SM_PRIVATE_INFO pstInfo)", "description": "Manages the disconnected state, checks link status, and transitions accordingly.", "scope": "", "scopeKind": ""}, {"name": "ethSmState_t State_EthValidatingLink(PETH_SM_PRIVATE_INFO pstInfo)", "description": "Handles validation of Ethernet link status and triggers state transitions.", "scope": "", "scopeKind": ""}, {"name": "ethSmState_t State_EthVLANConfiguring(PETH_SM_PRIVATE_INFO pstInfo)", "description": "Manages VLAN configuration process on the Ethernet link.", "scope": "", "scopeKind": ""}, {"name": "ethSmState_t State_EthWanLinkUp(PETH_SM_PRIVATE_INFO pstInfo)", "description": "Handles the state when Ethernet WAN link is up and active.", "scope": "", "scopeKind": ""}, {"name": "ethSmState_t Transition_Start()", "description": "Initial transition to start the state machine.", "scope": "", "scopeKind": ""}, {"name": "ethSmState_t Transition_EthPhyInterfaceUp(PETH_SM_PRIVATE_INFO pstInfo)", "description": "Transition triggered when Ethernet physical interface is detected as up.", "scope": "", "scopeKind": ""}, {"name": "ethSmState_t Transition_EthWanLinkFound(PETH_SM_PRIVATE_INFO pstInfo)", "description": "Transition when a WAN link is detected; triggers creation of Ethernet link.", "scope": "", "scopeKind": ""}, {"name": "ethSmState_t Transition_EthWanLinkUp(PETH_SM_PRIVATE_INFO pstInfo)", "description": "Transition when WAN link is confirmed up; updates WAN status.", "scope": "", "scopeKind": ""}, {"name": "ethSmState_t Transition_EthPhyInterfaceDown(PETH_SM_PRIVATE_INFO pstInfo)", "description": "Transition when Ethernet physical interface goes down; cleans up Ethernet link and notifies WAN about down status.", "scope": "", "scopeKind": ""}, {"name": "ethSmState_t TransitionExit(PETH_SM_PRIVATE_INFO pstInfo)", "description": "Handles transition to exit state.", "scope": "", "scopeKind": ""}, {"name": "char * PrintEnumToString(const ethSmState_t state)", "description": "Converts internal state enum to string representation for logging.", "scope": "", "scopeKind": ""}], "calls": ["CosaDmlEthPortGetCopyOfGlobalInfoForGivenIfName", "CosaDmlEthCreateEthLink", "CosaDmlEthDeleteEthLink", "CosaDmlEthSetWanStatusForWanAgent", "CosaDmlEthSetWanInterfaceNameForWanManager", "CosaDmlEthSetWanLinkStatusForWanManager"], "search-terms": ["Ethernet link management", "WAN interface state machine", "Ethernet VLAN configuration", "WAN link up/down", "state machine thread"], "state": 2, "file_id": 6863, "knowledge_revision": 19958, "git_revision": "", "ctags": [{"_type": "tag", "name": "CcspEthManager_StateMachineThread", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/board_sbapi/cosa_ethernet_manager.c", "pattern": "/^static void *CcspEthManager_StateMachineThread()$/", "file": true, "language": "C", "typeref": "typename:void *", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "CcspEthManager_StateMachineThread_start", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/board_sbapi/cosa_ethernet_manager.c", "pattern": "/^static int CcspEthManager_StateMachineThread_start = FALSE;$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "variable"}, {"_type": "tag", "name": "CosaEthManager_Start_StateMachine", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/board_sbapi/cosa_ethernet_manager.c", "pattern": "/^void CosaEthManager_Start_StateMachine(PETH_SM_PRIVATE_INFO pstMPrivateInfo)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(PETH_SM_PRIVATE_INFO pstMPrivateInfo)"}, {"_type": "tag", "name": "ETH_IF_DOWN", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/board_sbapi/cosa_ethernet_manager.c", "pattern": "/^    ETH_IF_DOWN = 0,$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon02297ce30203", "scopeKind": "enum"}, {"_type": "tag", "name": "ETH_IF_UP", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/board_sbapi/cosa_ethernet_manager.c", "pattern": "/^    ETH_IF_UP,$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon02297ce30203", "scopeKind": "enum"}, {"_type": "tag", "name": "ETH_IF_WAN_DOWN", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/board_sbapi/cosa_ethernet_manager.c", "pattern": "/^    ETH_IF_WAN_DOWN,$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon02297ce30203", "scopeKind": "enum"}, {"_type": "tag", "name": "ETH_IF_WAN_UP", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/board_sbapi/cosa_ethernet_manager.c", "pattern": "/^    ETH_IF_WAN_UP,$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon02297ce30203", "scopeKind": "enum"}, {"_type": "tag", "name": "ETH_IF_WAN_VALIDATED", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/board_sbapi/cosa_ethernet_manager.c", "pattern": "/^    ETH_IF_WAN_VALIDATED$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon02297ce30203", "scopeKind": "enum"}, {"_type": "tag", "name": "LOOP_TIMEOUT", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/board_sbapi/cosa_ethernet_manager.c", "pattern": "/^#define LOOP_TIMEOUT /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "PrintEnumToString", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/board_sbapi/cosa_ethernet_manager.c", "pattern": "/^static char *PrintEnumToString(const ethSmState_t state)$/", "file": true, "language": "C", "typeref": "typename:char *", "kind": "function", "signature": "(const ethSmState_t state)"}, {"_type": "tag", "name": "STATE_ETH_DISCONNECTED", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/board_sbapi/cosa_ethernet_manager.c", "pattern": "/^    STATE_ETH_DISCONNECTED,$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon02297ce30103", "scopeKind": "enum"}, {"_type": "tag", "name": "STATE_ETH_VALIDATING_LINK", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/board_sbapi/cosa_ethernet_manager.c", "pattern": "/^    STATE_ETH_VALIDATING_LINK,$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon02297ce30103", "scopeKind": "enum"}, {"_type": "tag", "name": "STATE_ETH_VLAN_CONFIGURING", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/board_sbapi/cosa_ethernet_manager.c", "pattern": "/^    STATE_ETH_VLAN_CONFIGURING,$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon02297ce30103", "scopeKind": "enum"}, {"_type": "tag", "name": "STATE_ETH_WAN_LINK_UP", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/board_sbapi/cosa_ethernet_manager.c", "pattern": "/^    STATE_ETH_WAN_LINK_UP,$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon02297ce30103", "scopeKind": "enum"}, {"_type": "tag", "name": "STATE_EXIT", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/board_sbapi/cosa_ethernet_manager.c", "pattern": "/^    STATE_EXIT = 0,$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon02297ce30103", "scopeKind": "enum"}, {"_type": "tag", "name": "State_EthDisconnected", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/board_sbapi/cosa_ethernet_manager.c", "pattern": "/^static ethSmState_t State_EthDisconnected(PETH_SM_PRIVATE_INFO pstInfo)$/", "file": true, "language": "C", "typeref": "typename:ethSmState_t", "kind": "function", "signature": "(PETH_SM_PRIVATE_INFO pstInfo)"}, {"_type": "tag", "name": "State_EthVLANConfiguring", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/board_sbapi/cosa_ethernet_manager.c", "pattern": "/^static ethSmState_t State_EthVLANConfiguring(PETH_SM_PRIVATE_INFO pstInfo)$/", "file": true, "language": "C", "typeref": "typename:ethSmState_t", "kind": "function", "signature": "(PETH_SM_PRIVATE_INFO pstInfo)"}, {"_type": "tag", "name": "State_EthValidatingLink", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/board_sbapi/cosa_ethernet_manager.c", "pattern": "/^static ethSmState_t State_EthValidatingLink(PETH_SM_PRIVATE_INFO pstInfo)$/", "file": true, "language": "C", "typeref": "typename:ethSmState_t", "kind": "function", "signature": "(PETH_SM_PRIVATE_INFO pstInfo)"}, {"_type": "tag", "name": "State_EthWanLinkUp", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/board_sbapi/cosa_ethernet_manager.c", "pattern": "/^static ethSmState_t State_EthWanLinkUp(PETH_SM_PRIVATE_INFO pstInfo)$/", "file": true, "language": "C", "typeref": "typename:ethSmState_t", "kind": "function", "signature": "(PETH_SM_PRIVATE_INFO pstInfo)"}, {"_type": "tag", "name": "State_Exit", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/board_sbapi/cosa_ethernet_manager.c", "pattern": "/^static ethSmState_t State_Exit(PETH_SM_PRIVATE_INFO pstInfo)$/", "file": true, "language": "C", "typeref": "typename:ethSmState_t", "kind": "function", "signature": "(PETH_SM_PRIVATE_INFO pstInfo)"}, {"_type": "tag", "name": "TransitionExit", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/board_sbapi/cosa_ethernet_manager.c", "pattern": "/^static ethSmState_t TransitionExit(PETH_SM_PRIVATE_INFO pstInfo)$/", "file": true, "language": "C", "typeref": "typename:ethSmState_t", "kind": "function", "signature": "(PETH_SM_PRIVATE_INFO pstInfo)"}, {"_type": "tag", "name": "Transition_EthPhyInterfaceDown", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/board_sbapi/cosa_ethernet_manager.c", "pattern": "/^static ethSmState_t Transition_EthPhyInterfaceDown(PETH_SM_PRIVATE_INFO pstInfo)$/", "file": true, "language": "C", "typeref": "typename:ethSmState_t", "kind": "function", "signature": "(PETH_SM_PRIVATE_INFO pstInfo)"}, {"_type": "tag", "name": "Transition_EthPhyInterfaceUp", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/board_sbapi/cosa_ethernet_manager.c", "pattern": "/^static ethSmState_t Transition_EthPhyInterfaceUp(PETH_SM_PRIVATE_INFO pstInfo)$/", "file": true, "language": "C", "typeref": "typename:ethSmState_t", "kind": "function", "signature": "(PETH_SM_PRIVATE_INFO pstInfo)"}, {"_type": "tag", "name": "Transition_EthWanLinkFound", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/board_sbapi/cosa_ethernet_manager.c", "pattern": "/^static ethSmState_t Transition_EthWanLinkFound(PETH_SM_PRIVATE_INFO pstInfo)$/", "file": true, "language": "C", "typeref": "typename:ethSmState_t", "kind": "function", "signature": "(PETH_SM_PRIVATE_INFO pstInfo)"}, {"_type": "tag", "name": "Transition_EthWanLinkUp", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/board_sbapi/cosa_ethernet_manager.c", "pattern": "/^static ethSmState_t Transition_EthWanLinkUp(PETH_SM_PRIVATE_INFO pstInfo)$/", "file": true, "language": "C", "typeref": "typename:ethSmState_t", "kind": "function", "signature": "(PETH_SM_PRIVATE_INFO pstInfo)"}, {"_type": "tag", "name": "Transition_Start", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/board_sbapi/cosa_ethernet_manager.c", "pattern": "/^static ethSmState_t Transition_Start()$/", "file": true, "language": "C", "typeref": "typename:ethSmState_t", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "__anon02297ce30103", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/board_sbapi/cosa_ethernet_manager.c", "pattern": "/^{$/", "file": true, "language": "C", "kind": "enum"}, {"_type": "tag", "name": "__anon02297ce30203", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/board_sbapi/cosa_ethernet_manager.c", "pattern": "/^{$/", "file": true, "language": "C", "kind": "enum"}, {"_type": "tag", "name": "errorFdsMaster", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/board_sbapi/cosa_ethernet_manager.c", "pattern": "/^static fd_set errorFdsMaster;$/", "file": true, "language": "C", "typeref": "typename:fd_set", "kind": "variable"}, {"_type": "tag", "name": "ethInterfaceState_t", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/board_sbapi/cosa_ethernet_manager.c", "pattern": "/^} ethInterfaceState_t;$/", "file": true, "language": "C", "typeref": "enum:__anon02297ce30203", "kind": "typedef"}, {"_type": "tag", "name": "ethSmState_t", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/board_sbapi/cosa_ethernet_manager.c", "pattern": "/^} ethSmState_t;$/", "file": true, "language": "C", "typeref": "enum:__anon02297ce30103", "kind": "typedef"}, {"_type": "tag", "name": "geCurrentState", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/board_sbapi/cosa_ethernet_manager.c", "pattern": "/^ethSmState_t geCurrentState = STATE_EXIT;$/", "language": "C", "typeref": "typename:ethSmState_t", "kind": "variable"}, {"_type": "tag", "name": "geInterfaceState", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/board_sbapi/cosa_ethernet_manager.c", "pattern": "/^ethInterfaceState_t geInterfaceState = ETH_IF_DOWN; \\/\\/ This stores the connection status of th/", "language": "C", "typeref": "typename:ethInterfaceState_t", "kind": "variable"}, {"_type": "tag", "name": "maxFd", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/board_sbapi/cosa_ethernet_manager.c", "pattern": "/^int maxFd = 0;$/", "language": "C", "typeref": "typename:int", "kind": "variable"}, {"_type": "tag", "name": "pstInfo", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/board_sbapi/cosa_ethernet_manager.c", "pattern": "/^PETH_SM_PRIVATE_INFO pstInfo = NULL;$/", "language": "C", "typeref": "typename:PETH_SM_PRIVATE_INFO", "kind": "variable"}, {"_type": "tag", "name": "readFdsMaster", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/board_sbapi/cosa_ethernet_manager.c", "pattern": "/^fd_set readFdsMaster;$/", "language": "C", "typeref": "typename:fd_set", "kind": "variable"}], "hash": "6ba29e1f02271487dffbe8a6620b1182", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/board_sbapi/cosa_ethernet_manager.c", "fields": [{"name": "int CcspEthManager_StateMachineThread_start", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "fd_set errorFdsMaster", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ethSmState_t geCurrentState", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ethInterfaceState_t geInterfaceState", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int maxFd", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "PETH_SM_PRIVATE_INFO pstInfo", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "fd_set readFdsMaster", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"19958": ""}]}