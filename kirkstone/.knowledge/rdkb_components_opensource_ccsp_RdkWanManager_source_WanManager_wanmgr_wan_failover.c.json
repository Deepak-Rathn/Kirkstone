{"is_source_file": true, "format": "C", "description": "Source file implementing WAN failover management logic, including state machine, failover transitions, interface management, telemetry, and LED/status updates.", "external_files": ["wanmgr_wan_failover.h", "telemetry_busmessage_sender.h"], "external_methods": ["WanMgr_AutoWanSelectionProcess", "WanMgr_ParallelScanSelectionProcess", "WanMgr_IfaceData_GetTotalWanIface", "WanMgr_GetIfaceData_locked", "WanMgr_GetIfaceGroup_locked", "WanMgrDml_GetIfaceGroup_release", "WanMgrDml_GetIfaceData_release", "WanMgr_GetConfigData_locked", "WanMgrDml_GetConfigData_release", "wanmgr_setWanLedState", "wanmgr_sysevents_setWanState", "WanMgr_RdkBus_GetParamValuesFromDB", "CcspTraceInfo", "CcspTraceError", "WcFailOverState_t", "ANSC_STATUS", "WcFailOverState_t", "pthread_create", "pthread_detach", "select", "clock_gettime", "difftime", "memset", "strstr"], "published": ["WanMgr_FailOverCtrlInit", "WanMgr_FailOverThread"], "classes": [], "methods": [{"name": "ANSC_STATUS WanMgr_FailOverCtrlInit(WanMgr_FailOver_Controller_t * pFailOverController)", "description": "Initializes failover controller data, setting default values and reading failover type from PSM.", "scope": "", "scopeKind": ""}, {"name": "void WanMgr_UpdateFOControllerData(WanMgr_FailOver_Controller_t * pFailOverController)", "description": "Updates failover controller's runtime data from current configuration.", "scope": "", "scopeKind": ""}, {"name": "int WanMgr_SetGroupSelectedIface(UINT GroupInst,UINT IfaceInst)", "description": "Sets the selected interface for a specific group.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS WanMgr_DeactivateGroup(UINT groupId)", "description": "Sets a group to deactivated state.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS WanMgr_ActivateGroup(UINT groupId)", "description": "Activates the specified group by setting its interface to active.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS WanMgr_SetRestartV6Client(UINT groupId)", "description": "Triggers restart of IPv6 client on the specified interface.", "scope": "", "scopeKind": ""}, {"name": "void WanMgr_FO_IfaceGroupMonitor()", "description": "Monitors interface groups and creates selection threads based on policies.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS UpdateLedStatus(WanMgr_FailOver_Controller_t * pFailOverController)", "description": "Updates LED status based on the active WAN interface and states.", "scope": "", "scopeKind": ""}, {"name": "WcFailOverState_t Transition_Start(WanMgr_FailOver_Controller_t * pFailOverController)", "description": "Initial transition to start the failover state machine, setting initial parameters.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS MarkHighPriorityGroup(WanMgr_FailOver_Controller_t * pFailOverController,bool WaitForHigherGroup)", "description": "Determines the highest priority valid group based on interface state and configuration.", "scope": "", "scopeKind": ""}, {"name": "WcFailOverState_t Transition_ActivateGroup(WanMgr_FailOver_Controller_t * pFailOverController)", "description": "Transitions to activate the selected highest valid group.", "scope": "", "scopeKind": ""}, {"name": "WcFailOverState_t Transition_DeactivateGroup(WanMgr_FailOver_Controller_t * pFailOverController)", "description": "Transitions to deactivate the currently active group.", "scope": "", "scopeKind": ""}, {"name": "WcFailOverState_t Transition_Restoration(WanMgr_FailOver_Controller_t * pFailOverController)", "description": "Handles transition into restoration wait state for failover recovery.", "scope": "", "scopeKind": ""}, {"name": "WcFailOverState_t Transition_RestorationFail(WanMgr_FailOver_Controller_t * pFailOverController)", "description": "Handles fail scenario during restoration, triggering telemetry event.", "scope": "", "scopeKind": ""}, {"name": "WcFailOverState_t Transition_ResetScan(WanMgr_FailOver_Controller_t * pFailOverController)", "description": "Resets the scan state, deactivates current group and resets timers.", "scope": "", "scopeKind": ""}, {"name": "WcFailOverState_t State_ScanningGroup(WanMgr_FailOver_Controller_t * pFailOverController)", "description": "State handling WAN interface scanning for failover purposes.", "scope": "", "scopeKind": ""}, {"name": "WcFailOverState_t State_GroupActive(WanMgr_FailOver_Controller_t * pFailOverController)", "description": "State managing active group, failover checks, and timer-based recovery.", "scope": "", "scopeKind": ""}, {"name": "WcFailOverState_t State_RestorationWait(WanMgr_FailOver_Controller_t * pFailOverController)", "description": "State waiting for restoration timers and interface states to stabilize.", "scope": "", "scopeKind": ""}, {"name": "WcFailOverState_t State_DeactivateGroup(WanMgr_FailOver_Controller_t * pFailOverController)", "description": "Deactivation state for the current active group.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS WanMgr_FailOverThread(void)", "description": "Main thread function implementing the failover state machine loop, managing states, and interface monitoring.", "scope": "", "scopeKind": ""}, {"name": "void WanMgr_TelemetryEventTrigger(TelemetryEvent_t TelemetryEvent)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["WanMgr_FailOverCtrlInit", "WanMgr_UpdateFOControllerData", "WanMgr_Fo_IfaceGroupMonitor", "UpdateLedStatus", "WanMgr_TelemetryEventTrigger", "MarkHighPriorityGroup", "WanMgr_ActivateGroup", "WanMgr_DeactivateGroup", "WanMgr_SetRestartV6Client"], "search-terms": ["WAN failover", "failover state machine", "interface group management", "telemetry events", "LED status update", "failover transitions", "failover thread"], "state": 2, "file_id": 9469, "knowledge_revision": 22485, "git_revision": "", "ctags": [{"_type": "tag", "name": "FAILOVER_SM_LOOP_TIMEOUT", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_wan_failover.c", "pattern": "/^#define FAILOVER_SM_LOOP_TIMEOUT /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MarkHighPriorityGroup", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_wan_failover.c", "pattern": "/^ANSC_STATUS MarkHighPriorityGroup (WanMgr_FailOver_Controller_t* pFailOverController, bool WaitF/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(WanMgr_FailOver_Controller_t * pFailOverController,bool WaitForHigherGroup)"}, {"_type": "tag", "name": "State_DeactivateGroup", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_wan_failover.c", "pattern": "/^static WcFailOverState_t State_DeactivateGroup (WanMgr_FailOver_Controller_t * pFailOverControll/", "file": true, "language": "C", "typeref": "typename:WcFailOverState_t", "kind": "function", "signature": "(WanMgr_FailOver_Controller_t * pFailOverController)"}, {"_type": "tag", "name": "State_GroupActive", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_wan_failover.c", "pattern": "/^static WcFailOverState_t State_GroupActive (WanMgr_FailOver_Controller_t * pFailOverController)$/", "file": true, "language": "C", "typeref": "typename:WcFailOverState_t", "kind": "function", "signature": "(WanMgr_FailOver_Controller_t * pFailOverController)"}, {"_type": "tag", "name": "State_RestorationWait", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_wan_failover.c", "pattern": "/^static WcFailOverState_t State_RestorationWait (WanMgr_FailOver_Controller_t * pFailOverControll/", "file": true, "language": "C", "typeref": "typename:WcFailOverState_t", "kind": "function", "signature": "(WanMgr_FailOver_Controller_t * pFailOverController)"}, {"_type": "tag", "name": "State_ScanningGroup", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_wan_failover.c", "pattern": "/^static WcFailOverState_t State_ScanningGroup (WanMgr_FailOver_Controller_t * pFailOverController/", "file": true, "language": "C", "typeref": "typename:WcFailOverState_t", "kind": "function", "signature": "(WanMgr_FailOver_Controller_t * pFailOverController)"}, {"_type": "tag", "name": "TelemetryEventStr", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_wan_failover.c", "pattern": "/^static const char * const TelemetryEventStr[] =$/", "file": true, "language": "C", "typeref": "typename:const char * const[]", "kind": "variable"}, {"_type": "tag", "name": "Transition_ActivateGroup", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_wan_failover.c", "pattern": "/^static WcFailOverState_t Transition_ActivateGroup (WanMgr_FailOver_Controller_t * pFailOverContr/", "file": true, "language": "C", "typeref": "typename:WcFailOverState_t", "kind": "function", "signature": "(WanMgr_FailOver_Controller_t * pFailOverController)"}, {"_type": "tag", "name": "Transition_DeactivateGroup", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_wan_failover.c", "pattern": "/^static WcFailOverState_t Transition_DeactivateGroup (WanMgr_FailOver_Controller_t * pFailOverCon/", "file": true, "language": "C", "typeref": "typename:WcFailOverState_t", "kind": "function", "signature": "(WanMgr_FailOver_Controller_t * pFailOverController)"}, {"_type": "tag", "name": "Transition_ResetScan", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_wan_failover.c", "pattern": "/^static WcFailOverState_t Transition_ResetScan (WanMgr_FailOver_Controller_t * pFailOverControlle/", "file": true, "language": "C", "typeref": "typename:WcFailOverState_t", "kind": "function", "signature": "(WanMgr_FailOver_Controller_t * pFailOverController)"}, {"_type": "tag", "name": "Transition_Restoration", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_wan_failover.c", "pattern": "/^static WcFailOverState_t Transition_Restoration (WanMgr_FailOver_Controller_t * pFailOverControl/", "file": true, "language": "C", "typeref": "typename:WcFailOverState_t", "kind": "function", "signature": "(WanMgr_FailOver_Controller_t * pFailOverController)"}, {"_type": "tag", "name": "Transition_RestorationFail", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_wan_failover.c", "pattern": "/^static WcFailOverState_t Transition_RestorationFail (WanMgr_FailOver_Controller_t * pFailOverCon/", "file": true, "language": "C", "typeref": "typename:WcFailOverState_t", "kind": "function", "signature": "(WanMgr_FailOver_Controller_t * pFailOverController)"}, {"_type": "tag", "name": "Transition_Start", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_wan_failover.c", "pattern": "/^static WcFailOverState_t Transition_Start (WanMgr_FailOver_Controller_t* pFailOverController)$/", "file": true, "language": "C", "typeref": "typename:WcFailOverState_t", "kind": "function", "signature": "(WanMgr_FailOver_Controller_t * pFailOverController)"}, {"_type": "tag", "name": "UpdateLedStatus", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_wan_failover.c", "pattern": "/^ANSC_STATUS UpdateLedStatus (WanMgr_FailOver_Controller_t* pFailOverController)$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(WanMgr_FailOver_Controller_t * pFailOverController)"}, {"_type": "tag", "name": "WanMgr_ActivateGroup", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_wan_failover.c", "pattern": "/^static ANSC_STATUS WanMgr_ActivateGroup(UINT groupId)$/", "file": true, "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(UINT groupId)"}, {"_type": "tag", "name": "WanMgr_DeactivateGroup", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_wan_failover.c", "pattern": "/^static ANSC_STATUS WanMgr_DeactivateGroup(UINT groupId)$/", "file": true, "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(UINT groupId)"}, {"_type": "tag", "name": "WanMgr_FO_IfaceGroupMonitor", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_wan_failover.c", "pattern": "/^static void WanMgr_FO_IfaceGroupMonitor()$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "WanMgr_FailOverCtrlInit", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_wan_failover.c", "pattern": "/^ANSC_STATUS WanMgr_FailOverCtrlInit(WanMgr_FailOver_Controller_t* pFailOverController)$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(WanMgr_FailOver_Controller_t * pFailOverController)"}, {"_type": "tag", "name": "WanMgr_FailOverThread", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_wan_failover.c", "pattern": "/^ANSC_STATUS WanMgr_FailOverThread (void)$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "WanMgr_SetGroupSelectedIface", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_wan_failover.c", "pattern": "/^int WanMgr_SetGroupSelectedIface (UINT GroupInst, UINT IfaceInst)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(UINT GroupInst,UINT IfaceInst)"}, {"_type": "tag", "name": "WanMgr_SetRestartV6Client", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_wan_failover.c", "pattern": "/^static ANSC_STATUS WanMgr_SetRestartV6Client(UINT groupId)$/", "file": true, "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(UINT groupId)"}, {"_type": "tag", "name": "WanMgr_TelemetryEventTrigger", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_wan_failover.c", "pattern": "/^static void WanMgr_TelemetryEventTrigger(TelemetryEvent_t TelemetryEvent)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(TelemetryEvent_t TelemetryEvent)"}, {"_type": "tag", "name": "WanMgr_UpdateFOControllerData", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_wan_failover.c", "pattern": "/^static void WanMgr_UpdateFOControllerData (WanMgr_FailOver_Controller_t* pFailOverController)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(WanMgr_FailOver_Controller_t * pFailOverController)"}], "hash": "288be915a3d435709df3da562edc1b4f", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_wan_failover.c", "fields": [{"name": "const char * const[] TelemetryEventStr", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"22485": ""}]}