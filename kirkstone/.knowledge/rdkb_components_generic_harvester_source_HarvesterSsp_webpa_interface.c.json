{"is_source_file": true, "format": "C", "description": "This file implements the WebPA interface and related utilities for the Harvester component in a C-based device management system. It includes functions for communicating over WebPA, managing Parodus messaging, checking component health, and retrieving device MAC addresses.", "external_files": ["ssp_global.h", "ccsp_dm_api.h", "harvester.h", "ccsp_harvesterLog_wrapper.h", "<sysevent/sysevent.h>", "syscfg/syscfg.h", "libparodus.h", "webpa_interface.h", "safec_lib_common.h"], "external_methods": ["CcspBaseIf_discComponentSupportingNamespace", "CcspBaseIf_getParameterValues", "sysevent_get", "AnscMacToLower", "get_parodus_url", "libparodus_init", "libparodus_shutdown", "libparodus_strerror"], "published": ["sendWebpaMsg", "initparodusTask", "getDeviceMac"], "classes": [], "methods": [{"name": "void sendWebpaMsg(char * serviceName,char * dest,char * trans_id,char * contentType,char * payload,unsigned int payload_len)", "description": "Sends a message via WebPA using the libparodus library, with retry logic and detailed debug tracing.", "scope": "", "scopeKind": ""}, {"name": "void initparodusTask()", "description": "Initializes the Parodus messaging thread in a separate thread.", "scope": "", "scopeKind": ""}, {"name": "void * handle_parodus()", "description": "Thread function that manages Parodus connection retries and shutdowns.", "scope": "", "scopeKind": ""}, {"name": "const char * rdk_logger_module_fetch(void)", "description": "Fetches the logger module name for RDK.", "scope": "", "scopeKind": ""}, {"name": "void waitForEthAgentComponentReady()", "description": "Polls the component health status until it is 'Green' or timeout.", "scope": "", "scopeKind": ""}, {"name": "void checkComponentHealthStatus(char * compName,char * dbusPath,char * status,int * retStatus,int status_size)", "description": "Checks the health status of a specified component via CCSP base interface.", "scope": "", "scopeKind": ""}, {"name": "int check_ethernet_wan_status()", "description": "Determines if Ethernet WAN is enabled either via syscfg or component status.", "scope": "", "scopeKind": ""}, {"name": "char * getDeviceMac()", "description": "Retrieves the device's MAC address by checking various parameters and components, with caching.", "scope": "", "scopeKind": ""}, {"name": "BOOL Cosa_FindDestComp(char * pObjName,char ** ppDestComponentName,char ** ppDestPath)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["CcspBaseIf_discComponentSupportingNamespace", "CcspBaseIf_getParameterValues", "sysevent_get", "AnscMacToLower", "get_parodus_url", "libparodus_init", "libparodus_shutdown", "sleep", "strcmp_s"], "search-terms": ["webpa_interface.c", "Parodus", "sendWebpaMsg", "checkComponentHealthStatus", "getDeviceMac", "Ethernet WAN"], "state": 2, "file_id": 5651, "knowledge_revision": 18765, "git_revision": "", "ctags": [{"_type": "tag", "name": "CCSP_AGENT_WEBPA_SUBSYSTEM", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/webpa_interface.c", "pattern": "/^#define CCSP_AGENT_WEBPA_SUBSYSTEM /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "Cosa_FindDestComp", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/webpa_interface.c", "pattern": "/^BOOL Cosa_FindDestComp(char* pObjName,char** ppDestComponentName, char** ppDestPath)$/", "language": "C", "typeref": "typename:BOOL", "kind": "function", "signature": "(char * pObjName,char ** ppDestComponentName,char ** ppDestPath)"}, {"_type": "tag", "name": "ETH_WAN_STATUS_PARAM", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/webpa_interface.c", "pattern": "/^#define ETH_WAN_STATUS_PARAM /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MAX_PARAMETERNAME_LEN", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/webpa_interface.c", "pattern": "/^#define MAX_PARAMETERNAME_LEN /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "RDKB_ETHAGENT_COMPONENT_NAME", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/webpa_interface.c", "pattern": "/^#define RDKB_ETHAGENT_COMPONENT_NAME /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "RDKB_ETHAGENT_DBUS_PATH", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/webpa_interface.c", "pattern": "/^#define RDKB_ETHAGENT_DBUS_PATH /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "checkComponentHealthStatus", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/webpa_interface.c", "pattern": "/^static void checkComponentHealthStatus(char * compName, char * dbusPath, char *status, int *retS/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(char * compName,char * dbusPath,char * status,int * retStatus,int status_size)"}, {"_type": "tag", "name": "check_ethernet_wan_status", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/webpa_interface.c", "pattern": "/^static int check_ethernet_wan_status()$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "client_instance", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/webpa_interface.c", "pattern": "/^libpd_instance_t client_instance;$/", "language": "C", "typeref": "typename:libpd_instance_t", "kind": "variable"}, {"_type": "tag", "name": "deviceMAC", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/webpa_interface.c", "pattern": "/^char deviceMAC[32]={'\\\\0'};$/", "language": "C", "typeref": "typename:char[32]", "kind": "variable"}, {"_type": "tag", "name": "device_mac_mutex", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/webpa_interface.c", "pattern": "/^pthread_mutex_t device_mac_mutex = PTHREAD_MUTEX_INITIALIZER;$/", "language": "C", "typeref": "typename:pthread_mutex_t", "kind": "variable"}, {"_type": "tag", "name": "getDeviceMac", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/webpa_interface.c", "pattern": "/^char * getDeviceMac()$/", "language": "C", "typeref": "typename:char *", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "handle_parodus", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/webpa_interface.c", "pattern": "/^static void *handle_parodus()$/", "file": true, "language": "C", "typeref": "typename:void *", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "initparodusTask", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/webpa_interface.c", "pattern": "/^void initparodusTask()$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "rdk_logger_module_fetch", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/webpa_interface.c", "pattern": "/^const char *rdk_logger_module_fetch(void)$/", "language": "C", "typeref": "typename:const char *", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "sendWebpaMsg", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/webpa_interface.c", "pattern": "/^void sendWebpaMsg(char *serviceName, char *dest, char *trans_id, char *contentType, char *payloa/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(char * serviceName,char * dest,char * trans_id,char * contentType,char * payload,unsigned int payload_len)"}, {"_type": "tag", "name": "waitForEthAgentComponentReady", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/webpa_interface.c", "pattern": "/^static void waitForEthAgentComponentReady()$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "webpa_mutex", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/webpa_interface.c", "pattern": "/^pthread_mutex_t webpa_mutex = PTHREAD_MUTEX_INITIALIZER;$/", "language": "C", "typeref": "typename:pthread_mutex_t", "kind": "variable"}], "hash": "fcb820afe905b72d0234af1fa82259b4", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/generic/harvester/source/HarvesterSsp/webpa_interface.c", "fields": [{"name": "libpd_instance_t client_instance", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char[32] deviceMAC", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pthread_mutex_t device_mac_mutex", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pthread_mutex_t webpa_mutex", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"18765": ""}]}