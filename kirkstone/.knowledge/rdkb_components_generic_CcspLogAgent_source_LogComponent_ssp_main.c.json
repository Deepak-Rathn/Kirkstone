{"is_source_file": true, "format": "C", "description": "This file is the main source code for a daemon component 'ssp_main.c' for a logging agent in an embedded system or infrastructure project. It includes functionality for system initialization, signal handling, logging, daemonizing, and communication with system components via IPC mechanisms like semaphores and bus messages. The code also manages logging configurations via syscfg and provides command dispatch for runtime control.", "external_files": ["ssp_global.h", "ccsp_dm_api.h", "safec_lib_common.h", "/syscfg/syscfg.h"], "external_methods": ["CcspTraceInfo()", "ERR_CHK()", "ssp_Mbi_MessageBusEngage()", "ssp_create()", "ssp_engage()", "AnscPrintComponentMemoryTable()", "AnscTraceMemoryTable()", "ssp_cancel()", "Cdm_Init()", "Cdm_StrError()", "RDK_LOGGER_INIT()", "syscfg_get()"], "published": ["main", "cmd_dispatch", "_print_stack_backtrace", "daemonize", "sig_handler", "ReadLogInfo"], "classes": [], "methods": [{"name": "int main(int argc,char * argv[])", "description": "Entry point of the program, initializes system, sets up signal handlers, starts the daemon or interactive command loop, and manages lifecycle.", "scope": "", "scopeKind": ""}, {"name": "int cmd_dispatch(int command)", "description": "Handles various command characters to perform actions like engaging system components, printing memory, or canceling.", "scope": "", "scopeKind": ""}, {"name": "void _print_stack_backtrace(void)", "description": "Uses GNU-specific backtrace functions to print the current call stack for debugging.", "scope": "", "scopeKind": ""}, {"name": "void daemonize(void)", "description": "Turns the process into a background daemon, sets up semaphores, and redirects standard IO to /dev/null.", "scope": "", "scopeKind": ""}, {"name": "void sig_handler(int sig)", "description": "Handles various Unix signals, including dumping stack traces on crashes or signals and clean shutdown.", "scope": "", "scopeKind": ""}, {"name": "void ReadLogInfo()", "description": "Reads logging configuration parameters from syscfg to set runtime log levels and enables for different components.", "scope": "", "scopeKind": ""}], "calls": ["backtrace()", "backtrace_symbols_fd()", "backtrace_symbols()", "printf()", "free()", "sprintf_s()", "strcpy_s()", "sem_open()", "sem_unlink()", "sem_wait()", "sem_close()", "setsid()", "open()", "dup2()", "close()", "signal()", "sleep()", "system()", "fopen()", "fprintf()", "getpid()", "exit()", "system()", "cproc()", "syscfg_get()", "touch()"], "search-terms": ["ssp_main", "LogComponent", "daemonize", "signal handlers", "syscfg log levels", "IPv6 signals", "component init", "DCB", "bus engage", "sem_t", "backtrace"], "state": 2, "file_id": 5710, "knowledge_revision": 18822, "git_revision": "", "ctags": [{"_type": "tag", "name": "DEBUG_INI_NAME", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/CcspLogAgent/source/LogComponent/ssp_main.c", "pattern": "/^#define DEBUG_INI_NAME /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MAX_SUBSYSTEM_SIZE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/CcspLogAgent/source/LogComponent/ssp_main.c", "pattern": "/^#define MAX_SUBSYSTEM_SIZE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "ReadLogInfo", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/CcspLogAgent/source/LogComponent/ssp_main.c", "pattern": "/^void ReadLogInfo()$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "_print_stack_backtrace", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/CcspLogAgent/source/LogComponent/ssp_main.c", "pattern": "/^static void _print_stack_backtrace(void)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "cmd_dispatch", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/CcspLogAgent/source/LogComponent/ssp_main.c", "pattern": "/^int  cmd_dispatch(int  command)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(int command)"}, {"_type": "tag", "name": "daemonize", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/CcspLogAgent/source/LogComponent/ssp_main.c", "pattern": "/^static void daemonize(void) {$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "g_Subsystem", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/CcspLogAgent/source/LogComponent/ssp_main.c", "pattern": "/^char                                        g_Subsystem[MAX_SUBSYSTEM_SIZE]         = {0};$/", "language": "C", "typeref": "typename:char[]", "kind": "variable"}, {"_type": "tag", "name": "main", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/CcspLogAgent/source/LogComponent/ssp_main.c", "pattern": "/^int main(int argc, char* argv[])$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(int argc,char * argv[])"}, {"_type": "tag", "name": "sem", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/CcspLogAgent/source/LogComponent/ssp_main.c", "pattern": "/^    sem_t *sem;$/", "language": "C", "typeref": "typename:sem_t *", "kind": "variable"}, {"_type": "tag", "name": "sig_handler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/CcspLogAgent/source/LogComponent/ssp_main.c", "pattern": "/^void sig_handler(int sig)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(int sig)"}], "hash": "6c4845bf04933cd7e7379900c61eb7a2", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/generic/CcspLogAgent/source/LogComponent/ssp_main.c", "fields": [{"name": "char[] g_Subsystem", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "sem_t * sem", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"18822": ""}]}