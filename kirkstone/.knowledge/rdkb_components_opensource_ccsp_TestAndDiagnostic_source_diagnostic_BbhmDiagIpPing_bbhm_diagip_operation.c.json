{"is_source_file": true, "format": "C", "description": "This file implements advanced operation functions for a Ping diagnostic module, including start, open, stop, close, expire, result calculation, and environment setup functions. It manages ICMP Echo requests for IPv4 and IPv6, handles socket setup, ping entry management, and result computation, primarily for the BbhmDiagip (Broadband Home Manager Model - IP Ping) object.", "external_files": ["bbhm_diagip_global.h", "ANSC_HANDLE", "ANSC_STATUS", "PBBHM_DIAG_IP_PING_OBJECT", "PDSLH_PING_INFO", "PBBHM_IP_PING_PROPERTY", "PBBHM_IP_PING_TDO_OBJECT", "PBBHM_IP_PING_SINK_OBJECT", "PANSC_XSOCKET_OBJECT", "PICMPV4_ECHO_MESSAGE", "PICMPV6_ECHO_MESSAGE", "ICMP_TYPE_ECHO_REQUEST", "ICMPV4_HEADER", "AnscStartupXsocketWrapper", "AnscCreateXsocket", "AnscIcmpv4EchoSetType", "AnscIcmpv4EchoSetCode", "AnscIcmpv4EchoSetId", "AnscIcmpv4EchoSetSeqNumber", "AnscIcmpv4EchoSetChecksum", "AnscIcmpv4CalculateChecksum", "AnscIcmpv6EchoSetType", "AnscIcmpv6EchoSetCode", "AnscIcmpv6EchoSetId", "AnscIcmpv6EchoSetSeqNumber", "AnscIcmpv6EchoSetChecksum", "AnscGetTickInMilliSeconds", "AnscSListPopEntry", "AnscSListPushEntry", "AnscSListPushEntryAtBack", "AnscSListGetFirstEntry", "AnscSListGetNextEntry", "AnscAllocateMemory", "AnscFreeMemory", "AnscAcquireLock", "AnscReleaseLock", "AnscTrace", "ANSC_TIMER_TYPE_SPORADIC", "DSLH_DIAG_STATE_TYPE_Complete", "DSLH_DIAG_STATE_TYPE_PING_Error_Internal", "DSLH_DIAG_STATE_TYPE_Error_HostName", "DSLH_DIAG_STATE_TYPE_Error_Internal", "DSLH_DIAG_STATE_TYPE_Error_HostName", "ACCESS_BBHM_IP_PING_ECHO_ENTRY", "CCSP_TRACE_ERROR", "ANSC_HANDLE", "ANSC_STATUS"], "external_methods": ["BbhmDiagResolvAddr", "AnscStartupXsocketWrapper", "AnscCreateXsocket"], "published": ["BbhmDiagipStart", "BbhmDiagipOpen", "BbhmDiagipStop", "BbhmDiagipClose", "BbhmDiagipExpire1", "BbhmDiagipExpire2", "BbhmDiagipSetStopTime", "BbhmDiagipAddEchoEntry", "BbhmDiagipCalculateResult", "BbhmDiagipSetEnv"], "classes": [], "methods": [{"name": "ANSC_STATUS BbhmDiagipStart(ANSC_HANDLE hThisObject)", "description": "Starts the ping operation by setting up the socket, resolving address, preparing ICMP echo request packets, and initiating the send and timer mechanisms.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS BbhmDiagipOpen(ANSC_HANDLE hThisObject)", "description": "Opens the ping object, creating sink and socket objects, and prepares the object for ping operations if not already active.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS BbhmDiagipStop(ANSC_HANDLE hThisObject)", "description": "Stops the ping operation, calculates results, closes sockets, and updates diagnostic status accordingly.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS BbhmDiagipClose(ANSC_HANDLE hThisObject)", "description": "Closes the ping object, releases resources, clears echo entries, and marks the object as inactive.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS BbhmDiagipExpire1(ANSC_HANDLE hThisObject)", "description": "Handles expiration of an individual ping request, resending the echo ICMP packet with an updated sequence number.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS BbhmDiagipExpire2(ANSC_HANDLE hThisObject)", "description": "Handles overall timeout expiration, setting ping status to timeout and stopping send operations.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS BbhmDiagipSetStopTime(ANSC_HANDLE hThisObject,USHORT SeqNumber,ULONG PktSize,UCHAR TTL,ULONG StopTime)", "description": "Records the stop time for a specific ping sequence, updates RTT measurements, and logs the echo entry.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS BbhmDiagipAddEchoEntry(ANSC_HANDLE hThisObject,USHORT SeqNumber,ULONG StartTime)", "description": "Adds a new echo entry (sent packet) to the internal table for RTT tracking.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS BbhmDiagipCalculateResult(ANSC_HANDLE hThisObject)", "description": "Calculates the ping statistics (min, max, average RTT) based on collected echo reply times and updates the diagnostic info.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS BbhmDiagipSetEnv(ANSC_HANDLE hThisObject)", "description": "Sets environment parameters if needed; currently a placeholder that returns success.", "scope": "", "scopeKind": ""}], "calls": ["BbhmDiagResolvAddr", "AnscStartupXsocketWrapper", "AnscCreateXsocket", "AnscIcmpv4EchoSetType", "AnscIcmpv4EchoSetCode", "AnscIcmpv4EchoSetId", "AnscIcmpv4EchoSetSeqNumber", "AnscIcmpv4EchoSetChecksum", "AnscIcmpv4CalculateChecksum", "AnscIcmpv6EchoSetType", "AnscIcmpv6EchoSetCode", "AnscIcmpv6EchoSetId", "AnscIcmpv6EchoSetSeqNumber", "AnscIcmpv6EchoSetChecksum", "AnscGetTickInMilliSeconds"], "search-terms": ["BbhmDiagip", "Ping", "ICMP", "Echo", "IPv4", "IPv6", "PingEntry", "Start", "Stop", "Expire", "CalculateResult", "SinkCreate", "SetStopTime"], "state": 2, "file_id": 8985, "knowledge_revision": 22013, "git_revision": "", "ctags": [{"_type": "tag", "name": "BbhmDiagipAddEchoEntry", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/diagnostic/BbhmDiagIpPing/bbhm_diagip_operation.c", "pattern": "/^BbhmDiagipAddEchoEntry$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hThisObject,USHORT SeqNumber,ULONG StartTime)"}, {"_type": "tag", "name": "BbhmDiagipCalculateResult", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/diagnostic/BbhmDiagIpPing/bbhm_diagip_operation.c", "pattern": "/^BbhmDiagipCalculateResult$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hThisObject)"}, {"_type": "tag", "name": "BbhmDiagipClose", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/diagnostic/BbhmDiagIpPing/bbhm_diagip_operation.c", "pattern": "/^BbhmDiagipClose$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hThisObject)"}, {"_type": "tag", "name": "BbhmDiagipExpire1", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/diagnostic/BbhmDiagIpPing/bbhm_diagip_operation.c", "pattern": "/^BbhmDiagipExpire1$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hThisObject)"}, {"_type": "tag", "name": "BbhmDiagipExpire2", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/diagnostic/BbhmDiagIpPing/bbhm_diagip_operation.c", "pattern": "/^BbhmDiagipExpire2$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hThisObject)"}, {"_type": "tag", "name": "BbhmDiagipOpen", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/diagnostic/BbhmDiagIpPing/bbhm_diagip_operation.c", "pattern": "/^BbhmDiagipOpen$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hThisObject)"}, {"_type": "tag", "name": "BbhmDiagipSetEnv", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/diagnostic/BbhmDiagIpPing/bbhm_diagip_operation.c", "pattern": "/^BbhmDiagipSetEnv$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hThisObject)"}, {"_type": "tag", "name": "BbhmDiagipSetStopTime", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/diagnostic/BbhmDiagIpPing/bbhm_diagip_operation.c", "pattern": "/^BbhmDiagipSetStopTime$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hThisObject,USHORT SeqNumber,ULONG PktSize,UCHAR TTL,ULONG StopTime)"}, {"_type": "tag", "name": "BbhmDiagipStart", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/diagnostic/BbhmDiagIpPing/bbhm_diagip_operation.c", "pattern": "/^BbhmDiagipStart$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hThisObject)"}, {"_type": "tag", "name": "BbhmDiagipStop", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/diagnostic/BbhmDiagIpPing/bbhm_diagip_operation.c", "pattern": "/^BbhmDiagipStop$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hThisObject)"}], "hash": "43992ae4dc9ac4b014c14bf48acd5081", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/TestAndDiagnostic/source/diagnostic/BbhmDiagIpPing/bbhm_diagip_operation.c", "revision_history": [{"22013": ""}]}