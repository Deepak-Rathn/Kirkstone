{"is_source_file": true, "format": "C", "description": "This file implements a C program that monitors a DHCP lease file for modifications using inotify, and synchronizes DHCP lease information via a shell script when changes occur. It creates a child process that runs indefinitely, with a background thread performing the file monitoring.", "external_files": ["/nvram/dnsmasq.leases", "/etc/utopia/service.d/service_lan/dhcp_lease_sync.sh"], "external_methods": ["v_secure_system"], "published": ["IsFileExists"], "classes": [], "methods": [{"name": "int IsFileExists(const char * fname)", "description": "Checks if a file exists by attempting to open it for reading.", "scope": "", "scopeKind": ""}, {"name": "void * MonitorDHCPLeaseFile(void * arg)", "description": "Thread function that waits for modifications to the DHCP lease file and triggers a script when such modification occurs.", "scope": "", "scopeKind": ""}, {"name": "void main()", "description": "Entry point that forks a process, then creates a thread to monitor DHCP lease file changes, and keeps the main thread sleeping.", "scope": "", "scopeKind": ""}], "calls": ["inotify_init", "inotify_add_watch", "read", "v_secure_system", "fork", "pthread_create", "sleep"], "search-terms": ["DHCP_LEASE_FILE", "inotify", "MonitorDHCPLeaseFile", "dhcp_lease_sync.sh", "Notify_Lease"], "state": 2, "file_id": 9826, "knowledge_revision": 22830, "git_revision": "", "ctags": [{"_type": "tag", "name": "BUF_LEN", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/Notify_Lease/Notify_Lease.c", "pattern": "/^#define BUF_LEN /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "DHCP_LEASE_FILE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/Notify_Lease/Notify_Lease.c", "pattern": "/^#define DHCP_LEASE_FILE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "EVENT_SIZE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/Notify_Lease/Notify_Lease.c", "pattern": "/^#define EVENT_SIZE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "IsFileExists", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/Notify_Lease/Notify_Lease.c", "pattern": "/^int IsFileExists(const char *fname)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const char * fname)"}, {"_type": "tag", "name": "MonitorDHCPLeaseFile", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/Notify_Lease/Notify_Lease.c", "pattern": "/^void* MonitorDHCPLeaseFile(void *arg)$/", "language": "C", "typeref": "typename:void *", "kind": "function", "signature": "(void * arg)"}, {"_type": "tag", "name": "main", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/Notify_Lease/Notify_Lease.c", "pattern": "/^void main()$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}], "hash": "49c7aa480d4b538a61c239e9dfa2e2ae", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/CcspMisc/source/Notify_Lease/Notify_Lease.c", "revision_history": [{"22830": ""}]}