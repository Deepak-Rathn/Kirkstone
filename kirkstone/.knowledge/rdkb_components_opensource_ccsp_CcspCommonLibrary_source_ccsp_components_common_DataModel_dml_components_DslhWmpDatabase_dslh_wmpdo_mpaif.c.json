{"is_source_file": true, "format": "C", "description": "This source file implements the advanced parameter access functions for a data model component in a TR-069/DSLH system, including locking mechanisms, get/set parameter values, and commit operations. It appears to handle parameter validation, access control, user change monitoring, and notification mechanisms.", "external_files": ["dslh_wmpdo_global.h", "ccsp_base_api.h", "poam_irepfo_interface.h", "dslh_dmagnt_interface.h", "sys_definitions.h", "ccsp_psm_helper.h", "ccsp_trace.h", "slap_vco_internal_api.h", "messagebus_interface_helper.h", "safec_lib_common.h"], "external_methods": ["AnscAcquireLock", "AnscReleaseLock", "AnscCloneString", "PSM_Get_Record_Value", "PSM_Set_Record_Value", "SlapInitVariable", "SlapCleanVariable", "CCSP_SUCCESS", "CCSP_ERR_INVALID_ARGUMENTS", "CCSP_ERR_INVALID_PARAMETER_VALUE", "CCSP_ERR_INVALID_PARAMETER_NAME", "CCSP_ERR_INVALID_PARAMETER_TYPE", "CCSP_ERR_NOT_WRITABLE", "CCSP_SUCCESS", "ANSC_STATUS_SUCCESS", "ANSC_STATUS_UNAPPLICABLE", "ANSC_STATUS_RESOURCES", "ANSC_STATUS_BAD_PARAMETER", "ANSC_STATUS_FAILURE", "AnscAcquireTsLock", "AnscReleaseTsLock", "AnscAllocateMemory", "AnscFreeMemory", "AnscCloneString", "AnscSizeOfString", "AnscTraceError", "AnscTrace", "sprintf_s", "ERR_CHK", "SlapVcoIp4AddrToString", "SlapVcoUint32ToString", "SlapVcoBoolToString", "SlapVcoIntToString", "pthread_create", "pthread_mutex_init", "pthread_mutex_lock", "pthread_mutex_unlock", "pthread_detach"], "published": ["DslhWmpdoMpaLockWriteAccess", "DslhWmpdoMpaUnlockWriteAccess", "DslhWmpdoMpaSetParameterValues", "DslhWmpdoMpaGetParameterValues", "DslhWmpdoMpaGetParameterNames", "DslhWmpdoMpaSetParameterAttributes", "DslhWmpdoMpaGetParameterAttributes", "DslhWmpdoMpaAddObject", "DslhWmpdoMpaDeleteObject", "DslhWmpdoMpaSetCommit"], "classes": [], "methods": [{"name": "BOOL DslhWmpdoMpaLockWriteAccess(ANSC_HANDLE hThisObject,char * pAccessEntity)", "description": "Locks the write access to the parameter database for a specified entity, ensuring exclusive write access.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS DslhWmpdoMpaUnlockWriteAccess(ANSC_HANDLE hThisObject)", "description": "Releases the write lock on the parameter database previously acquired.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS DslhWmpdoMpaSetParameterValues(ANSC_HANDLE hThisObject,char * pAccessEntity,void * pParamValueArray,ULONG ulArraySize,int * piStatus,int sessionId,ULONG writeID,BOOL bCommit,char ** ppInvalidParameterName)", "description": "Sets new values for specified parameters after validation, including access control and user change monitoring.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS DslhWmpdoMpaSetCommit(ANSC_HANDLE hThisObject,char * pAccessEntity,int * piStatus,int sessionId,ULONG writeID,BOOL bCommit)", "description": "Commits or rolls back parameter changes based on session and lock state.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS DslhWmpdoMpaGetParameterValues(ANSC_HANDLE hThisObject,char * pAccessEntity,SLAP_STRING_ARRAY * pParamNameArray,ULONG uMaxEntry,void ** ppParamValueArray,PULONG pulArraySize,unsigned int writeID)", "description": "Retrieves current values of specified parameters, handling partial paths, bulk retrieval, and access control.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS DslhWmpdoMpaGetParameterNames(ANSC_HANDLE hThisObject,char * pAccessEntity,char * pParamPath,BOOL bNextLevel,void ** ppParamInfoArray,PULONG pulArraySize)", "description": "Retrieves list of supported parameters under a given path, with support for next-level listing.", "scope": "", "scopeKind": ""}, {"name": "DslhWmpdoMpaGetParameterNames", "description": "Retrieves list of supported parameters under a given path, supporting full or next-level listing, with access control and error handling."}, {"name": "ANSC_STATUS DslhWmpdoMpaSetParameterAttributes(ANSC_HANDLE hThisObject,char * pAccessEntity,void * pSetParamAttribArray,ULONG ulArraySize)", "description": "Configures attributes of specified parameters, including validation, access control, and batch processing.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS DslhWmpdoMpaAddObject(ANSC_HANDLE hThisObject,char * pAccessEntity,char * pObjName,PULONG pulObjInsNumber,int * piStatus)", "description": "Creates a new instance of a multi-instance object, with checks for writability, existence, and resource limits.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS DslhWmpdoMpaDeleteObject(ANSC_HANDLE hThisObject,char * pAccessEntity,char * pObjName,int * piStatus)", "description": "Deletes a specified object instance, with validation for existence, writability, and access restrictions.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CheckUserChangedFlag(PDSLH_WMP_DATABASE_OBJECT pMyObject,ULONG writeID,PDSLH_VAR_RECORD_OBJECT pVarRecord,PDSLH_CWMP_PARAM_VALUE pParamValue)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ANSC_STATUS DslhWmpdoMpaGetParameterAttributes(ANSC_HANDLE hThisObject,char * pAccessEntity,SLAP_STRING_ARRAY * pParamNameArray,ULONG uMaxEntry,void ** ppParamAttribArray,PULONG pulArraySize)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "BOOL LoadUserChangeFlag(PDSLH_DATAMODEL_AGENT_OBJECT pDmlAgent,const char * paramName)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void LoadUserMonitorParameters(PDSLH_DATAMODEL_AGENT_OBJECT pDmlAgent)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void SaveUserChangeFlag(PDSLH_DATAMODEL_AGENT_OBJECT pDmlAgent,const char * paramName)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void * Send_Notification_Thread_Func(void * arg)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void parseOldVal(SLAP_VARIABLE * pOldValue,parameterSigStruct_t * pParamSignal)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["AnscAcquireLock", "AnscReleaseLock", "AnscCloneString", "PSM_Get_Record_Value", "PSM_Set_Record_Value", "SlapInitVariable", "SlapCleanVariable", "CCSP_SUCCESS", "PSM_Get_Record_Value", "PSM_Set_Record_Value", "SlapAllocVariable", "SlapFreeVariable", "SlapVcoIp4AddrToString", "SlapVcoUint32ToString", "SlapVcoBoolToString", "SlapVcoIntToString", "pthread_create", "pthread_mutex_init", "pthread_mutex_lock", "pthread_mutex_unlock", "pthread_detach", "AnscTraceError", "AnscTrace", "sprintf_s", "ERR_CHK"], "search-terms": ["MpaLockWriteAccess", "SetParameterValues", "GetParameterValues", "GetParameterNames", "MpaSetParameterAttributes", "MpaGetParameterAttributes", "AddObject", "DeleteObject", "commit", "lock", "unlock", "user change", "notification", "parameter validation", "access control", "SetParameterAttributes", "partial name"], "state": 2, "file_id": 12328, "knowledge_revision": 25250, "git_revision": "", "ctags": [{"_type": "tag", "name": "CheckUserChangedFlag", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspCommonLibrary/source/ccsp/components/common/DataModel/dml/components/DslhWmpDatabase/dslh_wmpdo_mpaif.c", "pattern": "/^static ANSC_STATUS CheckUserChangedFlag$/", "file": true, "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(PDSLH_WMP_DATABASE_OBJECT pMyObject,ULONG writeID,PDSLH_VAR_RECORD_OBJECT pVarRecord,PDSLH_CWMP_PARAM_VALUE pParamValue)"}, {"_type": "tag", "name": "DslhWmpdoMpaAddObject", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspCommonLibrary/source/ccsp/components/common/DataModel/dml/components/DslhWmpDatabase/dslh_wmpdo_mpaif.c", "pattern": "/^DslhWmpdoMpaAddObject$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hThisObject,char * pAccessEntity,char * pObjName,PULONG pulObjInsNumber,int * piStatus)"}, {"_type": "tag", "name": "DslhWmpdoMpaDeleteObject", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspCommonLibrary/source/ccsp/components/common/DataModel/dml/components/DslhWmpDatabase/dslh_wmpdo_mpaif.c", "pattern": "/^DslhWmpdoMpaDeleteObject$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hThisObject,char * pAccessEntity,char * pObjName,int * piStatus)"}, {"_type": "tag", "name": "DslhWmpdoMpaGetParameterAttributes", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspCommonLibrary/source/ccsp/components/common/DataModel/dml/components/DslhWmpDatabase/dslh_wmpdo_mpaif.c", "pattern": "/^DslhWmpdoMpaGetParameterAttributes$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hThisObject,char * pAccessEntity,SLAP_STRING_ARRAY * pParamNameArray,ULONG uMaxEntry,void ** ppParamAttribArray,PULONG pulArraySize)"}, {"_type": "tag", "name": "DslhWmpdoMpaGetParameterNames", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspCommonLibrary/source/ccsp/components/common/DataModel/dml/components/DslhWmpDatabase/dslh_wmpdo_mpaif.c", "pattern": "/^DslhWmpdoMpaGetParameterNames$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hThisObject,char * pAccessEntity,char * pParamPath,BOOL bNextLevel,void ** ppParamInfoArray,PULONG pulArraySize)"}, {"_type": "tag", "name": "DslhWmpdoMpaGetParameterValues", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspCommonLibrary/source/ccsp/components/common/DataModel/dml/components/DslhWmpDatabase/dslh_wmpdo_mpaif.c", "pattern": "/^DslhWmpdoMpaGetParameterValues$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hThisObject,char * pAccessEntity,SLAP_STRING_ARRAY * pParamNameArray,ULONG uMaxEntry,void ** ppParamValueArray,PULONG pulArraySize,unsigned int writeID)"}, {"_type": "tag", "name": "DslhWmpdoMpaLockWriteAccess", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspCommonLibrary/source/ccsp/components/common/DataModel/dml/components/DslhWmpDatabase/dslh_wmpdo_mpaif.c", "pattern": "/^DslhWmpdoMpaLockWriteAccess$/", "language": "C", "typeref": "typename:BOOL", "kind": "function", "signature": "(ANSC_HANDLE hThisObject,char * pAccessEntity)"}, {"_type": "tag", "name": "DslhWmpdoMpaSetCommit", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspCommonLibrary/source/ccsp/components/common/DataModel/dml/components/DslhWmpDatabase/dslh_wmpdo_mpaif.c", "pattern": "/^DslhWmpdoMpaSetCommit$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hThisObject,char * pAccessEntity,int * piStatus,int sessionId,ULONG writeID,BOOL bCommit)"}, {"_type": "tag", "name": "DslhWmpdoMpaSetParameterAttributes", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspCommonLibrary/source/ccsp/components/common/DataModel/dml/components/DslhWmpDatabase/dslh_wmpdo_mpaif.c", "pattern": "/^DslhWmpdoMpaSetParameterAttributes$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hThisObject,char * pAccessEntity,void * pSetParamAttribArray,ULONG ulArraySize)"}, {"_type": "tag", "name": "DslhWmpdoMpaSetParameterValues", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspCommonLibrary/source/ccsp/components/common/DataModel/dml/components/DslhWmpDatabase/dslh_wmpdo_mpaif.c", "pattern": "/^DslhWmpdoMpaSetParameterValues$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hThisObject,char * pAccessEntity,void * pParamValueArray,ULONG ulArraySize,int * piStatus,int sessionId,ULONG writeID,BOOL bCommit,char ** ppInvalidParameterName)"}, {"_type": "tag", "name": "DslhWmpdoMpaUnlockWriteAccess", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspCommonLibrary/source/ccsp/components/common/DataModel/dml/components/DslhWmpDatabase/dslh_wmpdo_mpaif.c", "pattern": "/^DslhWmpdoMpaUnlockWriteAccess$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hThisObject)"}, {"_type": "tag", "name": "LoadUserChangeFlag", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspCommonLibrary/source/ccsp/components/common/DataModel/dml/components/DslhWmpDatabase/dslh_wmpdo_mpaif.c", "pattern": "/^static BOOL LoadUserChangeFlag$/", "file": true, "language": "C", "typeref": "typename:BOOL", "kind": "function", "signature": "(PDSLH_DATAMODEL_AGENT_OBJECT pDmlAgent,const char * paramName)"}, {"_type": "tag", "name": "LoadUserMonitorParameters", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspCommonLibrary/source/ccsp/components/common/DataModel/dml/components/DslhWmpDatabase/dslh_wmpdo_mpaif.c", "pattern": "/^static void LoadUserMonitorParameters$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(PDSLH_DATAMODEL_AGENT_OBJECT pDmlAgent)"}, {"_type": "tag", "name": "NotifyMutex", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspCommonLibrary/source/ccsp/components/common/DataModel/dml/components/DslhWmpDatabase/dslh_wmpdo_mpaif.c", "pattern": "/^pthread_mutex_t NotifyMutex;$/", "language": "C", "typeref": "typename:pthread_mutex_t", "kind": "variable"}, {"_type": "tag", "name": "SaveUserChangeFlag", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspCommonLibrary/source/ccsp/components/common/DataModel/dml/components/DslhWmpDatabase/dslh_wmpdo_mpaif.c", "pattern": "/^static void SaveUserChangeFlag$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(PDSLH_DATAMODEL_AGENT_OBJECT pDmlAgent,const char * paramName)"}, {"_type": "tag", "name": "Send_Notification_Thread_Func", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspCommonLibrary/source/ccsp/components/common/DataModel/dml/components/DslhWmpDatabase/dslh_wmpdo_mpaif.c", "pattern": "/^void* Send_Notification_Thread_Func(void* arg)$/", "language": "C", "typeref": "typename:void *", "kind": "function", "signature": "(void * arg)"}, {"_type": "tag", "name": "bus", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspCommonLibrary/source/ccsp/components/common/DataModel/dml/components/DslhWmpDatabase/dslh_wmpdo_mpaif.c", "pattern": "/^char bus[256] = \"\\/com\\/cisco\\/spvtg\\/ccsp\\/notifycomponent\";$/", "language": "C", "typeref": "typename:char[256]", "kind": "variable"}, {"_type": "tag", "name": "bus_handle", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspCommonLibrary/source/ccsp/components/common/DataModel/dml/components/DslhWmpDatabase/dslh_wmpdo_mpaif.c", "pattern": "/^void *bus_handle = NULL;$/", "language": "C", "typeref": "typename:void *", "kind": "variable"}, {"_type": "tag", "name": "compo", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspCommonLibrary/source/ccsp/components/common/DataModel/dml/components/DslhWmpDatabase/dslh_wmpdo_mpaif.c", "pattern": "/^char compo[256] = \"eRT.com.cisco.spvtg.ccsp.notifycomponent\";$/", "language": "C", "typeref": "typename:char[256]", "kind": "variable"}, {"_type": "tag", "name": "g_isBusy", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspCommonLibrary/source/ccsp/components/common/DataModel/dml/components/DslhWmpDatabase/dslh_wmpdo_mpaif.c", "pattern": "/^BOOL g_isBusy = FALSE;$/", "language": "C", "typeref": "typename:BOOL", "kind": "variable"}, {"_type": "tag", "name": "notif_val", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspCommonLibrary/source/ccsp/components/common/DataModel/dml/components/DslhWmpDatabase/dslh_wmpdo_mpaif.c", "pattern": "/^parameterValStruct_t notif_val[1];$/", "language": "C", "typeref": "typename:parameterValStruct_t[1]", "kind": "variable"}, {"_type": "tag", "name": "paramCount", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspCommonLibrary/source/ccsp/components/common/DataModel/dml/components/DslhWmpDatabase/dslh_wmpdo_mpaif.c", "pattern": "/^int paramCount=0;$/", "language": "C", "typeref": "typename:int", "kind": "variable"}, {"_type": "tag", "name": "param_name", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspCommonLibrary/source/ccsp/components/common/DataModel/dml/components/DslhWmpDatabase/dslh_wmpdo_mpaif.c", "pattern": "/^char param_name[256] = \"Device.NotifyComponent.SetNotifi_ParamName\";$/", "language": "C", "typeref": "typename:char[256]", "kind": "variable"}, {"_type": "tag", "name": "parseOldVal", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspCommonLibrary/source/ccsp/components/common/DataModel/dml/components/DslhWmpDatabase/dslh_wmpdo_mpaif.c", "pattern": "/^void parseOldVal(SLAP_VARIABLE * pOldValue, parameterSigStruct_t*  pParamSignal)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(SLAP_VARIABLE * pOldValue,parameterSigStruct_t * pParamSignal)"}, {"_type": "tag", "name": "str1", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspCommonLibrary/source/ccsp/components/common/DataModel/dml/components/DslhWmpDatabase/dslh_wmpdo_mpaif.c", "pattern": "/^char *str1[50] = {0};$/", "language": "C", "typeref": "typename:char * [50]", "kind": "variable"}], "hash": "a626f4df03b3408704e296414163d83d", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/CcspCommonLibrary/source/ccsp/components/common/DataModel/dml/components/DslhWmpDatabase/dslh_wmpdo_mpaif.c", "fields": [{"name": "pthread_mutex_t NotifyMutex", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char[256] bus", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void * bus_handle", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char[256] compo", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "BOOL g_isBusy", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "parameterValStruct_t[1] notif_val", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int paramCount", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char[256] param_name", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char * [50] str1", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"25250": ""}]}