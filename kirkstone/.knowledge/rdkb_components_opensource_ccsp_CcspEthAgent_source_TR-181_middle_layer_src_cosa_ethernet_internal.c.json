{"is_source_file": true, "format": "C", "description": "This source file implements backend APIs and internal logic for managing Ethernet interfaces within the COSA Data Model, including initialization, creation, removal, logging, and telemetry functionalities for Ethernet ports and associated devices.", "external_files": ["cosa_ethernet_internal.h", "cosa_ethernet_apis.h", "ccsp_trace.h", "<sys/time.h>", "<sys/inotify.h>", "<sys/stat.h>", "safec_lib_common.h", "<syscfg/syscfg.h>", "secure_wrapper.h", "cosa_ethernet_manager.h", "cosa_rbus_handler_apis.h"], "external_methods": ["CosaDmlEthGetLogStatus", "CosaDmlEthWanGetCfg", "CosaDmlEthInterfaceInit", "CosaDmlEthPortGetNumberOfEntries", "CosaDmlEthPortGetEntry", "CosaDmlEthPortSetValues", "CosaSListGetEntryByInsNum", "IsFileExists", "CcspHalExtSw_getAssociatedDevice", "CcspHalExtSw_ethAssociatedDevice_callback_register", "CcspHalExtSw_ethPortConfigure", "CcspHalExtSw_setEthWanEnable", "CosaEthTelemetryxOpsLogSettingsSync", "CosaEthTelemetryInit"], "published": ["CosaEthInterfaceCreate", "CosaEthInterfaceInitialize", "CosaEthInterfaceRemove", "CosaEthernetCreate", "CosaEthernetInitialize", "CosaEthernetRemove", "CosaDmlSetWanOEMode"], "classes": [{"name": "COSA_DATAMODEL_ETHERNET", "description": "Data structure representing Ethernet configuration and state within the COSA Data Model."}, {"name": "COSA_DATAMODEL_ETH_PORT_FULL", "description": "Represents a full Ethernet port entity including configuration and status."}, {"name": "appCallBack", "description": "Structure used for callback registration for link events."}], "methods": [{"name": "ANSC_HANDLE CosaEthInterfaceCreate(VOID)", "description": "Creates and initializes a new Ethernet interface object.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaEthInterfaceInitialize(ANSC_HANDLE hThisObject)", "description": "Initializes the Ethernet interface object, including fetching port entries and assigning instance numbers.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaEthInterfaceRemove(ANSC_HANDLE hThisObject)", "description": "Cleans up and frees resources associated with the Ethernet interface object.", "scope": "", "scopeKind": ""}, {"name": "ANSC_HANDLE CosaEthernetCreate(VOID)", "description": "Constructs a new Ethernet object with creation and initialization routines.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaEthernetInitialize(ANSC_HANDLE hThisObject)", "description": "Performs initialization of the main Ethernet object, sets up logger thread, telemetry, and callbacks.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaEthernetRemove(ANSC_HANDLE hThisObject)", "description": "Removes the Ethernet object, freeing resources.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaDmlSetWanOEMode(PCOSA_DML_ETH_PORT_FULL pEthernetPortFull,PCOSA_DML_ETH_PORT_CONFIG pEthLink)", "description": "Configures the upstream/downstream mode of the Ethernet port based on provided parameters.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaEthPortGetAssocDevices(UCHAR * mac,CHAR * maclist,int numMacAddr)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int CosaEthTelemetryInit()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void CosaEthernetLogger(void)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void * EthTelemetryLoggingThread()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void EthTelemetryPush()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void * EthTelemetryxOpsLogSettingsEventThread()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void Ethernet_Log(void)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void * Ethernet_Logger_Thread(void * data)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ANSC_STATUS InitEthIfaceEntry(ANSC_HANDLE hDml,PCOSA_DML_ETH_PORT_CONFIG pEntry)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void ethGetClientMacDetails(CCSP_HAL_ETHSW_PORT PortId,LONG num_eth_device,eth_device_t * eth_device,int total_client,char * mac,int mem_size)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int ethGetClientsCount(CCSP_HAL_ETHSW_PORT PortId,LONG num_eth_device,eth_device_t * eth_device)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char * get_formatted_time(char * time)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void read_updated_log_interval()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void write_to_file(const char * file_name,char * fmt,...)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["CosaDmlEthGetLogStatus", "CosaDmlEthWanGetCfg", "CosaDmlEthInterfaceInit", "CosaDmlEthPortGetNumberOfEntries", "CosaDmlEthPortGetEntry", "CosaDmlEthPortSetValues", "CosaSListGetEntryByInsNum", "IsFileExists", "CcspHalExtSw_getAssociatedDevice", "CcspHalExtSw_ethAssociatedDevice_callback_register", "CcspHalExtSw_ethPortConfigure", "CcspHalExtSw_setEthWanEnable", "CosaEthTelemetryxOpsLogSettingsSync", "CosaEthTelemetryInit", "appCallBack", "GWP_RegisterEthWan_Callback", "CosaDmlEthInit", "syscfg_set_u_commit", "pthread_create", "pthread_cond_signal", "pthread_mutex_lock", "pthread_cond_timedwait", "pthread_mutex_unlock"], "search-terms": ["CosaEthInterfaceCreate", "Ethernet Port Initialization", "Ethernet Telemetry", "Ethernet Logging Thread", "eth_device_t", "CosaDmlEthPortGetEntries", "Ethernet Port Management", "Ethernet Configuration", "Ethernet Interface API"], "state": 2, "file_id": 6857, "knowledge_revision": 19951, "git_revision": "", "ctags": [{"_type": "tag", "name": "BUF_LEN", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/middle_layer_src/cosa_ethernet_internal.c", "pattern": "/^#define BUF_LEN /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "CosaDmlSetWanOEMode", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/middle_layer_src/cosa_ethernet_internal.c", "pattern": "/^ANSC_STATUS CosaDmlSetWanOEMode (PCOSA_DML_ETH_PORT_FULL pEthernetPortFull,PCOSA_DML_ETH_PORT_CO/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(PCOSA_DML_ETH_PORT_FULL pEthernetPortFull,PCOSA_DML_ETH_PORT_CONFIG pEthLink)"}, {"_type": "tag", "name": "CosaEthInterfaceCreate", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/middle_layer_src/cosa_ethernet_internal.c", "pattern": "/^ANSC_HANDLE CosaEthInterfaceCreate ( VOID )$/", "language": "C", "typeref": "typename:ANSC_HANDLE", "kind": "function", "signature": "(VOID)"}, {"_type": "tag", "name": "CosaEthInterfaceInitialize", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/middle_layer_src/cosa_ethernet_internal.c", "pattern": "/^ANSC_STATUS CosaEthInterfaceInitialize ( ANSC_HANDLE hThisObject )$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hThisObject)"}, {"_type": "tag", "name": "CosaEthInterfaceRemove", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/middle_layer_src/cosa_ethernet_internal.c", "pattern": "/^ANSC_STATUS CosaEthInterfaceRemove ( ANSC_HANDLE hThisObject )$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hThisObject)"}, {"_type": "tag", "name": "CosaEthPortGetAssocDevices", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/middle_layer_src/cosa_ethernet_internal.c", "pattern": "/^ANSC_STATUS CosaEthPortGetAssocDevices ( UCHAR *mac, CHAR *maclist, int numMacAddr )$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(UCHAR * mac,CHAR * maclist,int numMacAddr)"}, {"_type": "tag", "name": "CosaEthTelemetryInit", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/middle_layer_src/cosa_ethernet_internal.c", "pattern": "/^int CosaEthTelemetryInit()$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "CosaEthernetCreate", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/middle_layer_src/cosa_ethernet_internal.c", "pattern": "/^CosaEthernetCreate$/", "language": "C", "typeref": "typename:ANSC_HANDLE", "kind": "function", "signature": "(VOID)"}, {"_type": "tag", "name": "CosaEthernetInitialize", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/middle_layer_src/cosa_ethernet_internal.c", "pattern": "/^CosaEthernetInitialize$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hThisObject)"}, {"_type": "tag", "name": "CosaEthernetLogger", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/middle_layer_src/cosa_ethernet_internal.c", "pattern": "/^static void CosaEthernetLogger(void)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "CosaEthernetRemove", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/middle_layer_src/cosa_ethernet_internal.c", "pattern": "/^CosaEthernetRemove$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hThisObject)"}, {"_type": "tag", "name": "ETH_LOG_FILE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/middle_layer_src/cosa_ethernet_internal.c", "pattern": "/^#define ETH_LOG_FILE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "EthTelemetryLoggingThread", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/middle_layer_src/cosa_ethernet_internal.c", "pattern": "/^void* EthTelemetryLoggingThread()$/", "language": "C", "typeref": "typename:void *", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "EthTelemetryPush", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/middle_layer_src/cosa_ethernet_internal.c", "pattern": "/^static void EthTelemetryPush()$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "EthTelemetryxOpsLogSettingsEventThread", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/middle_layer_src/cosa_ethernet_internal.c", "pattern": "/^void*  EthTelemetryxOpsLogSettingsEventThread()$/", "language": "C", "typeref": "typename:void *", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "Ethernet_Log", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/middle_layer_src/cosa_ethernet_internal.c", "pattern": "/^void Ethernet_Log(void)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "Ethernet_Logger_Thread", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/middle_layer_src/cosa_ethernet_internal.c", "pattern": "/^void * Ethernet_Logger_Thread(void *data)$/", "language": "C", "typeref": "typename:void *", "kind": "function", "signature": "(void * data)"}, {"_type": "tag", "name": "InitEthIfaceEntry", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/middle_layer_src/cosa_ethernet_internal.c", "pattern": "/^ANSC_STATUS InitEthIfaceEntry(ANSC_HANDLE hDml, PCOSA_DML_ETH_PORT_CONFIG pEntry)$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hDml,PCOSA_DML_ETH_PORT_CONFIG pEntry)"}, {"_type": "tag", "name": "LENGTH_DELIMITER", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/middle_layer_src/cosa_ethernet_internal.c", "pattern": "/^#define LENGTH_DELIMITER /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "LENGTH_MAC_ADDRESS", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/middle_layer_src/cosa_ethernet_internal.c", "pattern": "/^#define LENGTH_MAC_ADDRESS /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "cond", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/middle_layer_src/cosa_ethernet_internal.c", "pattern": "/^pthread_cond_t cond = PTHREAD_COND_INITIALIZER;$/", "language": "C", "typeref": "typename:pthread_cond_t", "kind": "variable"}, {"_type": "tag", "name": "ethGetClientMacDetails", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/middle_layer_src/cosa_ethernet_internal.c", "pattern": "/^static void ethGetClientMacDetails$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(CCSP_HAL_ETHSW_PORT PortId,LONG num_eth_device,eth_device_t * eth_device,int total_client,char * mac,int mem_size)"}, {"_type": "tag", "name": "ethGetClientsCount", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/middle_layer_src/cosa_ethernet_internal.c", "pattern": "/^static int ethGetClientsCount$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(CCSP_HAL_ETHSW_PORT PortId,LONG num_eth_device,eth_device_t * eth_device)"}, {"_type": "tag", "name": "eth_telemetry_log", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/middle_layer_src/cosa_ethernet_internal.c", "pattern": "/^static const char *eth_telemetry_log = \"\\/rdklogs\\/logs\\/eth_telemetry.txt\";$/", "file": true, "language": "C", "typeref": "typename:const char *", "kind": "variable"}, {"_type": "tag", "name": "gEthLogEnable", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/middle_layer_src/cosa_ethernet_internal.c", "pattern": "/^static char gEthLogEnable[7] = {0};$/", "file": true, "language": "C", "typeref": "typename:char[7]", "kind": "variable"}, {"_type": "tag", "name": "gEthLogInterval", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/middle_layer_src/cosa_ethernet_internal.c", "pattern": "/^static unsigned int gEthLogInterval;$/", "file": true, "language": "C", "typeref": "typename:unsigned int", "kind": "variable"}, {"_type": "tag", "name": "get_formatted_time", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/middle_layer_src/cosa_ethernet_internal.c", "pattern": "/^static char *get_formatted_time(char *time)$/", "file": true, "language": "C", "typeref": "typename:char *", "kind": "function", "signature": "(char * time)"}, {"_type": "tag", "name": "mutex", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/middle_layer_src/cosa_ethernet_internal.c", "pattern": "/^pthread_mutex_t mutex = PTHREAD_MUTEX_INITIALIZER;$/", "language": "C", "typeref": "typename:pthread_mutex_t", "kind": "variable"}, {"_type": "tag", "name": "read_updated_log_interval", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/middle_layer_src/cosa_ethernet_internal.c", "pattern": "/^static void read_updated_log_interval()$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "write_to_file", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/middle_layer_src/cosa_ethernet_internal.c", "pattern": "/^static void write_to_file(const char *file_name, char *fmt, ...)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(const char * file_name,char * fmt,...)"}], "hash": "95519842075c3dfe7f42cabf0c04da63", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/CcspEthAgent/source/TR-181/middle_layer_src/cosa_ethernet_internal.c", "fields": [{"name": "pthread_cond_t cond", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const char * eth_telemetry_log", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char[7] gEthLogEnable", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "unsigned int gEthLogInterval", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pthread_mutex_t mutex", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"19951": ""}]}