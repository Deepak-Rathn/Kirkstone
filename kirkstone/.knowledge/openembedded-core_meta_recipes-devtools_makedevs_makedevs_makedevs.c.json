{"is_source_file": true, "format": "C", "description": "This file is a C program named 'makedevs' designed to build device nodes and other filesystem entries based on a device table. It includes functions for creating directories, files, device nodes, FIFOs, and parsing configuration tables, with support for error handling, user/group resolution, and command-line options.", "external_files": ["stdio.h", "errno.h", "string.h", "stdarg.h", "stdlib.h", "ctype.h", "fcntl.h", "dirent.h", "unistd.h", "time.h", "getopt.h", "libgen.h", "sys/types.h", "sys/stat.h"], "external_methods": ["fopen", "getline", "strdup", "malloc", "free", "mkdir", "chmod", "chown", "mknod", "stat", "lstat", "open", "close", "error_msg_and_die", "perror_msg_and_die"], "published": ["main"], "classes": [], "methods": [{"name": "void verror_msg(const char * s,va_list p)", "description": "Formats and outputs an error message to standard error.", "scope": "", "scopeKind": ""}, {"name": "void error_msg_and_die(const char * s,...)", "description": "Displays an error message and terminates the program.", "scope": "", "scopeKind": ""}, {"name": "void vperror_msg(const char * s,va_list p)", "description": "Prints an error message with strerror corresponding to errno.", "scope": "", "scopeKind": ""}, {"name": "void perror_msg_and_die(const char * s,...)", "description": "Displays an error message with perror information and terminates.", "scope": "", "scopeKind": ""}, {"name": "FILE * xfopen(const char * path,const char * mode)", "description": "Opens a file with error handling.", "scope": "", "scopeKind": ""}, {"name": "char * xstrdup(const char * s)", "description": "Duplicates a string with error checking.", "scope": "", "scopeKind": ""}, {"name": "struct:name_id * alloc_node(void)", "description": "Allocates and initializes a new name_id node.", "scope": "", "scopeKind": ""}, {"name": "struct:name_id * parse_line(char * line)", "description": "Parses a line from a name/id list into a node.", "scope": "", "scopeKind": ""}, {"name": "void get_list_from_file(FILE * file,struct name_id ** plist)", "description": "Reads a list of name/id pairs from a file.", "scope": "", "scopeKind": ""}, {"name": "unsigned long convert2guid(char * id_buf,struct name_id * search_list)", "description": "Converts an id buffer to a number, resolving names if needed.", "scope": "", "scopeKind": ""}, {"name": "void free_list(struct name_id * list)", "description": "Frees a linked list of name_id nodes.", "scope": "", "scopeKind": ""}, {"name": "void add_new_directory(char * name,char * path,unsigned long uid,unsigned long gid,unsigned long mode)", "description": "Creates a directory with specified UID, GID, mode.", "scope": "", "scopeKind": ""}, {"name": "void add_new_device(char * name,char * path,unsigned long uid,unsigned long gid,unsigned long mode,dev_t rdev)", "description": "Creates a device node with specified parameters.", "scope": "", "scopeKind": ""}, {"name": "void add_new_file(char * name,char * path,unsigned long uid,unsigned long gid,unsigned long mode)", "description": "Creates a regular file with specified parameters.", "scope": "", "scopeKind": ""}, {"name": "void add_new_fifo(char * name,char * path,unsigned long uid,unsigned long gid,unsigned long mode)", "description": "Creates a FIFO special file with specified parameters.", "scope": "", "scopeKind": ""}, {"name": "int interpret_table_entry(char * line)", "description": "Parses and executes a line from a device table to create filesystem entries.", "scope": "", "scopeKind": ""}, {"name": "void parse_device_table(FILE * file)", "description": "Reads and processes the device table file line by line.", "scope": "", "scopeKind": ""}, {"name": "int main(int argc,char ** argv)", "description": "Entry point; processes command-line arguments, loads user/group lists, and parses device table.", "scope": "", "scopeKind": ""}, {"name": "int parse_devtable(FILE * devtable)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["fopen", "getline", "strdup", "malloc", "free", "mkdir", "chmod", "chown", "mknod", "lstat", "stat", "open", "close", "verror_msg", "error_msg_and_die", "vperror_msg", "perror_msg_and_die"], "search-terms": ["makedevs", "device table", "device nodes", "filesystem entries", "device creation", "device table parsing", "creation of /dev files", "device file modes", "device major minor"], "state": 2, "file_id": 2131, "knowledge_revision": 15276, "git_revision": "", "ctags": [{"_type": "tag", "name": "MAX_ID_LEN", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^#define MAX_ID_LEN /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MAX_NAME_LEN", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^#define MAX_NAME_LEN /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MINORBITS", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^#define MINORBITS\t/", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MKDEV", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^#define MKDEV(/", "file": true, "language": "C", "kind": "macro", "signature": "(ma,mi)"}, {"_type": "tag", "name": "PATH_MAX", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^#define PATH_MAX /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "VERSION", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^#define VERSION /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "_GNU_SOURCE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^#define _GNU_SOURCE$/", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "add_new_device", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^static void add_new_device(char *name, char *path, unsigned long uid,$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(char * name,char * path,unsigned long uid,unsigned long gid,unsigned long mode,dev_t rdev)"}, {"_type": "tag", "name": "add_new_directory", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^static void add_new_directory(char *name, char *path,$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(char * name,char * path,unsigned long uid,unsigned long gid,unsigned long mode)"}, {"_type": "tag", "name": "add_new_fifo", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^static void add_new_fifo(char *name, char *path, unsigned long uid,$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(char * name,char * path,unsigned long uid,unsigned long gid,unsigned long mode)"}, {"_type": "tag", "name": "add_new_file", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^static void add_new_file(char *name, char *path, unsigned long uid,$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(char * name,char * path,unsigned long uid,unsigned long gid,unsigned long mode)"}, {"_type": "tag", "name": "alloc_node", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^static struct name_id* alloc_node(void)$/", "file": true, "language": "C", "typeref": "struct:name_id *", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "app_name", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^static const char *const app_name = \"makedevs\";$/", "file": true, "language": "C", "typeref": "typename:const char * const", "kind": "variable"}, {"_type": "tag", "name": "convert2guid", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^static unsigned long convert2guid(char *id_buf, struct name_id *search_list)$/", "file": true, "language": "C", "typeref": "typename:unsigned long", "kind": "function", "signature": "(char * id_buf,struct name_id * search_list)"}, {"_type": "tag", "name": "default_rootdir", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^static char default_rootdir[]=\".\";$/", "file": true, "language": "C", "typeref": "typename:char[]", "kind": "variable"}, {"_type": "tag", "name": "error_msg_and_die", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^static void error_msg_and_die(const char *s, ...)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(const char * s,...)"}, {"_type": "tag", "name": "free_list", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^static void free_list(struct name_id *list)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(struct name_id * list)"}, {"_type": "tag", "name": "get_list_from_file", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^static void get_list_from_file(FILE *file, struct name_id **plist)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(FILE * file,struct name_id ** plist)"}, {"_type": "tag", "name": "grp_list", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^static struct name_id *grp_list = NULL;$/", "file": true, "language": "C", "typeref": "struct:name_id *", "kind": "variable"}, {"_type": "tag", "name": "helptext", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^static char *helptext =$/", "file": true, "language": "C", "typeref": "typename:char *", "kind": "variable"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^\tunsigned long id;$/", "file": true, "language": "C", "typeref": "typename:unsigned long", "kind": "member", "scope": "name_id", "scopeKind": "struct"}, {"_type": "tag", "name": "interpret_table_entry", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^static int interpret_table_entry(char *line)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(char * line)"}, {"_type": "tag", "name": "long_options", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^static struct option long_options[] = {$/", "file": true, "language": "C", "typeref": "struct:option[]", "kind": "variable"}, {"_type": "tag", "name": "main", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^int main(int argc, char **argv)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(int argc,char ** argv)"}, {"_type": "tag", "name": "memory_exhausted", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^static const char *const memory_exhausted = \"memory exhausted\";$/", "file": true, "language": "C", "typeref": "typename:const char * const", "kind": "variable"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^\tchar name[MAX_NAME_LEN+1];$/", "file": true, "language": "C", "typeref": "typename:char[]", "kind": "member", "scope": "name_id", "scopeKind": "struct"}, {"_type": "tag", "name": "name_id", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^struct name_id {$/", "file": true, "language": "C", "kind": "struct"}, {"_type": "tag", "name": "next", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^\tstruct name_id *next;$/", "file": true, "language": "C", "typeref": "struct:name_id *", "kind": "member", "scope": "name_id", "scopeKind": "struct"}, {"_type": "tag", "name": "parse_device_table", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^static void parse_device_table(FILE * file)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(FILE * file)"}, {"_type": "tag", "name": "parse_devtable", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^static int parse_devtable(FILE * devtable)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(FILE * devtable)"}, {"_type": "tag", "name": "parse_line", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^static struct name_id* parse_line(char *line)$/", "file": true, "language": "C", "typeref": "struct:name_id *", "kind": "function", "signature": "(char * line)"}, {"_type": "tag", "name": "perror_msg_and_die", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^static void perror_msg_and_die(const char *s, ...)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(const char * s,...)"}, {"_type": "tag", "name": "rootdir", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^static char *rootdir = default_rootdir;$/", "file": true, "language": "C", "typeref": "typename:char *", "kind": "variable"}, {"_type": "tag", "name": "trace", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^static int trace = 0;$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "variable"}, {"_type": "tag", "name": "usr_list", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^static struct name_id *usr_list = NULL;$/", "file": true, "language": "C", "typeref": "struct:name_id *", "kind": "variable"}, {"_type": "tag", "name": "verror_msg", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^static void verror_msg(const char *s, va_list p)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(const char * s,va_list p)"}, {"_type": "tag", "name": "vperror_msg", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^static void vperror_msg(const char *s, va_list p)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(const char * s,va_list p)"}, {"_type": "tag", "name": "xfopen", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^static FILE *xfopen(const char *path, const char *mode)$/", "file": true, "language": "C", "typeref": "typename:FILE *", "kind": "function", "signature": "(const char * path,const char * mode)"}, {"_type": "tag", "name": "xstrdup", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "pattern": "/^static char *xstrdup(const char *s)$/", "file": true, "language": "C", "typeref": "typename:char *", "kind": "function", "signature": "(const char * s)"}], "hash": "97a2dfa23a0f42f3fff96ff7a4673bf1", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "openembedded-core/meta/recipes-devtools/makedevs/makedevs/makedevs.c", "fields": [{"name": "const char * const app_name", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char[] default_rootdir", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "struct:name_id * grp_list", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char * helptext", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "unsigned long id", "scope": "name_id", "scopeKind": "struct", "description": "unavailable"}, {"name": "struct:option[] long_options", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const char * const memory_exhausted", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char[] name", "scope": "name_id", "scopeKind": "struct", "description": "unavailable"}, {"name": "struct:name_id * next", "scope": "name_id", "scopeKind": "struct", "description": "unavailable"}, {"name": "char * rootdir", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int trace", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "struct:name_id * usr_list", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"15276": ""}]}