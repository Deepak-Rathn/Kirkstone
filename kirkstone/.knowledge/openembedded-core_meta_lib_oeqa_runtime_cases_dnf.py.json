{"is_source_file": true, "format": "Python", "description": "This file contains Python source code implementing automated tests for the DNF package manager in a Yocto-based embedded Linux environment. The tests include verifying help output, version info, package installation, repository management, and install root setup, utilizing various decorators for dependencies and conditional execution.", "external_files": ["oeqa.utils.httpserver", "oeqa.runtime.case", "oeqa.core.decorator.depends", "oeqa.core.decorator.data", "oeqa.runtime.decorator.package"], "external_methods": ["os.linesep", "os.listdir", "subprocess.check_output", "self.target.run", "self.assertEqual", "bb.utils.which", "os.getenv"], "published": ["DnfTest", "DnfBasicTest", "DnfRepoTest"], "classes": [{"name": "DnfTest", "description": "Base class providing a method to execute DNF commands with verification of expected exit status."}, {"name": "DnfBasicTest", "description": "Derived class containing basic DNF command tests such as help, version, info, and search."}, {"name": "DnfRepoTest", "description": "Derived class with tests involving repository setup, cache management, package installation, and install root configurations."}], "methods": [{"name": "dnf(self, command, expected = 0)", "description": "Executes a dnf command with a specified expected exit status, asserting correctness.", "scope": "DnfTest", "scopeKind": "class"}, {"name": "test_dnf_help(self)", "description": "Tests the 'dnf --help' command to verify it's functioning.", "scope": "DnfBasicTest", "scopeKind": "class"}, {"name": "test_dnf_version(self)", "description": "Tests the 'dnf --version' command to verify version output.", "scope": "DnfBasicTest", "scopeKind": "class"}, {"name": "test_dnf_info(self)", "description": "Tests retrieving info for DNF via 'dnf info dnf'.", "scope": "DnfBasicTest", "scopeKind": "class"}, {"name": "test_dnf_search(self)", "description": "Tests the search functionality of DNF.", "scope": "DnfBasicTest", "scopeKind": "class"}, {"name": "test_dnf_makecache(self)", "description": "Tests creating the repository cache with 'dnf makecache'.", "scope": "DnfRepoTest", "scopeKind": "class"}, {"name": "test_dnf_repoinfo(self)", "description": "Tests repository info retrieval.", "scope": "DnfRepoTest", "scopeKind": "class"}, {"name": "test_dnf_install(self)", "description": "Tests installing a package via DNF, including dependency removal if needed.", "scope": "DnfRepoTest", "scopeKind": "class"}, {"name": "test_dnf_install_dependency(self)", "description": "Tests installing a package with dependencies.", "scope": "DnfRepoTest", "scopeKind": "class"}, {"name": "test_dnf_install_from_disk(self)", "description": "Tests installing a package from local disk cache.", "scope": "DnfRepoTest", "scopeKind": "class"}, {"name": "test_dnf_install_from_http(self)", "description": "Tests installing a package from an HTTP repository.", "scope": "DnfRepoTest", "scopeKind": "class"}, {"name": "test_dnf_reinstall(self)", "description": "Tests reinstalling a package.", "scope": "DnfRepoTest", "scopeKind": "class"}, {"name": "test_dnf_installroot(self)", "description": "Sets up an install root environment and installs packages into it.", "scope": "DnfRepoTest", "scopeKind": "class"}, {"name": "test_dnf_installroot_usrmerge(self)", "description": "Sets up an usrmerge-style install root environment and installs packages.", "scope": "DnfRepoTest", "scopeKind": "class"}, {"name": "test_dnf_exclude(self)", "description": "Tests excluding a package during installation.", "scope": "DnfRepoTest", "scopeKind": "class"}, {"name": "dnf_with_repo(self, command)", "scope": "DnfRepoTest", "scopeKind": "class", "description": "unavailable"}, {"name": "setUpClass(cls)", "scope": "DnfRepoTest", "scopeKind": "class", "description": "unavailable"}, {"name": "tearDownClass(cls)", "scope": "DnfRepoTest", "scopeKind": "class", "description": "unavailable"}, {"name": "test_dnf_history(self)", "scope": "DnfBasicTest", "scopeKind": "class", "description": "unavailable"}], "calls": ["self.target.run", "self.assertEqual", "os.linesep.join", "os.listdir", "subprocess.check_output", "bb.utils.which", "os.getenv"], "search-terms": ["dnf", "package management", "repository", "installroot", "rpm", "yocto", "OEHasPackage", "DnfTest", "DnfBasicTest", "DnfRepoTest", "HTTPService"], "state": 2, "file_id": 1978, "knowledge_revision": 15127, "git_revision": "", "ctags": [{"_type": "tag", "name": "DnfBasicTest", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/runtime/cases/dnf.py", "pattern": "/^class DnfBasicTest(DnfTest):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "DnfRepoTest", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/runtime/cases/dnf.py", "pattern": "/^class DnfRepoTest(DnfTest):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "DnfTest", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/runtime/cases/dnf.py", "pattern": "/^class DnfTest(OERuntimeTestCase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "dnf", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/runtime/cases/dnf.py", "pattern": "/^    def dnf(self, command, expected = 0):$/", "language": "Python", "kind": "member", "signature": "(self, command, expected = 0)", "scope": "DnfTest", "scopeKind": "class"}, {"_type": "tag", "name": "dnf_with_repo", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/runtime/cases/dnf.py", "pattern": "/^    def dnf_with_repo(self, command):$/", "language": "Python", "kind": "member", "signature": "(self, command)", "scope": "DnfRepoTest", "scopeKind": "class"}, {"_type": "tag", "name": "setUpClass", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/runtime/cases/dnf.py", "pattern": "/^    def setUpClass(cls):$/", "language": "Python", "kind": "member", "signature": "(cls)", "scope": "DnfRepoTest", "scopeKind": "class"}, {"_type": "tag", "name": "tearDownClass", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/runtime/cases/dnf.py", "pattern": "/^    def tearDownClass(cls):$/", "language": "Python", "kind": "member", "signature": "(cls)", "scope": "DnfRepoTest", "scopeKind": "class"}, {"_type": "tag", "name": "test_dnf_exclude", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/runtime/cases/dnf.py", "pattern": "/^    def test_dnf_exclude(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "DnfRepoTest", "scopeKind": "class"}, {"_type": "tag", "name": "test_dnf_help", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/runtime/cases/dnf.py", "pattern": "/^    def test_dnf_help(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "DnfBasicTest", "scopeKind": "class"}, {"_type": "tag", "name": "test_dnf_history", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/runtime/cases/dnf.py", "pattern": "/^    def test_dnf_history(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "DnfBasicTest", "scopeKind": "class"}, {"_type": "tag", "name": "test_dnf_info", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/runtime/cases/dnf.py", "pattern": "/^    def test_dnf_info(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "DnfBasicTest", "scopeKind": "class"}, {"_type": "tag", "name": "test_dnf_install", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/runtime/cases/dnf.py", "pattern": "/^    def test_dnf_install(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "DnfRepoTest", "scopeKind": "class"}, {"_type": "tag", "name": "test_dnf_install_dependency", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/runtime/cases/dnf.py", "pattern": "/^    def test_dnf_install_dependency(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "DnfRepoTest", "scopeKind": "class"}, {"_type": "tag", "name": "test_dnf_install_from_disk", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/runtime/cases/dnf.py", "pattern": "/^    def test_dnf_install_from_disk(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "DnfRepoTest", "scopeKind": "class"}, {"_type": "tag", "name": "test_dnf_install_from_http", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/runtime/cases/dnf.py", "pattern": "/^    def test_dnf_install_from_http(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "DnfRepoTest", "scopeKind": "class"}, {"_type": "tag", "name": "test_dnf_installroot", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/runtime/cases/dnf.py", "pattern": "/^    def test_dnf_installroot(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "DnfRepoTest", "scopeKind": "class"}, {"_type": "tag", "name": "test_dnf_installroot_usrmerge", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/runtime/cases/dnf.py", "pattern": "/^    def test_dnf_installroot_usrmerge(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "DnfRepoTest", "scopeKind": "class"}, {"_type": "tag", "name": "test_dnf_makecache", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/runtime/cases/dnf.py", "pattern": "/^    def test_dnf_makecache(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "DnfRepoTest", "scopeKind": "class"}, {"_type": "tag", "name": "test_dnf_reinstall", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/runtime/cases/dnf.py", "pattern": "/^    def test_dnf_reinstall(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "DnfRepoTest", "scopeKind": "class"}, {"_type": "tag", "name": "test_dnf_repoinfo", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/runtime/cases/dnf.py", "pattern": "/^    def test_dnf_repoinfo(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "DnfRepoTest", "scopeKind": "class"}, {"_type": "tag", "name": "test_dnf_search", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/runtime/cases/dnf.py", "pattern": "/^    def test_dnf_search(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "DnfBasicTest", "scopeKind": "class"}, {"_type": "tag", "name": "test_dnf_version", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/runtime/cases/dnf.py", "pattern": "/^    def test_dnf_version(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "DnfBasicTest", "scopeKind": "class"}], "hash": "81126b4dcc77354cb66c8d18bedfb897", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "openembedded-core/meta/lib/oeqa/runtime/cases/dnf.py", "revision_history": [{"15127": ""}]}