{"is_source_file": true, "format": "Shell Script / Bash", "description": "This script configures Wi-Fi interfaces, manages hostapd services, sets network configurations, and orchestrates various network components for a router device. It includes functions for restarting hostapd, adjusts network bridges, and sets system parameters related to wireless interfaces, DHCP, and web server configuration.", "external_files": ["/nvram/hostapd0.conf", "/nvram/hostapd1.conf", "/etc/dnsmasq.conf", "/etc/lighttpd.conf", "/usr/bin/setup_routermode.sh", "/lib/rdk/start_hostapd.sh"], "external_methods": ["ifconfig", "ps", "kill", "awk", "hostapd_cli", "rmmod", "modprobe", "ip", "brctl", "grep", "cut", "sed", "cat", "sleep", "ebtables", "cp", "killall", "udhcpc", "/sbin/udhcpc"], "published": [], "classes": [], "methods": [{"name": "Restart_Hostapd", "description": "Restarts hostapd service for 2G interfaces by bringing down network interfaces, killing existing hostapd processes, and starting hostapd with specific config."}, {"name": "Restart_Hostapd_5G", "description": "Restarts the hostapd service for 5G interfaces by reloading kernel modules and starting hostapd with configuration files."}, {"name": "Hostapd_Restart", "description": "Kills hostapd process and restarts the service for the default interface setup."}], "calls": ["ifconfig", "ps -eaf", "grep hostapd0", "awk '{print $2}'", "xargs kill -9", "hostapd -B /nvram/hostapd0.conf", "rmmod rtl8812au", "sleep 1", "modprobe rtl8812au", "modprobe 88x2bu", "hostapd -B /nvram/hostapd1.conf", "cat /etc/dnsmasq.conf", "grep -w dhcp-range", "cut -d ',' -f2", "cut -d '.' -f1-3", "psmcli nosubsys set dmsb.dhcpv4.server.pool.0.IPRouters", "psmcli nosubsys set dmsb.dhcpv4.server.pool.0.SubnetMask", "brctl delif brlan0 eth2", "hostapd_cli -i", "sed -i", "grep", "ifconfig", "cat", "cp", "killall", "/usr/bin/dnsmasq", "/sbin/udhcpc"], "search-terms": ["hostapd", "Wireless Interface", "bridge configuration", "Router setup", "SSID enable/disable", "DHCP pool", "eth0 eth2", "Lighttpd configuration", "dnsmasq", "BridgeMode"], "state": 2, "file_id": 7829, "knowledge_revision": 20893, "git_revision": "", "hash": "65b19c21bc3c57cba3d6d562ec83a08c", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/Utopia/devices/scripts/BridgeMode/RouterMode.sh", "revision_history": [{"20893": ""}]}