{"is_source_file": true, "format": "Python", "description": "This Python script provides functions to determine and set the SOURCE_DATE_EPOCH environment variable used for reproducible builds. It includes logic to derive the date from known files, git repositories, the youngest source file, or fall back to a default value. It also manages reading and writing this epoch value from/to files.", "external_files": ["os", "subprocess", "bb"], "external_methods": ["bb.debug", "bb.warn", "bb.utils.mkdirhier"], "published": ["get_source_date_epoch"], "classes": [], "methods": [{"name": "get_source_date_epoch_from_known_files(d, sourcedir)", "description": "Determines the source date epoch based on the modification times of known files such as NEWS or ChangeLog.", "scope": "", "scopeKind": ""}, {"name": "find_git_folder(d, sourcedir)", "description": "Locates the .git directory within the WORKDIR or source directory.", "scope": "", "scopeKind": ""}, {"name": "get_source_date_epoch_from_git(d, sourcedir)", "description": "Retrieves the latest commit timestamp from a git repository to determine the source date epoch.", "scope": "", "scopeKind": ""}, {"name": "get_source_date_epoch_from_youngest_file(d, sourcedir)", "description": "Finds the most recent modification time among all source files excluding hidden files.", "scope": "", "scopeKind": ""}, {"name": "fixed_source_date_epoch(d)", "description": "Uses a fallback fixed timestamp if no other method applies.", "scope": "", "scopeKind": ""}, {"name": "get_source_date_epoch(d, sourcedir)", "description": "Main function to obtain the source date epoch using the above methods in order.", "scope": "", "scopeKind": ""}, {"name": "epochfile_read(epochfile, d)", "description": "Reads the source date epoch from a specified file, updating cache as needed.", "scope": "", "scopeKind": ""}, {"name": "epochfile_write(source_date_epoch, epochfile, d)", "description": "Writes a specified source date epoch to a file.", "scope": "", "scopeKind": ""}], "calls": ["os.path.join", "os.path.isdir", "os.walk", "os.lstat", "os.rename", "open", "subprocess.run"], "search-terms": ["SOURCE_DATE_EPOCH", "reproducible build", "git rev-parse", "source-file modification time", "create_source_date_epoch_stamp", "SDE_FILE", "SOURCE_DATE_EPOCH_FALLBACK"], "state": 2, "file_id": 1826, "knowledge_revision": 14971, "git_revision": "", "ctags": [{"_type": "tag", "name": "epochfile_read", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oe/reproducible.py", "pattern": "/^def epochfile_read(epochfile, d):$/", "language": "Python", "kind": "function", "signature": "(epochfile, d)"}, {"_type": "tag", "name": "epochfile_write", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oe/reproducible.py", "pattern": "/^def epochfile_write(source_date_epoch, epochfile, d):$/", "language": "Python", "kind": "function", "signature": "(source_date_epoch, epochfile, d)"}, {"_type": "tag", "name": "find_git_folder", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oe/reproducible.py", "pattern": "/^def find_git_folder(d, sourcedir):$/", "language": "Python", "kind": "function", "signature": "(d, sourcedir)"}, {"_type": "tag", "name": "fixed_source_date_epoch", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oe/reproducible.py", "pattern": "/^def fixed_source_date_epoch(d):$/", "language": "Python", "kind": "function", "signature": "(d)"}, {"_type": "tag", "name": "get_source_date_epoch", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oe/reproducible.py", "pattern": "/^def get_source_date_epoch(d, sourcedir):$/", "language": "Python", "kind": "function", "signature": "(d, sourcedir)"}, {"_type": "tag", "name": "get_source_date_epoch_from_git", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oe/reproducible.py", "pattern": "/^def get_source_date_epoch_from_git(d, sourcedir):$/", "language": "Python", "kind": "function", "signature": "(d, sourcedir)"}, {"_type": "tag", "name": "get_source_date_epoch_from_known_files", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oe/reproducible.py", "pattern": "/^def get_source_date_epoch_from_known_files(d, sourcedir):$/", "language": "Python", "kind": "function", "signature": "(d, sourcedir)"}, {"_type": "tag", "name": "get_source_date_epoch_from_youngest_file", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oe/reproducible.py", "pattern": "/^def get_source_date_epoch_from_youngest_file(d, sourcedir):$/", "language": "Python", "kind": "function", "signature": "(d, sourcedir)"}], "hash": "507268acda58c7fe9f99a17f44b006bd", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "openembedded-core/meta/lib/oe/reproducible.py", "revision_history": [{"14971": ""}]}