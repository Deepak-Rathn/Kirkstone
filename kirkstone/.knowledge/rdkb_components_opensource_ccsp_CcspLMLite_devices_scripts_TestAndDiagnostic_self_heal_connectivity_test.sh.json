{"is_source_file": true, "format": "shell script", "description": "This file is a shell script that performs network health diagnostics, including ping and DNS tests, with capabilities to reset the router and perform corrective actions based on test results. It includes configuration and diagnostic functions, conditional loops, and external command invocations.", "external_files": ["/nvram/syscfg.db", "syscfg", "awk", "date", "echo", "removehttp", "nslookup", "route", "sysevent", "dmcli"], "external_methods": ["syscfg get", "syscfg create", "echo_t", "removehttp", "getCorrectiveActionState", "sysevent get", "sysevent set", "dmcli simu setv", "sleep", "route", "awk", "date", "nslookup", "echo"], "published": [], "classes": [], "methods": [{"name": "getCorrectiveActionState", "description": "Retrieves the current state of the corrective action setting from system configuration."}, {"name": "calcRandTimetoStartPing", "description": "Calculates a random delay time before starting ping tests to stagger network diagnostics."}, {"name": "resetRouter", "description": "Initiates a router reboot via simulated device control command."}, {"name": "resetNeeded", "description": "Performs a reset action if needed, specifically when PING process fails."}, {"name": "runDNSPingTest", "description": "Runs DNS resolution ping test and performs corrective actions if the test fails and settings permit."}, {"name": "runPingTest", "description": "Performs network ping tests to the default gateway, evaluates packet loss, and triggers router reset if necessary."}], "calls": ["syscfg get ConnTest_CorrectiveAction", "syscfg get selfheal_dns_pingtest_enable", "syscfg get selfheal_dns_pingtest_url", "removehttp", "getCorrectiveActionState", "dmcli simu setv", "sleep", "syscfg get selfheal_ping_DataBlockSize", "syscfg get ConnTest_NumPingsPerServer", "syscfg get ConnTest_PingRespWaitTime", "sysevent get default_router", "ping", "grep", "awk", "sysevent set default_router", "route -n", "echo $? "], "search-terms": ["self_heal", "ping", "dns", "network diagnostics", "router reboot", "system configuration", "connectivity test", "DNS resolution", "network reset"], "state": 2, "file_id": 7250, "knowledge_revision": 20328, "git_revision": "", "hash": "2163dd9a64954a165f5f223f128c4c38", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/CcspLMLite/devices/scripts/TestAndDiagnostic/self_heal_connectivity_test.sh", "revision_history": [{"20328": ""}]}