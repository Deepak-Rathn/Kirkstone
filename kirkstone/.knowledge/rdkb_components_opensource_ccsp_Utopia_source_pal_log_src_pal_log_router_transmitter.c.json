{"is_source_file": true, "format": "C", "description": "This file implements a log router transmitter module in C, handling UDP socket communication, message processing, module registration, and log message handling for a network device management system. It includes handling for control commands, status reporting, module registration, and log data transmission between the application and center components.", "external_files": ["pal_log.h", "pal_log_internal.h"], "external_methods": ["PAL_log_init_inet_udp_socket", "PAL_log_init_local_unix_udp_socket", "PAL_log_recv_and_process_packets", "PAL_log_init_inet_udp_socket_to_addr", "PAL_log_init_local_unix_udp_socket_to_addr"], "published": ["sock_for_net", "sock_for_app", "module_info_in_router_transmitter_map", "active_module_count", "send_packet_to_center_flag", "stored_buffer", "flag_stored_buffer_length_over_max", "index_tail", "_find_process_by_name", "main"], "classes": [{"name": "module_info_in_router_transmitter_t", "description": "Structure representing module information including log level, address, ID, and name for registration and status management."}], "methods": [{"name": "LOCAL VOID _log_router_transmitter_packet_handle(IN CHAR * buf,IN INT32 buf_len,IN struct sockaddr * sock_addr,IN INT32 sock_len)", "description": "Main packet handler function that processes various command types (status requests, module registration, control commands, and log data) based on message headers, and manages buffer and module info accordingly.", "scope": "", "scopeKind": ""}, {"name": "LOCAL INT32 _find_process_by_name(CHAR * process_name)", "description": "Utility to check if a process with the given name is running by inspecting /proc entries.", "scope": "", "scopeKind": ""}, {"name": "INT32 main(VOID)", "description": "Entry point that initializes sockets, registers the process, and enters packet processing loop.", "scope": "", "scopeKind": ""}], "calls": ["PAL_log_init_inet_udp_socket", "PAL_log_init_local_unix_udp_socket", "PAL_log_recv_and_process_packets", "PAL_log_init_inet_udp_socket_to_addr", "PAL_log_init_local_unix_udp_socket_to_addr", "close"], "search-terms": ["pal_log_router_transmitter", "log_router_transmitter.c", "udp_socket", "module_registration", "message_processing", "log_data", "IPC", "status_request", "module_debug_info", "buffer_management"], "state": 2, "file_id": 7752, "knowledge_revision": 26257, "git_revision": "", "ctags": [{"_type": "tag", "name": "BUFF_SIZE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/pal/log/src/pal_log_router_transmitter.c", "pattern": "/^#define BUFF_SIZE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "IN_PKT_HEAD_LENGTH", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/pal/log/src/pal_log_router_transmitter.c", "pattern": "/^#define IN_PKT_HEAD_LENGTH /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "LOG_TRANSMITTER_SOCKET_NUM", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/pal/log/src/pal_log_router_transmitter.c", "pattern": "/^#define LOG_TRANSMITTER_SOCKET_NUM /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "OUT_PKT_HEAD_LENGTH", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/pal/log/src/pal_log_router_transmitter.c", "pattern": "/^#define OUT_PKT_HEAD_LENGTH /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "P_IN_PKT_HEAD", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/pal/log/src/pal_log_router_transmitter.c", "pattern": "/^#define P_IN_PKT_HEAD /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "P_OUT_PKT_HEAD", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/pal/log/src/pal_log_router_transmitter.c", "pattern": "/^#define P_OUT_PKT_HEAD /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "_find_process_by_name", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/pal/log/src/pal_log_router_transmitter.c", "pattern": "/^LOCAL INT32 _find_process_by_name(CHAR* process_name)$/", "language": "C", "typeref": "typename:LOCAL INT32", "kind": "function", "signature": "(CHAR * process_name)"}, {"_type": "tag", "name": "_log_router_transmitter_packet_handle", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/pal/log/src/pal_log_router_transmitter.c", "pattern": "/^LOCAL VOID _log_router_transmitter_packet_handle(IN CHAR *buf, IN INT32 buf_len, IN struct socka/", "language": "C", "typeref": "typename:LOCAL VOID", "kind": "function", "signature": "(IN CHAR * buf,IN INT32 buf_len,IN struct sockaddr * sock_addr,IN INT32 sock_len)"}, {"_type": "tag", "name": "active_module_count", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/pal/log/src/pal_log_router_transmitter.c", "pattern": "/^LOCAL INT32 active_module_count = 0;$/", "language": "C", "typeref": "typename:LOCAL INT32", "kind": "variable"}, {"_type": "tag", "name": "flag_stored_buffer_length_over_max", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/pal/log/src/pal_log_router_transmitter.c", "pattern": "/^LOCAL INT32 flag_stored_buffer_length_over_max = 0;$/", "language": "C", "typeref": "typename:LOCAL INT32", "kind": "variable"}, {"_type": "tag", "name": "index_tail", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/pal/log/src/pal_log_router_transmitter.c", "pattern": "/^LOCAL INT32 index_tail = 0;\\/*(end of buffer)+1; (index_tail-index_head) is buffer length*\\/$/", "language": "C", "typeref": "typename:LOCAL INT32", "kind": "variable"}, {"_type": "tag", "name": "level", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/pal/log/src/pal_log_router_transmitter.c", "pattern": "/^    CHAR level;$/", "file": true, "language": "C", "typeref": "typename:CHAR", "kind": "member", "scope": "module_info_in_router_transmitter_s", "scopeKind": "struct"}, {"_type": "tag", "name": "main", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/pal/log/src/pal_log_router_transmitter.c", "pattern": "/^INT32 main(VOID)$/", "language": "C", "typeref": "typename:INT32", "kind": "function", "signature": "(VOID)"}, {"_type": "tag", "name": "module_app_addr", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/pal/log/src/pal_log_router_transmitter.c", "pattern": "/^    CHAR module_app_addr[MAX_MODULE_APP_SUN_PATH_LENGTH];$/", "file": true, "language": "C", "typeref": "typename:CHAR[]", "kind": "member", "scope": "module_info_in_router_transmitter_s", "scopeKind": "struct"}, {"_type": "tag", "name": "module_id", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/pal/log/src/pal_log_router_transmitter.c", "pattern": "/^    CHAR module_id;$/", "file": true, "language": "C", "typeref": "typename:CHAR", "kind": "member", "scope": "module_info_in_router_transmitter_s", "scopeKind": "struct"}, {"_type": "tag", "name": "module_info_in_router_transmitter_map", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/pal/log/src/pal_log_router_transmitter.c", "pattern": "/^LOCAL module_info_in_router_transmitter_t module_info_in_router_transmitter_map[MAX_MODULE_NUMBE/", "language": "C", "typeref": "typename:LOCAL module_info_in_router_transmitter_t[]", "kind": "variable"}, {"_type": "tag", "name": "module_info_in_router_transmitter_s", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/pal/log/src/pal_log_router_transmitter.c", "pattern": "/^typedef struct module_info_in_router_transmitter_s$/", "file": true, "language": "C", "kind": "struct"}, {"_type": "tag", "name": "module_info_in_router_transmitter_t", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/pal/log/src/pal_log_router_transmitter.c", "pattern": "/^}module_info_in_router_transmitter_t;$/", "file": true, "language": "C", "typeref": "struct:module_info_in_router_transmitter_s", "kind": "typedef"}, {"_type": "tag", "name": "module_name", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/pal/log/src/pal_log_router_transmitter.c", "pattern": "/^    CHAR module_name[MAX_NAME_LENGTH];$/", "file": true, "language": "C", "typeref": "typename:CHAR[]", "kind": "member", "scope": "module_info_in_router_transmitter_s", "scopeKind": "struct"}, {"_type": "tag", "name": "send_packet_to_center_flag", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/pal/log/src/pal_log_router_transmitter.c", "pattern": "/^LOCAL INT32 send_packet_to_center_flag = 0;$/", "language": "C", "typeref": "typename:LOCAL INT32", "kind": "variable"}, {"_type": "tag", "name": "sock_for_app", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/pal/log/src/pal_log_router_transmitter.c", "pattern": "/^LOCAL INT32 sock_for_app;$/", "language": "C", "typeref": "typename:LOCAL INT32", "kind": "variable"}, {"_type": "tag", "name": "sock_for_net", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/pal/log/src/pal_log_router_transmitter.c", "pattern": "/^LOCAL INT32 sock_for_net;$/", "language": "C", "typeref": "typename:LOCAL INT32", "kind": "variable"}, {"_type": "tag", "name": "sock_net_addr_center", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/pal/log/src/pal_log_router_transmitter.c", "pattern": "/^LOCAL struct sockaddr_in sock_net_addr_center;$/", "language": "C", "typeref": "struct:sockaddr_in", "kind": "variable"}, {"_type": "tag", "name": "stored_buffer", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/pal/log/src/pal_log_router_transmitter.c", "pattern": "/^LOCAL CHAR stored_buffer[MAX_BUF_SIZE] = {0};\\/*'\\\\0' is not stored in buffer*\\/$/", "language": "C", "typeref": "typename:LOCAL CHAR[]", "kind": "variable"}], "hash": "3e82e25c7d35cc09f183819353d6e2ad", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/Utopia/source/pal/log/src/pal_log_router_transmitter.c", "fields": [{"name": "LOCAL INT32 active_module_count", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "LOCAL INT32 flag_stored_buffer_length_over_max", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "LOCAL INT32 index_tail", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "CHAR level", "scope": "module_info_in_router_transmitter_s", "scopeKind": "struct", "description": "unavailable"}, {"name": "CHAR[] module_app_addr", "scope": "module_info_in_router_transmitter_s", "scopeKind": "struct", "description": "unavailable"}, {"name": "CHAR module_id", "scope": "module_info_in_router_transmitter_s", "scopeKind": "struct", "description": "unavailable"}, {"name": "LOCAL module_info_in_router_transmitter_t[] module_info_in_router_transmitter_map", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "CHAR[] module_name", "scope": "module_info_in_router_transmitter_s", "scopeKind": "struct", "description": "unavailable"}, {"name": "LOCAL INT32 send_packet_to_center_flag", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "LOCAL INT32 sock_for_app", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "LOCAL INT32 sock_for_net", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "struct:sockaddr_in sock_net_addr_center", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "LOCAL CHAR[] stored_buffer", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"26257": ""}]}