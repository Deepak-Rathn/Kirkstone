{"is_source_file": true, "format": "Shell script", "description": "This is a shell script designed to manage PPPoE WAN connections, including bringing the WAN interface up or down based on network link states and desired configurations. It contains functions to prepare PPP options, handle interface states, and respond to system events related to WAN connectivity.", "external_files": ["/etc/utopia/service.d/ulog_functions.sh", "/etc/utopia/service.d/log_capture_path.sh", "/etc/utopia/service.d/service_wan/ppp_helpers.sh", "/lib/rdk/t2Shared_api.sh", "/syscfg"], "external_methods": ["sysevent get", "sysevent set", "syscfg get", "t2CountNotify", "do_start_wan_monitor", "do_stop_wan_monitor"], "published": ["current_ipv4_wan_state", "desired_ipv4_wan_state", "current_ipv4_link_state", "wan_ifname", "wan_proto"], "classes": [], "methods": [{"name": "prepare_pppoe", "description": "Sets up PPPoE configuration files and options for establishing a PPPoE session."}, {"name": "bring_wan_down", "description": "Terminates the WAN connection and resets related system states."}, {"name": "bring_wan_up", "description": "Initializes and activates the PPPoE WAN connection if the protocol is PPPoE."}], "calls": ["sysevent get desired_ipv4_wan_state", "sysevent get current_ipv4_wan_state", "sysevent get current_ipv4_link_state", "sysevent get wan_ifname", "syscfg get wan_proto", "sysevent set wan-status", "sysevent set pppd_current_wan_ipaddr", "sysevent set pppd_current_wan_subnet", "sysevent set pppd_current_wan_ifname", "sysevent set current_wan_ipaddr", "sysevent set current_wan_subnet", "sysevent set firewall-restart", "t2CountNotify", "do_start_wan_monitor", "do_stop_wan_monitor"], "search-terms": ["pppoe", "wan_script", "wan_iface", "ppp_helpers", "wan_protocol", "ppp configuration", "ppp options", "WAN link management", "WAN interface script"], "state": 2, "file_id": 7613, "knowledge_revision": 20691, "git_revision": "", "hash": "918659397671f5900e255ef8da7e88d4", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/Utopia/source/scripts/init/service.d/service_wan/pppoe_wan.sh", "revision_history": [{"20691": ""}]}