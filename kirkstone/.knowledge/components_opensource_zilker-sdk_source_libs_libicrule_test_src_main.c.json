{"is_source_file": true, "format": "C", "description": "This is a C source file containing unit tests for XML parsing functions related to automation rules in a smart home system. The tests cover parsing of time, constraints, actions, triggers for sensors, lighting, door locks, thermostats, and related scenarios using the CMocka testing framework.", "external_files": ["/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/libicrule/test/src/main.c", "<icrule/icrule.h>", "<libxml2/libxml/tree.h>", "../../src/icrule_internal.h", "../../src/icrule_action.h", "../../src/icrule_constraint.h", "../../src/icrule_trigger.h"], "external_methods": ["xmlParseMemory", "xmlDocGetRootElement", "xmlFreeDoc", "hashMapCreate", "icrule_get_action_list_dir", "icrule_action_list_load", "icrule_action_list_release", "icrule_parse_time_slot", "icrule_parse_constraint", "icrule_parse_action", "icrule_update_message_attachment", "icrule_parse_trigger_list", "linkedListCreate", "linkedListCount", "linkedListGetElementAt", "linkedListDestroy", "icrule_free_constraint", "icrule_free_trigger", "assert_non_null", "assert_int_equal", "assert_string_equal", "assert_true", "assert_false", "xmlParseMemory"], "published": ["main"], "classes": [], "methods": [{"name": "void load_xml(const char * xml,xmlDocPtr * doc,xmlNodePtr * top)", "description": "Helper function to parse XML memory into an XML document and retrieve the root element.", "scope": "", "scopeKind": ""}, {"name": "icHashMap * load_action_map(void)", "description": "Loads action list XML files into a hash map for testing.", "scope": "", "scopeKind": ""}, {"name": "void test_parse_time(void ** state)", "description": "Unit test for parsing time slot XML into internal data structures.", "scope": "", "scopeKind": ""}, {"name": "void test_parse_constraint(void ** state)", "description": "Unit test for parsing constraints XML into internal data structures.", "scope": "", "scopeKind": ""}, {"name": "void test_parse_action(void ** state)", "description": "Unit test for parsing action XML and verifying parameters and message attachments.", "scope": "", "scopeKind": ""}, {"name": "void verify_multiaction_entry(icrule_action_t * action,const char * id,const char * level,const char * duration)", "description": "Helper to verify attributes of multi-action entries.", "scope": "", "scopeKind": ""}, {"name": "void test_parse_multiaction(void ** state)", "description": "Unit test for parsing multi-action XML inputs.", "scope": "", "scopeKind": ""}, {"name": "void test_parse_sensor_trouble_state(void ** state)", "description": "Unit test for sensor trigger list XML parsing.", "scope": "", "scopeKind": ""}, {"name": "void test_parse_light_trigger(void ** state)", "description": "Unit test for lighting trigger XML parsing, including multiple and single scene scenarios.", "scope": "", "scopeKind": ""}, {"name": "void test_parse_doorlock_trigger(void ** state)", "description": "Unit test for door lock trigger XML parsing, including multiple states.", "scope": "", "scopeKind": ""}, {"name": "void test_parse_thermostat_trigger(void ** state)", "description": "Unit test for thermostat trigger XML parsing, including multiple IDs.", "scope": "", "scopeKind": ""}, {"name": "void test_parse_thermostat_threshold_trigger(void ** state)", "description": "Unit test for thermostat threshold trigger XML parsing, including multiple thresholds.", "scope": "", "scopeKind": ""}, {"name": "int test_setup(void ** state)", "description": "Setup function to initialize environment before tests, currently disables setting action list directory.", "scope": "", "scopeKind": ""}, {"name": "int main(int argc,char * argv[])", "description": "Main function to run all defined tests using CMocka framework.", "scope": "", "scopeKind": ""}], "calls": ["xmlParseMemory", "xmlDocGetRootElement", "assert_non_null", "assert_int_equal", "assert_string_equal", "linkedListCreate", "linkedListCount", "linkedListGetElementAt", "linkedListDestroy", "xmlFreeDoc", "hashMapCreate", "icrule_get_action_list_dir", "icrule_action_list_load", "icrule_action_list_release", "icrule_parse_time_slot", "icrule_parse_constraint", "icrule_parse_action", "icrule_update_message_attachment", "icrule_parse_trigger_list"], "search-terms": ["xml parsing unit tests", "ICRule trigger parsing", "CMocka test suite", "action map loading", "trigger list tests", "multi-action parsing", "command XML verification", "smart home rule tests"], "state": 2, "file_id": 658, "knowledge_revision": 13828, "git_revision": "", "ctags": [{"_type": "tag", "name": "XML_HEADER", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/libicrule/test/src/main.c", "pattern": "/^#define XML_HEADER /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "load_action_map", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/libicrule/test/src/main.c", "pattern": "/^static icHashMap* load_action_map(void)$/", "file": true, "language": "C", "typeref": "typename:icHashMap *", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "load_xml", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/libicrule/test/src/main.c", "pattern": "/^static void load_xml(const char* xml, xmlDocPtr* doc, xmlNodePtr* top)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(const char * xml,xmlDocPtr * doc,xmlNodePtr * top)"}, {"_type": "tag", "name": "main", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/libicrule/test/src/main.c", "pattern": "/^int main(int argc, char* argv[])$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(int argc,char * argv[])"}, {"_type": "tag", "name": "test_parse_action", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/libicrule/test/src/main.c", "pattern": "/^static void test_parse_action(void** state)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void ** state)"}, {"_type": "tag", "name": "test_parse_constraint", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/libicrule/test/src/main.c", "pattern": "/^static void test_parse_constraint(void** state)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void ** state)"}, {"_type": "tag", "name": "test_parse_doorlock_trigger", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/libicrule/test/src/main.c", "pattern": "/^static void test_parse_doorlock_trigger(void** state)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void ** state)"}, {"_type": "tag", "name": "test_parse_light_trigger", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/libicrule/test/src/main.c", "pattern": "/^static void test_parse_light_trigger(void** state)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void ** state)"}, {"_type": "tag", "name": "test_parse_multiaction", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/libicrule/test/src/main.c", "pattern": "/^static void test_parse_multiaction(void** state)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void ** state)"}, {"_type": "tag", "name": "test_parse_sensor_trouble_state", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/libicrule/test/src/main.c", "pattern": "/^static void test_parse_sensor_trouble_state(void** state)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void ** state)"}, {"_type": "tag", "name": "test_parse_thermostat_threshold_trigger", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/libicrule/test/src/main.c", "pattern": "/^static void test_parse_thermostat_threshold_trigger(void** state)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void ** state)"}, {"_type": "tag", "name": "test_parse_thermostat_trigger", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/libicrule/test/src/main.c", "pattern": "/^static void test_parse_thermostat_trigger(void** state)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void ** state)"}, {"_type": "tag", "name": "test_parse_time", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/libicrule/test/src/main.c", "pattern": "/^static void test_parse_time(void** state)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void ** state)"}, {"_type": "tag", "name": "test_setup", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/libicrule/test/src/main.c", "pattern": "/^static int test_setup(void** state)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(void ** state)"}, {"_type": "tag", "name": "verify_multiaction_entry", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/libicrule/test/src/main.c", "pattern": "/^static void verify_multiaction_entry(icrule_action_t* action,$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(icrule_action_t * action,const char * id,const char * level,const char * duration)"}], "hash": "1756cdca78686e323d5969fa54ea4ba3", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "components/opensource/zilker-sdk/source/libs/libicrule/test/src/main.c", "revision_history": [{"13828": ""}]}