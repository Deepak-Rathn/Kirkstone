{"is_source_file": true, "format": "C", "description": "This source file implements backend APIs for a NAT data model, including creation, initialization, removal, regeneration, and synchronization of NAT port mappings and port triggers, interacting with configuration storage and managing internal data structures.", "external_files": ["cosa_apis.h", "cosa_nat_apis.h", "cosa_nat_internal.h", "plugin_main_apis.h", "poam_irepfo_interface.h", "sys_definitions.h", "cosa_webconfig_api.h", "cosa_nat_webconfig_apis.h", "safec_lib_common.h"], "external_methods": ["g_GetRegistryRootFolder", "CosaDmlNatInit", "CosaDmlNatGetLanIP", "CosaDmlNatGetDmz", "CosaNatSyncPortTrigger", "CosaNatRegGetNatInfo", "CosaNatRegSetNatInfo", "CosaSListInitializeHeader", "CosaSListPushEntryByInsNum", "CosaSListGetEntryByInsNum", "AnscAllocateMemory", "AnscFreeMemory", "SlapFreeVariable", "SlapAllocVariable", "SlapCleanVariable", "SlapInitVariable", "clear_pf_cache", "clear_pf_cache_bkup", "init_pf_cache", "clear_dmz_cache", "clear_dmz_cache_bkup", "init_dmz_cache"], "published": ["CosaNatCreate", "CosaNatInitialize", "CosaNatRemove", "CosaNatRegGetNatInfo", "CosaNatRegSetNatInfo", "CosaNatSyncPortTrigger", "CosaNatGen", "CosaNatGenForTriggerEntry"], "classes": [], "methods": [{"name": "ANSC_HANDLE CosaNatCreate(VOID)", "description": "Constructs and initializes a new NAT object, setting its handler functions and creating registry folders.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaNatInitialize(ANSC_HANDLE hThisObject)", "description": "Initializes the NAT object, setting up configuration folders, retrieving current NAT info, and setting up caches.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaNatRemove(ANSC_HANDLE hThisObject)", "description": "Removes all resource allocations and configuration folders related to the NAT object.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaNatRegGetNatInfo(ANSC_HANDLE hThisObject)", "description": "Retrieves NAT configuration from persistent storage, populates internal data structures, and handles delay-added entries.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaNatRegSetNatInfo(ANSC_HANDLE hThisObject)", "description": "Saves current NAT configuration, including port mappings and port triggers, into persistent storage.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaNatSyncPortTrigger(ANSC_HANDLE hThisObject)", "description": "Synchronizes in-memory port trigger data with runtime backend state.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaNatGen(ANSC_HANDLE hDml,PCOSA_DML_NAT_PMAPPING pEntry)", "description": "Generates a new port mapping entry with a unique instance number and alias.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaNatGenForTriggerEntry(ANSC_HANDLE hDml,PCOSA_DML_NAT_PTRIGGER pEntry)", "description": "Generates a new port trigger entry with a unique instance number and alias.", "scope": "", "scopeKind": ""}], "calls": ["CosaDmlNatInit", "CosaDmlNatGetLanIP", "CosaDmlNatGetDmz", "g_GetRegistryRootFolder", "pPoamIrepFoCOSA->GetFolder", "pPoamIrepFoCOSA->AddFolder", "pPoamIrepFoNat->GetFolder", "pPoamIrepFoNat->GetFolderCount", "pPoamIrepFoNat->EnumFolder", "pPoamIrepFoNat->Remove", "pPoamIrepFoNat->Clear", "pPoamIrepFoNat->AddRecord", "pPoamIrepFoNat->EnableFileSync", "pPoamIrepFoNatPt->GetFolder", "pPoamIrepFoNatPt->AddFolder", "pPoamIrepFoNatPt->GetRecord", "CosaSListPushEntryByInsNum", "CosaSListGetEntryByInsNum", "AnscAllocateMemory", "AnscFreeMemory", "SlapAllocVariable", "SlapFreeVariable", "SlapCleanVariable", "SlapInitVariable"], "search-terms": ["CosaNatCreate", "CosaNatInitialize", "CosaNatRemove", "CosaNatRegGetNatInfo", "CosaNatRegSetNatInfo", "PortTrigger", "PortMapping", "Nat", "InstanceNumber", "PMappingList", "PTriggerList"], "state": 2, "file_id": 8315, "knowledge_revision": 21363, "git_revision": "", "ctags": [{"_type": "tag", "name": "CosaNatCreate", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspPandM/source/TR-181/middle_layer_src/cosa_nat_internal.c", "pattern": "/^CosaNatCreate$/", "language": "C", "typeref": "typename:ANSC_HANDLE", "kind": "function", "signature": "(VOID)"}, {"_type": "tag", "name": "CosaNatGen", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspPandM/source/TR-181/middle_layer_src/cosa_nat_internal.c", "pattern": "/^CosaNatGen$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hDml,PCOSA_DML_NAT_PMAPPING pEntry)"}, {"_type": "tag", "name": "CosaNatGenForTriggerEntry", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspPandM/source/TR-181/middle_layer_src/cosa_nat_internal.c", "pattern": "/^CosaNatGenForTriggerEntry$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hDml,PCOSA_DML_NAT_PTRIGGER pEntry)"}, {"_type": "tag", "name": "CosaNatInitialize", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspPandM/source/TR-181/middle_layer_src/cosa_nat_internal.c", "pattern": "/^CosaNatInitialize$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hThisObject)"}, {"_type": "tag", "name": "CosaNatRegGetNatInfo", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspPandM/source/TR-181/middle_layer_src/cosa_nat_internal.c", "pattern": "/^CosaNatRegGetNatInfo$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hThisObject)"}, {"_type": "tag", "name": "CosaNatRegSetNatInfo", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspPandM/source/TR-181/middle_layer_src/cosa_nat_internal.c", "pattern": "/^CosaNatRegSetNatInfo$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hThisObject)"}, {"_type": "tag", "name": "CosaNatRemove", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspPandM/source/TR-181/middle_layer_src/cosa_nat_internal.c", "pattern": "/^CosaNatRemove$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hThisObject)"}, {"_type": "tag", "name": "CosaNatSyncPortTrigger", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspPandM/source/TR-181/middle_layer_src/cosa_nat_internal.c", "pattern": "/^CosaNatSyncPortTrigger$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hThisObject)"}], "hash": "2d1c65c35d6b21d7b7428f3010500e64", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/CcspPandM/source/TR-181/middle_layer_src/cosa_nat_internal.c", "revision_history": [{"21363": ""}]}