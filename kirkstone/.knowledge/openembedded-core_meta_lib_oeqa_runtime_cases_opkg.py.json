{"is_source_file": true, "format": "Python", "description": "This source file contains test case classes and methods for testing opkg package management operations, including installation, repository setup, and configuration management within a Yocto Project/OpenEmbedded runtime environment.", "external_files": ["oeqa.utils.httpserver", "oeqa.runtime.case", "oeqa.core.decorator.data", "oeqa.runtime.decorator.package"], "external_methods": ["oeqa.utils.httpserver.HTTPService", "oeqa.runtime.case.OERuntimeTestCase", "skipIfNotDataVar", "skipIfNotFeature", "skipIfFeature", "OEHasPackage", "self.target.run", "self.assertEqual", "self.target.run"], "published": ["OpkgTest", "OpkgRepoTest"], "classes": [{"name": "OpkgTest", "description": "A test case class for basic opkg commands, providing a method to run arbitrary opkg commands and verify their success."}, {"name": "OpkgRepoTest", "description": "A specialized test case class that sets up an HTTP server for repo testing, manages repository configurations, and tests package installation from repositories."}], "methods": [{"name": "pkg(self, command, expected = 0)", "description": "Runs an opkg command with optional expected return code, verifies success, and returns the command output.", "scope": "OpkgTest", "scopeKind": "class"}, {"name": "setUp(cls)", "description": "Sets up an HTTP server to serve the package repository, considering multilib variants.", "scope": "OpkgRepoTest", "scopeKind": "class"}, {"name": "tearDown(cls)", "description": "Stops the HTTP server after tests.", "scope": "OpkgRepoTest", "scopeKind": "class"}, {"name": "setup_source_config_for_package_install(self)", "description": "Configures the package source list to use the HTTP server for package installation.", "scope": "OpkgRepoTest", "scopeKind": "class"}, {"name": "cleanup_source_config_for_package_install(self)", "description": "Removes the custom source list entries after testing.", "scope": "OpkgRepoTest", "scopeKind": "class"}, {"name": "test_opkg_install_from_repo(self)", "description": "Test method that installs a package from a repository, verifying package management functionality, with multiple feature and data var decorators to control test execution based on environment features.", "scope": "OpkgRepoTest", "scopeKind": "class"}], "calls": ["self.target.run", "self.assertEqual", "os.linesep.join", "HTTPService", "self.target.run", "self.target.run", "os.path.join", "self.setup_source_config_for_package_install", "self.pkg", "self.pkg", "self.pkg", "self.cleanup_source_config_for_package_install"], "search-terms": ["opkg", "package management", "Yocto", "OpenEmbedded", "repo server", "HTTPService", "package installation"], "state": 2, "file_id": 1964, "knowledge_revision": 15111, "git_revision": "", "ctags": [{"_type": "tag", "name": "OpkgRepoTest", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/runtime/cases/opkg.py", "pattern": "/^class OpkgRepoTest(OpkgTest):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "OpkgTest", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/runtime/cases/opkg.py", "pattern": "/^class OpkgTest(OERuntimeTestCase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "cleanup_source_config_for_package_install", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/runtime/cases/opkg.py", "pattern": "/^    def cleanup_source_config_for_package_install(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "OpkgRepoTest", "scopeKind": "class"}, {"_type": "tag", "name": "pkg", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/runtime/cases/opkg.py", "pattern": "/^    def pkg(self, command, expected = 0):$/", "language": "Python", "kind": "member", "signature": "(self, command, expected = 0)", "scope": "OpkgTest", "scopeKind": "class"}, {"_type": "tag", "name": "setUp", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/runtime/cases/opkg.py", "pattern": "/^    def setUp(cls):$/", "language": "Python", "kind": "member", "signature": "(cls)", "scope": "OpkgRepoTest", "scopeKind": "class"}, {"_type": "tag", "name": "setup_source_config_for_package_install", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/runtime/cases/opkg.py", "pattern": "/^    def setup_source_config_for_package_install(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "OpkgRepoTest", "scopeKind": "class"}, {"_type": "tag", "name": "tearDown", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/runtime/cases/opkg.py", "pattern": "/^    def tearDown(cls):$/", "language": "Python", "kind": "member", "signature": "(cls)", "scope": "OpkgRepoTest", "scopeKind": "class"}, {"_type": "tag", "name": "test_opkg_install_from_repo", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/runtime/cases/opkg.py", "pattern": "/^    def test_opkg_install_from_repo(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "OpkgRepoTest", "scopeKind": "class"}], "hash": "c1d8cef5c52b512f7f45d10df8766963", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "openembedded-core/meta/lib/oeqa/runtime/cases/opkg.py", "revision_history": [{"15111": ""}]}