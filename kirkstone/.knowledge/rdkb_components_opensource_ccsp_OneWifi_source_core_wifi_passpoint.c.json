{"is_source_file": true, "format": "C", "description": "This source file manages Wi-Fi Passpoint (Hotspot 2.0) configuration and operations, including handling of ANQP (Access Network Query Protocol), HS2 (Hotspot 2.0) settings, GAS (Generic Advertisement Service), and WAN metrics, primarily for passpoint-enabled Wi-Fi access points. It includes functions for initializing configurations, parsing JSON parameters, updating internal data structures, and interfacing with lower-level hardware or driver APIs.", "external_files": ["webconfig_framework.h", "wifi_data_plane.h", "wifi_monitor.h", "plugin_main_apis.h", "wifi_passpoint.h", "wifi_data_plane_types.h", "sys/socket.h", "sys/sysinfo.h", "sys/un.h", "assert.h", "sysevent/sysevent.h", "cJSON.h", "dirent.h", "errno.h", "wifi_ctrl.h", "wifi_util.h", "log.h"], "external_methods": ["wifi_anqp_send_response", "wifi_anqp_request_callback_register", "data_plane_queue_push", "data_plane_queue_create_event", "wifi_getApInterworkingElement", "enablePassPointSettings", "wifidb_get_gas_config", "wifidb_update_gas_config", "copy_string", "validate_gas_config", "validate_anqp", "get_wifi_rfc_parameters", "get_vap_and_radio_index_from_vap_instance", "find_ap_wifi_dml", "CosaDmlWiFi_ApplyInterworkingElement", "CosaDmlWiFi_ApplyRoamingConsortiumElement", "readFileToBuffer", "WiFi_SaveGasCfg", "WiFi_SaveANQPCfg", "WiFi_SetHS2Config", "WiFi_SetHS2Status", "WiFi_SaveHS2Cfg", "WiFi_GetWANMetrics", "WiFi_GetHS2Stats", "WiFi_RestoreAPInterworking"], "published": ["wifi_setGASConfiguration", "WiFi_initPasspoint", "WiFi_SaveGasCfg", "WiFi_GetGasConfig", "WiFi_SetGasConfig", "WiFi_DefaultGasConfig", "WiFi_InitGasConfig", "WiFi_GetGasStats", "WiFi_SetANQPConfig", "WiFi_SaveANQPCfg", "WiFi_UpdateANQPVenueInfo", "WiFi_SetHS2Config", "WiFi_SetHS2Status", "WiFi_SaveHS2Cfg", "WiFi_GetWANMetrics", "WiFi_GetHS2Stats", "WiFi_RestoreAPInterworking", "WiFi_SetHS2Status"], "classes": [], "methods": [{"name": "destroy_passpoint", "description": "Function prototype for cleaning up or freeing passpoint-related resources, details not provided in the excerpt."}, {"name": "wifi_setGASConfiguration", "description": "Sets the GAS configuration with given advertisement ID and configuration structure."}, {"name": "wifi_anqp_send_response", "description": "Sends an ANQP response to a requesting station; used internally."}, {"name": "wifi_anqp_request_callback_register", "description": "Register a callback function to handle incoming ANQP requests."}, {"name": "data_plane_queue_push", "description": "Pushes an event into the data plane queue for asynchronous processing."}, {"name": "data_plane_queue_create_event", "description": "Creates a new data plane event object."}, {"name": "wifi_getApInterworkingElement", "description": "Retrieves the interworking element configuration from a specific AP instance."}, {"name": "enablePassPointSettings", "description": "APIs to enable or disable passpoint settings on a given AP instance."}, {"name": "wifidb_get_gas_config", "description": "Reads GAS configuration from database or persistent storage."}, {"name": "wifidb_update_gas_config", "description": "Updates GAS configuration in database or persistent storage."}, {"name": "copy_string", "description": "Copies string data from source to destination buffer."}, {"name": "validate_gas_config", "description": "Validates the GAS configuration JSON object."}, {"name": "validate_anqp", "description": "Validates ANQP JSON configuration."}, {"name": "get_wifi_rfc_parameters", "description": "Retrieves RFC (Request for Comment) parameters for specific Wi-Fi features."}, {"name": "get_vap_and_radio_index_from_vap_instance", "description": "Calculates radio and VAP (Virtual AP) indices from a given AP instance number."}, {"name": "find_ap_wifi_dml", "description": "Finds Wi-Fi configuration object for a particular AP."}, {"name": "CosaDmlWiFi_ApplyInterworkingElement", "description": "Applies the interworking element configuration via COSA Data Model Layer."}, {"name": "CosaDmlWiFi_ApplyRoamingConsortiumElement", "description": "Applies roaming consortium configuration via COSA Data Model Layer."}, {"name": "long readFileToBuffer(const char * fileName,char ** buffer)", "description": "Reads a file into a buffer, used for loading stored configuration.", "scope": "", "scopeKind": ""}, {"name": "INT WiFi_SaveGasCfg(char * buffer,int len)", "description": "Saves GAS configuration data into persistent storage.", "scope": "", "scopeKind": ""}, {"name": "INT WiFi_SaveANQPCfg(uint8_t vapIndex)", "description": "Saves ANQP configuration data.", "scope": "", "scopeKind": ""}, {"name": "INT WiFi_SetHS2Config(uint8_t vapIndex,char * JSON_STR)", "description": "Sets Hotspot 2.0 configuration parameters.", "scope": "", "scopeKind": ""}, {"name": "INT WiFi_SetHS2Status(uint8_t vapIndex,BOOL bValue,BOOL setToPSM)", "description": "Enables or disables HS2 on an access point.", "scope": "", "scopeKind": ""}, {"name": "INT WiFi_SaveHS2Cfg(uint8_t vapIndex)", "description": "Saves Hotspot 2.0 configuration to persistent storage.", "scope": "", "scopeKind": ""}, {"name": "INT WiFi_GetWANMetrics(uint8_t vapIndex,char * WANMetrics,UINT WANMetrics_length)", "description": "Retrieves WAN metrics data.", "scope": "", "scopeKind": ""}, {"name": "void WiFi_GetHS2Stats(uint8_t vapIndex)", "description": "Retrieves Hotspot 2.0 related statistics.", "scope": "", "scopeKind": ""}, {"name": "WiFi_RestoreAPInterworking", "description": "Restores interworking settings for an AP."}, {"name": "WiFi_SetHS2Status", "description": "Sets the enable/disable status of HS2."}, {"name": "INT WiFi_SaveInterworkingWebconfig(wifi_interworking_t * interworking_data,int apIns)", "description": "Saves the interworking configuration received via web interface.", "scope": "", "scopeKind": ""}, {"name": "CosaDmlWiFi_ReadInterworkingConfig", "description": "Parses JSON string and populates the internal interworking config structure."}, {"name": "CosaDmlWiFi_SaveInterworkingCfg", "description": "Saves the current interworking configuration as JSON into a file."}, {"name": "CosaDmlWiFi_WriteInterworkingConfig", "description": "Converts internal parameters to JSON string and calls Save function."}, {"name": "INT WiFi_DefaultInterworkingConfig(uint8_t vapIndex)", "description": "Populates the vAP object with default interworking settings.", "scope": "", "scopeKind": ""}, {"name": "INT WiFi_InitInterworkingElement(uint8_t vapIndex)", "description": "Initializes interworking element, either from database or defaults.", "scope": "", "scopeKind": ""}, {"name": "void update_json_gas_config(wifi_GASConfiguration_t * gasConfig_struct)", "description": "Builds JSON representation of GAS configuration and saves it.", "scope": "", "scopeKind": ""}, {"name": "INT WiFi_DefaultGasConfig(void)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void WiFi_GetGasConfig(char * pString)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "INT WiFi_GetGasStats(wifi_gas_stats_t * pGASStats)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "INT WiFi_InitGasConfig(void)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "INT WiFi_SetANQPConfig(uint8_t vapIndex,char * JSON_STR)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "INT WiFi_SetGasConfig(char * JSON_STR)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void WiFi_UpdateANQPVenueInfo(uint8_t vapIndex)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "INT WiFi_initPasspoint(void)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void anqpRequest_callback(UINT apIndex,mac_address_t sta,unsigned char token,wifi_anqp_node_t * head)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int init_passpoint(void)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void process_passpoint_event(wifi_anqp_context_t * anqpReq)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void process_passpoint_timeout()", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["wifi_anqp_send_response", "wifi_anqp_request_callback_register", "data_plane_queue_push", "get_wifi_rfc_parameters", "enablePassPointSettings", "wifidb_get_gas_config", "wifidb_update_gas_config", "validate_gas_config", "validate_anqp", "get_vap_and_radio_index_from_vap_instance", "CosaDmlWiFi_ApplyInterworkingElement", "CosaDmlWiFi_ApplyRoamingConsortiumElement"], "search-terms": ["wifi_passpoint", "ANQP", "HS2", "GAS", "Passpoint", "interworking", "venue name", "realm", "roaming", "HS2 Configuration", "HS2 parameters", "WAN metrics", "Wi-Fi configuration", "DML support", "wifi_cfg", "OCF", "WFA", "RFC_WIFI_PASSPOINT"], "state": 2, "file_id": 6024, "knowledge_revision": 19129, "git_revision": "", "ctags": [{"_type": "tag", "name": "GAS_CFG_TYPE_SUPPORTED", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/core/wifi_passpoint.c", "pattern": "/^#define GAS_CFG_TYPE_SUPPORTED /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "GAS_STATS_FIXED_WINDOW_SIZE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/core/wifi_passpoint.c", "pattern": "/^#define GAS_STATS_FIXED_WINDOW_SIZE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "GAS_STATS_TIME_OUT", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/core/wifi_passpoint.c", "pattern": "/^#define GAS_STATS_TIME_OUT /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "WiFi_DefaultGasConfig", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/core/wifi_passpoint.c", "pattern": "/^INT WiFi_DefaultGasConfig(void)$/", "language": "C", "typeref": "typename:INT", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "WiFi_DefaultInterworkingConfig", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/core/wifi_passpoint.c", "pattern": "/^INT WiFi_DefaultInterworkingConfig(uint8_t vapIndex)$/", "language": "C", "typeref": "typename:INT", "kind": "function", "signature": "(uint8_t vapIndex)"}, {"_type": "tag", "name": "WiFi_GetGasConfig", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/core/wifi_passpoint.c", "pattern": "/^void WiFi_GetGasConfig(char *pString)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(char * pString)"}, {"_type": "tag", "name": "WiFi_GetGasStats", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/core/wifi_passpoint.c", "pattern": "/^INT WiFi_GetGasStats(wifi_gas_stats_t *pGASStats)$/", "language": "C", "typeref": "typename:INT", "kind": "function", "signature": "(wifi_gas_stats_t * pGASStats)"}, {"_type": "tag", "name": "WiFi_GetHS2Stats", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/core/wifi_passpoint.c", "pattern": "/^void WiFi_GetHS2Stats(uint8_t vapIndex)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(uint8_t vapIndex)"}, {"_type": "tag", "name": "WiFi_GetWANMetrics", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/core/wifi_passpoint.c", "pattern": "/^INT WiFi_GetWANMetrics(uint8_t vapIndex, char *WANMetrics, UINT WANMetrics_length)$/", "language": "C", "typeref": "typename:INT", "kind": "function", "signature": "(uint8_t vapIndex,char * WANMetrics,UINT WANMetrics_length)"}, {"_type": "tag", "name": "WiFi_InitGasConfig", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/core/wifi_passpoint.c", "pattern": "/^INT WiFi_InitGasConfig(void)$/", "language": "C", "typeref": "typename:INT", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "WiFi_InitInterworkingElement", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/core/wifi_passpoint.c", "pattern": "/^INT WiFi_InitInterworkingElement (uint8_t vapIndex)$/", "language": "C", "typeref": "typename:INT", "kind": "function", "signature": "(uint8_t vapIndex)"}, {"_type": "tag", "name": "WiFi_SaveANQPCfg", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/core/wifi_passpoint.c", "pattern": "/^INT WiFi_SaveANQPCfg(uint8_t vapIndex)$/", "language": "C", "typeref": "typename:INT", "kind": "function", "signature": "(uint8_t vapIndex)"}, {"_type": "tag", "name": "WiFi_SaveGasCfg", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/core/wifi_passpoint.c", "pattern": "/^INT WiFi_SaveGasCfg(char *buffer, int len)$/", "language": "C", "typeref": "typename:INT", "kind": "function", "signature": "(char * buffer,int len)"}, {"_type": "tag", "name": "WiFi_SaveHS2Cfg", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/core/wifi_passpoint.c", "pattern": "/^INT WiFi_SaveHS2Cfg(uint8_t vapIndex)$/", "language": "C", "typeref": "typename:INT", "kind": "function", "signature": "(uint8_t vapIndex)"}, {"_type": "tag", "name": "WiFi_SaveInterworkingWebconfig", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/core/wifi_passpoint.c", "pattern": "/^INT WiFi_SaveInterworkingWebconfig( wifi_interworking_t *interworking_data, int apIns)$/", "language": "C", "typeref": "typename:INT", "kind": "function", "signature": "(wifi_interworking_t * interworking_data,int apIns)"}, {"_type": "tag", "name": "WiFi_SetANQPConfig", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/core/wifi_passpoint.c", "pattern": "/^INT WiFi_SetANQPConfig(uint8_t vapIndex, char *JSON_STR)$/", "language": "C", "typeref": "typename:INT", "kind": "function", "signature": "(uint8_t vapIndex,char * JSON_STR)"}, {"_type": "tag", "name": "WiFi_SetGasConfig", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/core/wifi_passpoint.c", "pattern": "/^INT WiFi_SetGasConfig(char *JSON_STR)$/", "language": "C", "typeref": "typename:INT", "kind": "function", "signature": "(char * JSON_STR)"}, {"_type": "tag", "name": "WiFi_SetHS2Config", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/core/wifi_passpoint.c", "pattern": "/^INT WiFi_SetHS2Config(uint8_t vapIndex, char *JSON_STR)$/", "language": "C", "typeref": "typename:INT", "kind": "function", "signature": "(uint8_t vapIndex,char * JSON_STR)"}, {"_type": "tag", "name": "WiFi_SetHS2Status", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/core/wifi_passpoint.c", "pattern": "/^INT WiFi_SetHS2Status(uint8_t vapIndex, BOOL bValue, BOOL setToPSM)$/", "language": "C", "typeref": "typename:INT", "kind": "function", "signature": "(uint8_t vapIndex,BOOL bValue,BOOL setToPSM)"}, {"_type": "tag", "name": "WiFi_UpdateANQPVenueInfo", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/core/wifi_passpoint.c", "pattern": "/^void WiFi_UpdateANQPVenueInfo(uint8_t vapIndex)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(uint8_t vapIndex)"}, {"_type": "tag", "name": "WiFi_initPasspoint", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/core/wifi_passpoint.c", "pattern": "/^INT WiFi_initPasspoint(void)$/", "language": "C", "typeref": "typename:INT", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "anqpRequest_callback", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/core/wifi_passpoint.c", "pattern": "/^void anqpRequest_callback(UINT apIndex, mac_address_t sta, unsigned char token,  wifi_anqp_node_/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(UINT apIndex,mac_address_t sta,unsigned char token,wifi_anqp_node_t * head)"}, {"_type": "tag", "name": "g_gas_config", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/core/wifi_passpoint.c", "pattern": "/^wifi_GASConfiguration_t g_gas_config;$/", "language": "C", "typeref": "typename:wifi_GASConfiguration_t", "kind": "variable"}, {"_type": "tag", "name": "g_interworking_data", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/core/wifi_passpoint.c", "pattern": "/^static wifi_interworking_t g_interworking_data[16];$/", "file": true, "language": "C", "typeref": "typename:wifi_interworking_t[16]", "kind": "variable"}, {"_type": "tag", "name": "g_vap_maps", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/core/wifi_passpoint.c", "pattern": "/^wifi_vap_info_map_t g_vap_maps[2];$/", "language": "C", "typeref": "typename:wifi_vap_info_map_t[2]", "kind": "variable"}, {"_type": "tag", "name": "gasStats", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/core/wifi_passpoint.c", "pattern": "/^static wifi_gas_stats_t gasStats[GAS_CFG_TYPE_SUPPORTED];\\/\\/ONE_WIFI$/", "file": true, "language": "C", "typeref": "typename:wifi_gas_stats_t[]", "kind": "variable"}, {"_type": "tag", "name": "init_passpoint", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/core/wifi_passpoint.c", "pattern": "/^int init_passpoint (void)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "process_passpoint_event", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/core/wifi_passpoint.c", "pattern": "/^void process_passpoint_event(wifi_anqp_context_t *anqpReq)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(wifi_anqp_context_t * anqpReq)"}, {"_type": "tag", "name": "process_passpoint_timeout", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/core/wifi_passpoint.c", "pattern": "/^void process_passpoint_timeout()$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "readFileToBuffer", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/core/wifi_passpoint.c", "pattern": "/^static long readFileToBuffer(const char *fileName, char **buffer)$/", "file": true, "language": "C", "typeref": "typename:long", "kind": "function", "signature": "(const char * fileName,char ** buffer)"}, {"_type": "tag", "name": "update_json_gas_config", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/core/wifi_passpoint.c", "pattern": "/^void update_json_gas_config(wifi_GASConfiguration_t *gasConfig_struct) {$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(wifi_GASConfiguration_t * gasConfig_struct)"}], "hash": "bd0f1e03bd51680b865c6bf625a0f1be", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/OneWifi/source/core/wifi_passpoint.c", "fields": [{"name": "wifi_GASConfiguration_t g_gas_config", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "wifi_interworking_t[16] g_interworking_data", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "wifi_vap_info_map_t[2] g_vap_maps", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "wifi_gas_stats_t[] gasStats", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"19129": ""}]}