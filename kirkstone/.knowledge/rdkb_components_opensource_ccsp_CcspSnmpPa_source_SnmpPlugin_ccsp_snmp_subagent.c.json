{"is_source_file": true, "format": "C", "description": "This file contains the implementation of an SNMP subagent for the CCSP framework. It initializes the agent, handles signals, connects to system events, manages configuration parameters, and runs the main event loop to process SNMP requests.", "external_files": ["<net-snmp/net-snmp-config.h>", "<net-snmp/net-snmp-includes.h>", "<net-snmp/agent/net-snmp-agent-includes.h>", "<syscfg/syscfg.h>", "<ansc_platform.h>", "<print_uptime.h>", "<sysevent/sysevent.h>", "<utapi/utapi.h>", "<utapi/utapi_util.h>", "<sys/stat.h>", "<safec_lib_common.h>", "pcdapi.h"], "external_methods": ["s_sysevent_connect", "sysevent_set", "syscfg_get", "print_uptime", "agent_check_and_process", "init_ccsp_snmp_plugin", "remove_ccsp_snmp_plugin", "snmp_enable_stderrlog", "netsnmp_ds_set_string", "netsnmp_ds_set_boolean", "init_agent", "init_snmp", "snmp_shutdown", "snmp_log", "sock_startup", "sock_cleanup", "signal"], "published": ["AGNT_NAME", "DEF_MASTER_ADDR", "SNMP_V2_PID_PATH", "SNMP_V3_PID_PATH", "commonSyseventFd", "commonSyseventToken", "stop_server", "parse_arg"], "classes": [], "methods": [{"name": "int openCommonSyseventConnection()", "description": "Establishes connection to the system event daemon if not already connected.", "scope": "", "scopeKind": ""}, {"name": "void stop_server(int signo)", "description": "Handles termination signals to stop the main loop and shutdown the agent gracefully.", "scope": "", "scopeKind": ""}, {"name": "void usage(void)", "description": "Prints usage information for the command-line options.", "scope": "", "scopeKind": ""}, {"name": "void parse_arg(int argc,char * argv[])", "description": "Parses command-line arguments to set configuration parameters such as agent address, debug flags, and instance number.", "scope": "", "scopeKind": ""}, {"name": "int main(int argc,char * argv[])", "description": "Main entry point; initializes the SNMP agent, sets up environment, reads configuration, enters main processing loop, and performs cleanup.", "scope": "", "scopeKind": ""}], "calls": ["s_sysevent_connect", "sysevent_set", "syscfg_get", "print_uptime", "agent_check_and_process", "init_ccsp_snmp_plugin", "remove_ccsp_snmp_plugin", "snmp_enable_stderrlog", "netsnmp_ds_set_string", "netsnmp_ds_set_boolean", "init_agent", "init_snmp", "snmp_shutdown", "snmp_log", "sock_startup", "sock_cleanup", "signal", "fopen", "fprintf", "fclose", "fputs", "open", "close", "getpid", "sprintf_s"], "search-terms": ["SNMP", "CCSP", "snmp_subagent", "ccsp_snmp_plugin", "syscfg", "sysevent", "sysstat", "agentx", "snmp_plugin", "v2support", "v3support"], "state": 2, "file_id": 6795, "knowledge_revision": 19897, "git_revision": "", "ctags": [{"_type": "tag", "name": "AGNT_NAME", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspSnmpPa/source/SnmpPlugin/ccsp_snmp_subagent.c", "pattern": "/^#define AGNT_NAME /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "DEF_MASTER_ADDR", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspSnmpPa/source/SnmpPlugin/ccsp_snmp_subagent.c", "pattern": "/^#define DEF_MASTER_ADDR /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "DEF_MASTER_INSTANCE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspSnmpPa/source/SnmpPlugin/ccsp_snmp_subagent.c", "pattern": "/^#define DEF_MASTER_INSTANCE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "SNMP_V2_PID_PATH", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspSnmpPa/source/SnmpPlugin/ccsp_snmp_subagent.c", "pattern": "/^#define SNMP_V2_PID_PATH /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "SNMP_V3_PID_PATH", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspSnmpPa/source/SnmpPlugin/ccsp_snmp_subagent.c", "pattern": "/^#define SNMP_V3_PID_PATH /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "commonSyseventFd", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspSnmpPa/source/SnmpPlugin/ccsp_snmp_subagent.c", "pattern": "/^static int commonSyseventFd = -1;$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "variable"}, {"_type": "tag", "name": "commonSyseventToken", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspSnmpPa/source/SnmpPlugin/ccsp_snmp_subagent.c", "pattern": "/^static token_t commonSyseventToken;$/", "file": true, "language": "C", "typeref": "typename:token_t", "kind": "variable"}, {"_type": "tag", "name": "debug_pat", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspSnmpPa/source/SnmpPlugin/ccsp_snmp_subagent.c", "pattern": "/^static char *debug_pat = NULL;$/", "file": true, "language": "C", "typeref": "typename:char *", "kind": "variable"}, {"_type": "tag", "name": "instance_number", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspSnmpPa/source/SnmpPlugin/ccsp_snmp_subagent.c", "pattern": "/^static int  instance_number = DEF_MASTER_INSTANCE;$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "variable"}, {"_type": "tag", "name": "keep_running", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspSnmpPa/source/SnmpPlugin/ccsp_snmp_subagent.c", "pattern": "/^static int keep_running;$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "variable"}, {"_type": "tag", "name": "main", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspSnmpPa/source/SnmpPlugin/ccsp_snmp_subagent.c", "pattern": "/^main(int argc, char *argv[])$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(int argc,char * argv[])"}, {"_type": "tag", "name": "openCommonSyseventConnection", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspSnmpPa/source/SnmpPlugin/ccsp_snmp_subagent.c", "pattern": "/^static int openCommonSyseventConnection() {$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "parse_arg", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspSnmpPa/source/SnmpPlugin/ccsp_snmp_subagent.c", "pattern": "/^void parse_arg(int argc, char *argv[])$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(int argc,char * argv[])"}, {"_type": "tag", "name": "stop_server", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspSnmpPa/source/SnmpPlugin/ccsp_snmp_subagent.c", "pattern": "/^stop_server(int signo) $/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(int signo)"}, {"_type": "tag", "name": "usage", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspSnmpPa/source/SnmpPlugin/ccsp_snmp_subagent.c", "pattern": "/^static void usage(void)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "xagent_addr", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspSnmpPa/source/SnmpPlugin/ccsp_snmp_subagent.c", "pattern": "/^static char *xagent_addr = DEF_MASTER_ADDR;$/", "file": true, "language": "C", "typeref": "typename:char *", "kind": "variable"}], "hash": "68d5e1b3f3e63aa9f218dfcb79bd401b", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/CcspSnmpPa/source/SnmpPlugin/ccsp_snmp_subagent.c", "fields": [{"name": "int commonSyseventFd", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "token_t commonSyseventToken", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char * debug_pat", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int instance_number", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int keep_running", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char * xagent_addr", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"19897": ""}]}