{"is_source_file": true, "format": "Shell script / sh", "description": "This file is a shell script responsible for uploading logs to a server, managing different upload methods (direct and Codebig), handling various configurations, and cleaning up after uploads. It also supports command-line arguments to trigger uploads or stops.", "external_files": ["/lib/rdk/utils.sh", "/lib/rdk/t2Shared_api.sh", "/etc/device.properties", "/lib/rdk/getpartnerid.sh", "/lib/rdk/logUpload_default_params.sh", "/nvram/logupload.properties", "/usr/bin/GetServiceUrl", "/syscfg", "/bin/timestamp"], "external_methods": ["getPartnerId", "getMacAddressOnly", "getWanInterfaceName", "createSysDescr", "backup_onboarding_logs", "copy_onboardlogs", "sysevent get", "echo_t"], "published": [], "classes": [], "methods": [{"name": "getBuildType", "description": "Determines the build type of the device (DEV, VBN, PROD, CQA) based on the image name in /version.txt."}, {"name": "IsCodebigBlocked", "description": "Checks if Codebig connection attempts are blocked due to recent failures by inspecting a timestamped lock file."}, {"name": "get_Codebigconfig", "description": "Configures whether to use Codebig or direct connection for uploading based on device configuration and feature availability."}, {"name": "useDirectRequest", "description": "Attempts to upload logs directly to the server, retrying up to a configured number of attempts."}, {"name": "useCodebigRequest", "description": "Attempts to upload logs using Codebig, handling authentication and retries, and managing failures with a lock file."}, {"name": "HTTPLogUploadOnRequest", "description": "Main function that handles log upload process, including preparing logs, handling redirects, and dry runs."}, {"name": "uploadOnRequest", "description": "Entry point to trigger log upload, managing log file collection, calling upload functions, and cleanup."}], "calls": ["getPartnerId", "getMacAddressOnly", "getWanInterfaceName", "createSysDescr", "backup_onboarding_logs", "copy_onboardlogs", "sysevent get", "echo_t", "useCodebigRequest", "useDirectRequest", "ret= eval $CURL_CMD"], "search-terms": ["opsLogUpload.sh", "log upload", "Codebig", "direct connection", "upload logs", "log upload process", "shell script log upload", "log upload functions", "log upload script"], "state": 2, "file_id": 7152, "knowledge_revision": 20236, "git_revision": "", "hash": "a3ff17483da496cf32edc414029cb4d0", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/sysint/opsLogUpload.sh", "revision_history": [{"20236": ""}]}