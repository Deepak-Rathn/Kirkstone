{"is_source_file": true, "format": "Python", "description": "This source file defines a plugin class for creating EFI boot partitions in a Linux embedded environment, supporting configurations for GRUB 2 and systemd-boot bootloaders. It includes methods for configuring, preparing, and installing EFI boot files, handling different kernel and initrd setups, and managing boot file deployment.", "external_files": ["wic", "wic.engine", "wic.pluginbase", "wic.misc"], "external_methods": ["get_custom_config", "get_bitbake_var", "exec_cmd", "exec_native_cmd"], "published": ["BootimgEFIPlugin"], "classes": [{"name": "BootimgEFIPlugin", "description": "A plugin class that handles creation and configuration of EFI boot partitions, supporting different bootloaders and managing EFI files, configs, and kernel images."}], "methods": [{"name": "do_configure_grubefi(cls, hdddir, creator, cr_workdir, source_params)", "description": "Creates GRUB EFI configuration files, handling custom configs, initrd files, and kernel parameters.", "scope": "BootimgEFIPlugin", "scopeKind": "class"}, {"name": "do_configure_systemdboot(cls, hdddir, creator, cr_workdir, source_params)", "description": "Creates systemd-boot configuration files, managing initrd, kernel, labels, and custom configs.", "scope": "BootimgEFIPlugin", "scopeKind": "class"}, {"name": "do_configure_partition(cls, part, source_params, creator, cr_workdir, oe_builddir, bootimg_dir, kernel_dir, native_sysroot)", "description": "Configures the EFI partition with appropriate bootloader files, configs, and EFI-specific files based on loader type.", "scope": "BootimgEFIPlugin", "scopeKind": "class"}, {"name": "do_prepare_partition(cls, part, source_params, creator, cr_workdir, oe_builddir, bootimg_dir, kernel_dir, rootfs_dir, native_sysroot)", "description": "Prepares the EFI partition with kernel images, initrds, EFI stub, and other boot files, also handling creation of a unified kernel image if specified.", "scope": "BootimgEFIPlugin", "scopeKind": "class"}, {"name": "entry_name_fn(name)", "scope": "BootimgEFIPlugin.do_configure_partition", "scopeKind": "member", "description": "unavailable"}], "calls": ["get_custom_config", "get_bitbake_var", "exec_cmd", "exec_native_cmd", "shutil.copyfile", "shutil.move", "os.listdir", "glob", "re.findall", "os.path.basename", "os.path.join", "os.path.exists", "os.path.normpath", "open", "shutil.copyfileobj", "os.path.isdir"], "search-terms": ["efi", "bootimg", "grub", "systemd-boot", "UEFI", "bootloader", "partition", "boot files", "EFI stub", "create EFI boot partition"], "state": 2, "file_id": 1446, "knowledge_revision": 14591, "git_revision": "", "ctags": [{"_type": "tag", "name": "BootimgEFIPlugin", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/scripts/lib/wic/plugins/source/bootimg-efi.py", "pattern": "/^class BootimgEFIPlugin(SourcePlugin):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "do_configure_grubefi", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/scripts/lib/wic/plugins/source/bootimg-efi.py", "pattern": "/^    def do_configure_grubefi(cls, hdddir, creator, cr_workdir, source_params):$/", "language": "Python", "kind": "member", "signature": "(cls, hdddir, creator, cr_workdir, source_params)", "scope": "BootimgEFIPlugin", "scopeKind": "class"}, {"_type": "tag", "name": "do_configure_partition", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/scripts/lib/wic/plugins/source/bootimg-efi.py", "pattern": "/^    def do_configure_partition(cls, part, source_params, creator, cr_workdir,$/", "language": "Python", "kind": "member", "signature": "(cls, part, source_params, creator, cr_workdir, oe_builddir, bootimg_dir, kernel_dir, native_sysroot)", "scope": "BootimgEFIPlugin", "scopeKind": "class"}, {"_type": "tag", "name": "do_configure_systemdboot", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/scripts/lib/wic/plugins/source/bootimg-efi.py", "pattern": "/^    def do_configure_systemdboot(cls, hdddir, creator, cr_workdir, source_params):$/", "language": "Python", "kind": "member", "signature": "(cls, hdddir, creator, cr_workdir, source_params)", "scope": "BootimgEFIPlugin", "scopeKind": "class"}, {"_type": "tag", "name": "do_prepare_partition", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/scripts/lib/wic/plugins/source/bootimg-efi.py", "pattern": "/^    def do_prepare_partition(cls, part, source_params, creator, cr_workdir,$/", "language": "Python", "kind": "member", "signature": "(cls, part, source_params, creator, cr_workdir, oe_builddir, bootimg_dir, kernel_dir, rootfs_dir, native_sysroot)", "scope": "BootimgEFIPlugin", "scopeKind": "class"}, {"_type": "tag", "name": "entry_name_fn", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/scripts/lib/wic/plugins/source/bootimg-efi.py", "pattern": "/^                        entry_name_fn = lambda name: \\\\$/", "file": true, "language": "Python", "kind": "function", "signature": "(name)", "scope": "BootimgEFIPlugin.do_configure_partition", "scopeKind": "member"}, {"_type": "tag", "name": "logger", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/scripts/lib/wic/plugins/source/bootimg-efi.py", "pattern": "/^logger = logging.getLogger('wic')$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/scripts/lib/wic/plugins/source/bootimg-efi.py", "pattern": "/^    name = 'bootimg-efi'$/", "language": "Python", "kind": "variable", "scope": "BootimgEFIPlugin", "scopeKind": "class"}], "hash": "0d06f001d205baeac73986766051e35a", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "openembedded-core/scripts/lib/wic/plugins/source/bootimg-efi.py", "fields": [{"name": "logger = logging.getLogger('wic')", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "name = 'bootimg-efi'", "scope": "BootimgEFIPlugin", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"14591": ""}]}