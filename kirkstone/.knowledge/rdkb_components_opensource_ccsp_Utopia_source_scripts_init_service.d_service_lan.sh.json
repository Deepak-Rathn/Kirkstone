{"is_source_file": true, "format": "shell script", "description": "This file is a shell script used for configuring and managing LAN interfaces and services in a network device. It includes functions for bringing interfaces up and down, setting IP addresses, handling DHCP, bridging LAN interfaces, and managing wireless and Ethernet interfaces. It defines procedures for starting and stopping the LAN service, and integrates with system events and configurations.", "external_files": ["/etc/utopia/service.d/interface_functions.sh", "/etc/utopia/service.d/ulog_functions.sh", "/etc/utopia/service.d/log_capture_path.sh", "/etc/utopia/service.d/event_handler_functions.sh", "/lib/rdk/t2Shared_api.sh", "/etc/utopia/service.d/ebtable_rules.sh", "/etc/utopia/service.d/pmon.sh"], "external_methods": ["sysevent set", "sysevent get", "sysevent async", "sysevent setoptions", "sysevent rm_async", "utctx_cmd get", "brctl addbr", "brctl setfd", "brctl stp", "ip rule add", "ip rule del", "ip route add", "ip route del", "ip addr add", "ip addr flush", "ip link set", "ifconfig", "wlancfg", "syscfg get", "ulog lan status", "wait_till_end_state", "check_err", "echo_t", "killall", "sysevent set lan_created", "sysevent set lan-restarting", "sysevent set firewall-restart", "sysevent set desired_moca_link_state"], "published": ["service_init", "service_start", "service_stop", "add_docsis_bridge", "register_docsis_handler"], "classes": [], "methods": [{"name": "subnet", "description": "Calculates a subnet address based on IP address and subnet mask."}, {"name": "isvalid", "description": "Checks if a given byte value is a valid subnet mask octet."}, {"name": "calbits", "description": "Counts the number of bits set to 1 in an integer (used for netmask calculation)."}, {"name": "mask2cidr", "description": "Converts a subnet mask in dotted decimal notation to CIDR notation (number of bits)."}, {"name": "enslave_a_interface", "description": "Enslaves a physical or virtual interface to a bridge."}, {"name": "bringup_ethernet_interfaces", "description": "Brings up Ethernet interfaces and configures VLANs if applicable."}, {"name": "teardown_ethernet_interfaces", "description": "Brings down Ethernet interfaces and clears VLAN configurations."}, {"name": "bringup_wireless_interfaces", "description": "Configures and brings up wireless interfaces and virtual interfaces."}, {"name": "teardown_wireless_interfaces", "description": "Brings down wireless interfaces and virtual interfaces."}, {"name": "restart_necessary_functions", "description": "Placeholder for functions that need to run upon restart."}, {"name": "do_start", "description": "Starts LAN services, configures bridges, interfaces, IP addresses, and routing."}, {"name": "do_stop", "description": "Stops LAN services, removes interfaces, routes, and bridge configurations."}, {"name": "do_start_no_bridge", "description": "Starts LAN interface without creating a bridge, using DHCP or static IP."}, {"name": "do_stop_no_bridge", "description": "Stops LAN interface without a bridge."}, {"name": "do_start_lan_dhcp", "description": "Configures LAN interface for DHCP."}, {"name": "do_stop_lan_dhcp", "description": "Stops DHCP on the LAN interface."}, {"name": "register_lan_dhcp_handler", "description": "Registers DHCP event handlers."}, {"name": "unregister_lan_dhcp_handler", "description": "Unregisters DHCP event handlers."}, {"name": "lan_create", "description": "Creates LAN bridge and enslaves interfaces."}, {"name": "service_init", "description": "Initializes LAN service based on system configuration."}, {"name": "service_start", "description": "Starts the LAN service."}, {"name": "service_stop", "description": "Stops the LAN service."}, {"name": "add_docsis_bridge", "description": "Adds existing LAN interface to DOCSIS bridge for bridging purposes."}, {"name": "register_docsis_handler", "description": "Registers DOCSIS handler for configuration events."}], "calls": ["brctl addbr", "brctl setfd", "brctl stp", "ip rule add", "ip rule del", "ip route add", "ip route del", "ip addr add", "ip addr flush", "ip link set", "ifconfig", "wlancfg", "sysevent set", "sysevent get", "sysevent async", "sysevent setoptions", "sysevent rm_async", "utctx_cmd get", "syscfg get", "ulog lan status", "wait_till_end_state", "check_err", "echo_t", "killall"], "search-terms": ["LAN configuration", "bridge setup", "interface_control", "DHCP handling", "wireless interfaces", "Ethernet interfaces", "policy routing", "system initialization", "service management", "VLAN", "system events", "brctl commands", "ip routing", "DHCP client", "virtual interfaces", "bridge creation"], "state": 2, "file_id": 7569, "knowledge_revision": 20648, "git_revision": "", "hash": "77ad8a48b658890266228881dd5c9b5f", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/Utopia/source/scripts/init/service.d/service_lan.sh", "revision_history": [{"20648": ""}]}