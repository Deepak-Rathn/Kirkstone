{"is_source_file": true, "format": "C", "description": "This file implements a WiFi event handling module using rbus for communication and event subscriptions. It manages WiFi access point events, CSI (Channel State Information) data, and related subscriptions, including adding/removing table rows, handling get/set requests, and publishing events.", "external_files": ["rbus/rbus.h", "ansc_platform.h", "ccsp_WifiLog_wrapper.h", "wifi_events.h"], "external_methods": ["rbus_checkStatus", "rbus_open", "rbus_close", "rbus_regDataElements", "rbusTable_addRow", "rbusEvent_Publish", "rbusProperty_GetName", "rbusProperty_GetValue", "rbusValue_GetString", "rbusValue_GetBoolean", "rbusValue_GetUInt32", "rbusValue_SetString", "rbusValue_SetBytes", "rbusValue_SetBoolean", "rbusValue_SetUInt32", "rbusObject_Init", "rbusObject_SetValue", "rbusObject_Release", "rbusValue_Release", "queue_create", "queue_push", "queue_count", "queue_peek", "queue_remove", "queue_destroy", "csi_create_session", "csi_del_session", "csi_set_interval", "csi_enable_subscription", "csi_set_client_mac", "csi_create_session", "csi_del_session", "diagdata_set_interval", "to_mac_str"], "published": ["events_subHandler", "events_APtable_addrowhandler", "events_CSItable_addrowhandler", "events_APtable_removerowhandler", "events_CSItable_removerowhandler", "events_GetHandler", "events_CSIGetHandler", "events_CSISetHandler", "events_update_clientdiagdata", "events_publish", "events_init", "events_deinit"], "classes": [], "methods": [{"name": "rbusError_t events_APtable_addrowhandler(rbusHandle_t handle,char const * tableName,char const * aliasName,uint32_t * instNum)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "rbusError_t events_APtable_removerowhandler(rbusHandle_t handle,char const * rowName)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "rbusError_t events_CSIGetHandler(rbusHandle_t handle,rbusProperty_t property,rbusGetHandlerOptions_t * opts)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "rbusError_t events_CSISetHandler(rbusHandle_t handle,rbusProperty_t property,rbusSetHandlerOptions_t * opts)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "rbusError_t events_CSItable_addrowhandler(rbusHandle_t handle,char const * tableName,char const * aliasName,uint32_t * instNum)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "rbusError_t events_CSItable_removerowhandler(rbusHandle_t handle,char const * rowName)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "rbusError_t events_GetHandler(rbusHandle_t handle,rbusProperty_t property,rbusGetHandlerOptions_t * opts)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int events_deinit(void)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "event_element_t * events_getEventElement(char * eventName)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "BOOL events_getSubscribed(char * eventName)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int events_init(void)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int events_publish(wifi_monitor_data_t data)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "rbusError_t events_subHandler(rbusHandle_t handle,rbusEventSubAction_t action,const char * eventName,rbusFilter_t filter,int32_t interval,bool * autoPublish)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void events_update_clientdiagdata(unsigned int num_devs,int vap_idx,wifi_associated_dev3_t * dev_array)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "queue_t ** get_csi_entry_queue()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void str_to_mac_bytes(char * key,mac_addr_t bmac)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["rbus_checkStatus", "rbus_open", "rbus_regDataElements", "rbusTable_addRow", "rbusEvent_Publish", "rbusProperty_GetName", "rbusProperty_GetValue", "rbusValue_GetString", "rbusValue_GetBoolean", "rbusValue_GetUInt32", "rbusValue_SetString", "rbusValue_SetBytes", "rbusValue_SetBoolean", "rbusValue_SetUInt32", "rbusObject_Init", "rbusObject_SetValue", "rbusObject_Release", "rbusValue_Release", "queue_create", "queue_push", "queue_count", "queue_peek", "queue_remove", "queue_destroy", "csi_create_session", "csi_del_session", "csi_set_interval", "csi_enable_subscription", "csi_set_client_mac", "diagdata_set_interval", "to_mac_str"], "search-terms": ["wifi_events", "CSI", "rbus", "access point", "subscribed events", "event handler", "device diagnostics", "csi session", "queue management", "mac address parsing"], "state": 2, "file_id": 9196, "knowledge_revision": 22211, "git_revision": "", "ctags": [{"_type": "tag", "name": "CLIENTDIAG_JSON_BUFFER_SIZE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "pattern": "/^#define CLIENTDIAG_JSON_BUFFER_SIZE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MAX_EVENT_NAME_SIZE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "pattern": "/^#define MAX_EVENT_NAME_SIZE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "__anon3dc543cf0108", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "pattern": "/^typedef struct {$/", "file": true, "language": "C", "kind": "struct"}, {"_type": "tag", "name": "__anon3dc543cf0208", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "pattern": "/^typedef struct {$/", "file": true, "language": "C", "kind": "struct"}, {"_type": "tag", "name": "csi_client_count", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "pattern": "/^    unsigned int csi_client_count;$/", "file": true, "language": "C", "typeref": "typename:unsigned int", "kind": "member", "scope": "__anon3dc543cf0208", "scopeKind": "struct"}, {"_type": "tag", "name": "csi_client_list", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "pattern": "/^    mac_address_t csi_client_list[MAX_CSI_CLIENTS_PER_SESSION];$/", "file": true, "language": "C", "typeref": "typename:mac_address_t[]", "kind": "member", "scope": "__anon3dc543cf0208", "scopeKind": "struct"}, {"_type": "tag", "name": "csi_data_t", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "pattern": "/^} csi_data_t;$/", "file": true, "language": "C", "typeref": "struct:__anon3dc543cf0208", "kind": "typedef"}, {"_type": "tag", "name": "csi_session_num", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "pattern": "/^    unsigned long csi_session_num;$/", "file": true, "language": "C", "typeref": "typename:unsigned long", "kind": "member", "scope": "__anon3dc543cf0208", "scopeKind": "struct"}, {"_type": "tag", "name": "enabled", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "pattern": "/^    bool enabled;$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "member", "scope": "__anon3dc543cf0208", "scopeKind": "struct"}, {"_type": "tag", "name": "event_element_t", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "pattern": "/^} event_element_t;$/", "file": true, "language": "C", "typeref": "struct:__anon3dc543cf0108", "kind": "typedef"}, {"_type": "tag", "name": "events_APtable_addrowhandler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "pattern": "/^rbusError_t events_APtable_addrowhandler(rbusHandle_t handle, char const* tableName, char const*/", "language": "C", "typeref": "typename:rbusError_t", "kind": "function", "signature": "(rbusHandle_t handle,char const * tableName,char const * aliasName,uint32_t * instNum)"}, {"_type": "tag", "name": "events_APtable_removerowhandler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "pattern": "/^rbusError_t events_APtable_removerowhandler(rbusHandle_t handle, char const* rowName)$/", "language": "C", "typeref": "typename:rbusError_t", "kind": "function", "signature": "(rbusHandle_t handle,char const * rowName)"}, {"_type": "tag", "name": "events_CSIGetHandler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "pattern": "/^rbusError_t events_CSIGetHandler(rbusHandle_t handle, rbusProperty_t property, rbusGetHandlerOpt/", "language": "C", "typeref": "typename:rbusError_t", "kind": "function", "signature": "(rbusHandle_t handle,rbusProperty_t property,rbusGetHandlerOptions_t * opts)"}, {"_type": "tag", "name": "events_CSISetHandler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "pattern": "/^rbusError_t events_CSISetHandler(rbusHandle_t handle, rbusProperty_t property, rbusSetHandlerOpt/", "language": "C", "typeref": "typename:rbusError_t", "kind": "function", "signature": "(rbusHandle_t handle,rbusProperty_t property,rbusSetHandlerOptions_t * opts)"}, {"_type": "tag", "name": "events_CSItable_addrowhandler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "pattern": "/^rbusError_t events_CSItable_addrowhandler(rbusHandle_t handle, char const* tableName, char const/", "language": "C", "typeref": "typename:rbusError_t", "kind": "function", "signature": "(rbusHandle_t handle,char const * tableName,char const * aliasName,uint32_t * instNum)"}, {"_type": "tag", "name": "events_CSItable_removerowhandler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "pattern": "/^rbusError_t events_CSItable_removerowhandler(rbusHandle_t handle, char const *rowName)$/", "language": "C", "typeref": "typename:rbusError_t", "kind": "function", "signature": "(rbusHandle_t handle,char const * rowName)"}, {"_type": "tag", "name": "events_GetHandler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "pattern": "/^rbusError_t events_GetHandler(rbusHandle_t handle, rbusProperty_t property, rbusGetHandlerOption/", "language": "C", "typeref": "typename:rbusError_t", "kind": "function", "signature": "(rbusHandle_t handle,rbusProperty_t property,rbusGetHandlerOptions_t * opts)"}, {"_type": "tag", "name": "events_deinit", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "pattern": "/^int events_deinit(void)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "events_getEventElement", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "pattern": "/^static event_element_t *events_getEventElement(char *eventName)$/", "file": true, "language": "C", "typeref": "typename:event_element_t *", "kind": "function", "signature": "(char * eventName)"}, {"_type": "tag", "name": "events_getSubscribed", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "pattern": "/^static BOOL events_getSubscribed(char *eventName)$/", "file": true, "language": "C", "typeref": "typename:BOOL", "kind": "function", "signature": "(char * eventName)"}, {"_type": "tag", "name": "events_init", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "pattern": "/^int events_init(void)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "events_publish", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "pattern": "/^int events_publish(wifi_monitor_data_t data)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(wifi_monitor_data_t data)"}, {"_type": "tag", "name": "events_subHandler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "pattern": "/^rbusError_t events_subHandler(rbusHandle_t handle, rbusEventSubAction_t action, const char* even/", "language": "C", "typeref": "typename:rbusError_t", "kind": "function", "signature": "(rbusHandle_t handle,rbusEventSubAction_t action,const char * eventName,rbusFilter_t filter,int32_t interval,bool * autoPublish)"}, {"_type": "tag", "name": "events_update_clientdiagdata", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "pattern": "/^void events_update_clientdiagdata(unsigned int num_devs, int vap_idx, wifi_associated_dev3_t *de/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(unsigned int num_devs,int vap_idx,wifi_associated_dev3_t * dev_array)"}, {"_type": "tag", "name": "g_csi_data_queue", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "pattern": "/^static queue_t              *g_csi_data_queue;$/", "file": true, "language": "C", "typeref": "typename:queue_t *", "kind": "variable"}, {"_type": "tag", "name": "g_events_lock", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "pattern": "/^static pthread_mutex_t      g_events_lock;$/", "file": true, "language": "C", "typeref": "typename:pthread_mutex_t", "kind": "variable"}, {"_type": "tag", "name": "g_isRbusAvailable", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "pattern": "/^static BOOL                 g_isRbusAvailable = false;$/", "file": true, "language": "C", "typeref": "typename:BOOL", "kind": "variable"}, {"_type": "tag", "name": "g_rbus_events_queue", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "pattern": "/^static queue_t              *g_rbus_events_queue;$/", "file": true, "language": "C", "typeref": "typename:queue_t *", "kind": "variable"}, {"_type": "tag", "name": "g_rbus_handle", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "pattern": "/^static rbusHandle_t         g_rbus_handle;$/", "file": true, "language": "C", "typeref": "typename:rbusHandle_t", "kind": "variable"}, {"_type": "tag", "name": "gdiag_events_json_buffer", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "pattern": "/^static char                 *gdiag_events_json_buffer[MAX_VAP];$/", "file": true, "language": "C", "typeref": "typename:char * []", "kind": "variable"}, {"_type": "tag", "name": "get_csi_entry_queue", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "pattern": "/^static queue_t** get_csi_entry_queue()$/", "file": true, "language": "C", "typeref": "typename:queue_t **", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "idx", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "pattern": "/^    int idx;$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "member", "scope": "__anon3dc543cf0108", "scopeKind": "struct"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "pattern": "/^    char name[MAX_EVENT_NAME_SIZE];$/", "file": true, "language": "C", "typeref": "typename:char[]", "kind": "member", "scope": "__anon3dc543cf0108", "scopeKind": "struct"}, {"_type": "tag", "name": "num_subscribers", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "pattern": "/^    unsigned int num_subscribers;$/", "file": true, "language": "C", "typeref": "typename:unsigned int", "kind": "member", "scope": "__anon3dc543cf0108", "scopeKind": "struct"}, {"_type": "tag", "name": "str_to_mac_bytes", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "pattern": "/^static void str_to_mac_bytes (char *key, mac_addr_t bmac) {$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(char * key,mac_addr_t bmac)"}, {"_type": "tag", "name": "subscribed", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "pattern": "/^    BOOL subscribed;$/", "file": true, "language": "C", "typeref": "typename:BOOL", "kind": "member", "scope": "__anon3dc543cf0108", "scopeKind": "struct"}, {"_type": "tag", "name": "type", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "pattern": "/^    wifi_monitor_event_type_t type;$/", "file": true, "language": "C", "typeref": "typename:wifi_monitor_event_type_t", "kind": "member", "scope": "__anon3dc543cf0108", "scopeKind": "struct"}], "hash": "909f715e65bdc8af739fc90f9a522513", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/CcspWifiAgent/source/TR-181/sbapi/wifi_events.c", "fields": [{"name": "unsigned int csi_client_count", "scope": "__anon3dc543cf0208", "scopeKind": "struct", "description": "unavailable"}, {"name": "mac_address_t[] csi_client_list", "scope": "__anon3dc543cf0208", "scopeKind": "struct", "description": "unavailable"}, {"name": "unsigned long csi_session_num", "scope": "__anon3dc543cf0208", "scopeKind": "struct", "description": "unavailable"}, {"name": "bool enabled", "scope": "__anon3dc543cf0208", "scopeKind": "struct", "description": "unavailable"}, {"name": "queue_t * g_csi_data_queue", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pthread_mutex_t g_events_lock", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "BOOL g_isRbusAvailable", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "queue_t * g_rbus_events_queue", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "rbusHandle_t g_rbus_handle", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char * [] gdiag_events_json_buffer", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int idx", "scope": "__anon3dc543cf0108", "scopeKind": "struct", "description": "unavailable"}, {"name": "char[] name", "scope": "__anon3dc543cf0108", "scopeKind": "struct", "description": "unavailable"}, {"name": "unsigned int num_subscribers", "scope": "__anon3dc543cf0108", "scopeKind": "struct", "description": "unavailable"}, {"name": "BOOL subscribed", "scope": "__anon3dc543cf0108", "scopeKind": "struct", "description": "unavailable"}, {"name": "wifi_monitor_event_type_t type", "scope": "__anon3dc543cf0108", "scopeKind": "struct", "description": "unavailable"}], "revision_history": [{"22211": ""}]}