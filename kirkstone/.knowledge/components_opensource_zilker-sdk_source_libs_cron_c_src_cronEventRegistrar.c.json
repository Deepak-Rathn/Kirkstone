{"is_source_file": true, "format": "C", "description": "This C source file implements cron event registration and management functions, including registering, updating, and unregistering cron events, along with handling cron event callbacks. It interfaces with system crontab entries and maintains an internal map of registered events and their handlers.", "external_files": ["xhCron/cronEventRegistrar.h", "xhCron/cron_eventAdapter.h", "xhCron/crontab.h", "<icTypes/icHashMap.h>", "<propsMgr/paths.h>", "<pthread.h>", "<stdio.h>"], "external_methods": ["hasCrontabEntry", "addOrUpdatePreformattedCrontabEntry", "register_cronEvent_eventListener", "hashMapCreate", "hashMapDelete", "hashMapCount", "hashMapDestroy", "hashMapPut", "hashMapGet", "removeCrontabEntry", "getStaticPath"], "published": ["registerForCronEvent", "updateCronEventSchedule", "unregisterForCronEvent"], "classes": [], "methods": [{"name": "bool registerForCronEvent(const char * name,const char * schedule,cronEventHandler callback)", "description": "Registers to receive a callback when a specified cron event occurs, optionally creating the cron schedule entry.", "scope": "", "scopeKind": ""}, {"name": "bool updateCronEventSchedule(const char * name,const char * schedule)", "description": "Updates the schedule for an existing cron event registered under a specific name.", "scope": "", "scopeKind": ""}, {"name": "void unregisterForCronEvent(const char * name,bool clearCronEntry)", "description": "Unregisters from receiving events for a given name, with an option to remove the associated cron tab entry.", "scope": "", "scopeKind": ""}, {"name": "void unregisterForCronEventInternal(const char * name,bool clearCronEntry)", "description": "Internal helper to clean up registration and optionally remove cron tab entries; expects mutex to be locked.", "scope": "", "scopeKind": ""}, {"name": "void eventHandler(cronEvent * event)", "description": "Callback invoked upon cron event, dispatches to registered handlers and possibly unregisters one-time events.", "scope": "", "scopeKind": ""}, {"name": "void mapFreeFunc(void * key,void * value)", "description": "Function to free map entries; frees key string and ignores value.", "scope": "", "scopeKind": ""}, {"name": "char * buildEntryLine(const char * name,const char * schedule)", "description": "Constructs a cron entry line string for scheduling, uses a static path to the utility script.", "scope": "", "scopeKind": ""}], "calls": ["hasCrontabEntry", "addOrUpdatePreformattedCrontabEntry", "register_cronEvent_eventListener", "hashMapCreate", "hashMapDelete", "hashMapCount", "hashMapDestroy", "hashMapPut", "hashMapGet", "removeCrontabEntry", "getStaticPath"], "search-terms": ["cronEventRegistrar", "crontab", "cron schedule", "register for cron", "unregister cron event", "cron callback", "cron handler"], "state": 2, "file_id": 621, "knowledge_revision": 13784, "git_revision": "", "ctags": [{"_type": "tag", "name": "MTX", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/cron/c/src/cronEventRegistrar.c", "pattern": "/^static pthread_mutex_t MTX = PTHREAD_MUTEX_INITIALIZER;$/", "file": true, "language": "C", "typeref": "typename:pthread_mutex_t", "kind": "variable"}, {"_type": "tag", "name": "buildEntryLine", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/cron/c/src/cronEventRegistrar.c", "pattern": "/^static char *buildEntryLine(const char *name, const char *schedule)$/", "file": true, "language": "C", "typeref": "typename:char *", "kind": "function", "signature": "(const char * name,const char * schedule)"}, {"_type": "tag", "name": "eventHandler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/cron/c/src/cronEventRegistrar.c", "pattern": "/^static void eventHandler(cronEvent *event)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(cronEvent * event)"}, {"_type": "tag", "name": "mapFreeFunc", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/cron/c/src/cronEventRegistrar.c", "pattern": "/^static void mapFreeFunc(void *key, void *value)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void * key,void * value)"}, {"_type": "tag", "name": "registerForCronEvent", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/cron/c/src/cronEventRegistrar.c", "pattern": "/^bool registerForCronEvent(const char *name, const char *schedule, cronEventHandler callback)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(const char * name,const char * schedule,cronEventHandler callback)"}, {"_type": "tag", "name": "registrations", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/cron/c/src/cronEventRegistrar.c", "pattern": "/^static icHashMap *registrations = NULL;$/", "file": true, "language": "C", "typeref": "typename:icHashMap *", "kind": "variable"}, {"_type": "tag", "name": "scheduleScript", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/cron/c/src/cronEventRegistrar.c", "pattern": "/^static char *scheduleScript = NULL;$/", "file": true, "language": "C", "typeref": "typename:char *", "kind": "variable"}, {"_type": "tag", "name": "unregisterForCronEvent", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/cron/c/src/cronEventRegistrar.c", "pattern": "/^void unregisterForCronEvent(const char *name, bool clearCronEntry)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(const char * name,bool clearCronEntry)"}, {"_type": "tag", "name": "unregisterForCronEventInternal", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/cron/c/src/cronEventRegistrar.c", "pattern": "/^static void unregisterForCronEventInternal(const char *name, bool clearCronEntry)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(const char * name,bool clearCronEntry)"}, {"_type": "tag", "name": "updateCronEventSchedule", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/cron/c/src/cronEventRegistrar.c", "pattern": "/^bool updateCronEventSchedule(const char *name, const char *schedule)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(const char * name,const char * schedule)"}], "hash": "829d059dc76c1e64525162ad93f0fb11", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "components/opensource/zilker-sdk/source/libs/cron/c/src/cronEventRegistrar.c", "fields": [{"name": "pthread_mutex_t MTX", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "icHashMap * registrations", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char * scheduleScript", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"13784": ""}]}