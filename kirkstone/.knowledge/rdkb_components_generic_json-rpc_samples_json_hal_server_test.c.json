{"is_source_file": true, "format": "C", "description": "This file is a C source code for a JSON-RPC server implementation that handles RPC method registration, event subscription, and simulates event dispatching such as link status changes. It includes callback functions for various RPC actions like setParameters, getParameters, deleteObject, and subscribeEvent, along with signal handling and threading logic to dispatch events periodically.", "external_files": ["json_hal_server.h", "json_rpc_common.h"], "external_methods": ["json_hal_server_init", "json_hal_server_register_action_callback", "json_hal_server_run", "json_hal_server_terminate", "json_hal_get_param", "json_hal_add_result_status", "json_hal_add_param", "json_hal_get_subscribe_event_request", "json_hal_server_publish_event"], "published": [], "classes": [], "methods": [{"name": "int main(int argc,char ** argv)", "description": "Initializes the JSON RPC server, registers callback functions for various RPC methods, starts the server, and sets up signal handlers for cleanup and termination.", "scope": "", "scopeKind": ""}, {"name": "void sig_handler(int signo)", "description": "Handles shutdown signals by terminating the server and exiting the process.", "scope": "", "scopeKind": ""}, {"name": "int start_event_dispatch_thread()", "description": "Creates and detaches a thread responsible for dispatching simulated link events periodically.", "scope": "", "scopeKind": ""}, {"name": "void * rpc_event_dispatch_thread(void * paramPtr)", "description": "Function run by the event dispatch thread; sends link status events at intervals to subscribed clients.", "scope": "", "scopeKind": ""}, {"name": "int setparam_rpc_cb(const json_object * jmsg,int param_count,json_object * jreply)", "description": "Callback for 'setParameters' RPC; processes incoming parameters and replies with success status.", "scope": "", "scopeKind": ""}, {"name": "int getparam_rpc_cb(const json_object * jmsg,int param_count,json_object * jreply)", "description": "Callback for 'getParameters' RPC; responds with current values of requested parameters.", "scope": "", "scopeKind": ""}, {"name": "int deleteobj_rpc_cb(const json_object * jmsg,int param_count,json_object * jreply)", "description": "Callback for 'deleteObject' RPC; processes delete requests and replies with success.", "scope": "", "scopeKind": ""}, {"name": "int subs_event_cb(const json_object * jmsg,int param_count,json_object * jreply)", "description": "Callback for 'subscribeEvent' RPC; registers event subscriptions and starts event dispatch thread if needed.", "scope": "", "scopeKind": ""}], "calls": ["json_hal_server_init", "json_hal_server_register_action_callback", "json_hal_server_run", "json_hal_server_terminate", "json_hal_get_param", "json_hal_add_result_status", "json_hal_add_param", "json_hal_get_subscribe_event_request", "json_hal_server_publish_event"], "search-terms": ["json_rpc_server", "event_subscription", "signal_handling", "link_status_event", "RPC_callbacks", "threaded_event_dispatch", "json_hal_server"], "state": 2, "file_id": 5769, "knowledge_revision": 18890, "git_revision": "", "ctags": [{"_type": "tag", "name": "DSL_LINK_EVENT", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/json-rpc/samples/json_hal_server_test.c", "pattern": "/^#define DSL_LINK_EVENT /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "ETH_LINK_EVENT", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/json-rpc/samples/json_hal_server_test.c", "pattern": "/^#define ETH_LINK_EVENT /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "LINK_DOWN", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/json-rpc/samples/json_hal_server_test.c", "pattern": "/^#define LINK_DOWN /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "LINK_UP", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/json-rpc/samples/json_hal_server_test.c", "pattern": "/^#define LINK_UP /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "deleteobj_rpc_cb", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/json-rpc/samples/json_hal_server_test.c", "pattern": "/^static int deleteobj_rpc_cb(const json_object *jmsg, int param_count, json_object *jreply)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const json_object * jmsg,int param_count,json_object * jreply)"}, {"_type": "tag", "name": "evt_subs_index", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/json-rpc/samples/json_hal_server_test.c", "pattern": "/^int evt_subs_index = -1;$/", "language": "C", "typeref": "typename:int", "kind": "variable"}, {"_type": "tag", "name": "evt_thread_started", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/json-rpc/samples/json_hal_server_test.c", "pattern": "/^bool evt_thread_started = FALSE;$/", "language": "C", "typeref": "typename:bool", "kind": "variable"}, {"_type": "tag", "name": "getparam_rpc_cb", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/json-rpc/samples/json_hal_server_test.c", "pattern": "/^static int getparam_rpc_cb(const json_object *jmsg, int param_count, json_object *jreply)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const json_object * jmsg,int param_count,json_object * jreply)"}, {"_type": "tag", "name": "gsubs_event_list", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/json-rpc/samples/json_hal_server_test.c", "pattern": "/^static hal_subscribe_event_request_t gsubs_event_list[5];$/", "file": true, "language": "C", "typeref": "typename:hal_subscribe_event_request_t[5]", "kind": "variable"}, {"_type": "tag", "name": "main", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/json-rpc/samples/json_hal_server_test.c", "pattern": "/^int main(int argc, char **argv)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(int argc,char ** argv)"}, {"_type": "tag", "name": "rpc_event_dispatch_thread", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/json-rpc/samples/json_hal_server_test.c", "pattern": "/^static void *rpc_event_dispatch_thread(void *paramPtr)$/", "file": true, "language": "C", "typeref": "typename:void *", "kind": "function", "signature": "(void * paramPtr)"}, {"_type": "tag", "name": "schemaPath", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/json-rpc/samples/json_hal_server_test.c", "pattern": "/^char schemaPath[256] = {'\\\\0'};$/", "language": "C", "typeref": "typename:char[256]", "kind": "variable"}, {"_type": "tag", "name": "setparam_rpc_cb", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/json-rpc/samples/json_hal_server_test.c", "pattern": "/^static int setparam_rpc_cb(const json_object *jmsg, int param_count, json_object *jreply)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const json_object * jmsg,int param_count,json_object * jreply)"}, {"_type": "tag", "name": "sig_handler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/json-rpc/samples/json_hal_server_test.c", "pattern": "/^static void sig_handler(int signo)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(int signo)"}, {"_type": "tag", "name": "start_event_dispatch_thread", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/json-rpc/samples/json_hal_server_test.c", "pattern": "/^static int start_event_dispatch_thread()$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "subs_event_cb", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/json-rpc/samples/json_hal_server_test.c", "pattern": "/^static int subs_event_cb(const json_object *jmsg, int param_count, json_object *jreply)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const json_object * jmsg,int param_count,json_object * jreply)"}], "hash": "9a1b3ff73064997ea493504fab91c7c8", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/generic/json-rpc/samples/json_hal_server_test.c", "fields": [{"name": "int evt_subs_index", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool evt_thread_started", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "hal_subscribe_event_request_t[5] gsubs_event_list", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char[256] schemaPath", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"18890": ""}]}