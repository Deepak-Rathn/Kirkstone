{"is_source_file": true, "format": "C", "description": "This is a C source file implementing RBUS property handlers, event subscriptions, schema validation, and configuration management for a LED manager component. It includes functions to get and set LED states, handle JSON-based configuration updates, validate schemas, and manage RBUS events.", "external_files": ["rbus.h", "led_manager.h", "led_manager_events.h", "ledmgr_rbus_handler_apis.h", "json_schema_validator_wrapper.h", "led_manager_utils.h", "stdio.h", "string.h", "stdlib.h", "math.h", "cJSON.h"], "external_methods": ["rbusProperty_GetName", "rbusProperty_GetValue", "rbusValue_GetType", "rbusValue_SetString", "rbusProperty_SetValue", "rbus_event_Subscribe", "rbus_event_Unsubscribe", "rbus_open", "rbus_regDataElements", "rbus_close", "rbus_unregDataElements", "rbusError_ToString", "rbus_getUint", "json_validator_init", "json_validator_validate_request", "json_validator_terminate", "platform_hal_setLed"], "published": ["LedMgr_Rbus_GetHandler", "LedMgr_Rbus_FullJson_SetHandler", "LedMgr_Rbus_Brightness_SetHandler", "LedMgr_Rbus_OnOff_SetHandler", "LedMgr_Rbus_Init", "LedMgr_RbusExit"], "classes": [], "methods": [{"name": "rbusError_t LedMgr_Rbus_GetHandler(rbusHandle_t handle,rbusProperty_t property,rbusGetHandlerOptions_t * opts)", "description": "Handles RBUS GET requests for the LED data property by returning the current LED data.", "scope": "", "scopeKind": ""}, {"name": "rbusError_t LedMgr_Rbus_FullJson_SetHandler(rbusHandle_t handle,rbusProperty_t prop,rbusSetHandlerOptions_t * opts)", "description": "Handles RBUS SET requests for the full JSON configuration, updating the internal LED data with validated JSON string.", "scope": "", "scopeKind": ""}, {"name": "rbusError_t LedMgr_Rbus_Brightness_SetHandler(rbusHandle_t handle,rbusProperty_t prop,rbusSetHandlerOptions_t * opts)", "description": "Handles RBUS SET requests to update LED brightness, calling webconfig functions and updating internal data.", "scope": "", "scopeKind": ""}, {"name": "rbusError_t LedMgr_Rbus_OnOff_SetHandler(rbusHandle_t handle,rbusProperty_t prop,rbusSetHandlerOptions_t * opts)", "description": "Handles RBUS SET requests for turning the LED on or off, updating internal state and invoking webconfig functions.", "scope": "", "scopeKind": ""}, {"name": "int LedMgr_validateSchema(char * json_string,char * schema_path)", "description": "Validates a JSON string against a specified schema using an external JSON schema validator.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS LedMgr_updateTree()", "description": "Reads, parses, and applies new LED configuration from config files, updating LED states accordingly.", "scope": "", "scopeKind": ""}, {"name": "int LedMgr_parseOnOffJson(char * buffer_onOff)", "description": "Parses an ON/OFF JSON command, updates configuration files and backup files accordingly.", "scope": "", "scopeKind": ""}, {"name": "int LedMgr_parseBrightnessJson(char * buffer_brightness)", "description": "Parses brightness JSON input, converts brightness percentage to hex, updates config files and backups.", "scope": "", "scopeKind": ""}, {"name": "void LedMgr_Rbus_EventReceiveHandler(rbusHandle_t handle,rbusEvent_t const * event,rbusEventSubscription_t * subscription)", "description": "Callback for handling incoming RBUS events related to LED configuration changes.", "scope": "", "scopeKind": ""}, {"name": "void LedMgr_Rbus_SubscribeDML(void)", "description": "Subscribes to relevant RBUS events to receive updates.", "scope": "", "scopeKind": ""}, {"name": "void LedMgr_Rbus_UnSubscribeDML(void)", "description": "Unsubscribes from RBUS events.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS LedMgr_Rbus_Init()", "description": "Initializes RBUS, registers data elements, sets initial data, and prepares for communication.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS LedMgr_RbusExit()", "description": "Unregisters data elements, unsubscribes from events, and cleans up RBUS resources.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS LedMgr_getUintParamValue(char * param,UINT * value)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["rbusProperty_GetName", "rbusProperty_GetValue", "rbusValue_GetType", "rbusValue_SetString", "rbusProperty_SetValue", "led_onOffBlobSet", "led_brightnessBlobSet", "led_fullJsonBlobSet", "json_validator_init", "json_validator_validate_request", "json_validator_terminate", "platform_hal_setLed", "rbus_getUint", "cJSON_ParseWithLength", "cJSON_GetObjectItemCaseSensitive", "cJSON_GetArraySize", "cJSON_ArrayForEach", "cJSON_Print", "rbus_open", "rbus_regDataElements", "rbus_close", "rbus_unregDataElements", "rbusError_ToString", "rbusEvent_Subscribe", "rbusEvent_Unsubscribe"], "search-terms": ["RBUS property handler", "LED configuration", "json schema validation", "LED ON/OFF JSON parsing", "brightness JSON handling", "RBUS event subscription", "LED state management", "config file update", "webconfig interface", "RDK schema validation"], "state": 2, "file_id": 6591, "knowledge_revision": 19708, "git_revision": "", "ctags": [{"_type": "tag", "name": "LedMgr_RbusExit", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/TR-181/middle_layer_src/ledmgr_rbus_handler_apis.c", "pattern": "/^ANSC_STATUS LedMgr_RbusExit()$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "LedMgr_Rbus_Brightness_SetHandler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/TR-181/middle_layer_src/ledmgr_rbus_handler_apis.c", "pattern": "/^rbusError_t LedMgr_Rbus_Brightness_SetHandler(rbusHandle_t handle, rbusProperty_t prop, rbusSetH/", "language": "C", "typeref": "typename:rbusError_t", "kind": "function", "signature": "(rbusHandle_t handle,rbusProperty_t prop,rbusSetHandlerOptions_t * opts)"}, {"_type": "tag", "name": "LedMgr_Rbus_EventReceiveHandler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/TR-181/middle_layer_src/ledmgr_rbus_handler_apis.c", "pattern": "/^static void LedMgr_Rbus_EventReceiveHandler(rbusHandle_t handle, rbusEvent_t const* event, rbusE/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(rbusHandle_t handle,rbusEvent_t const * event,rbusEventSubscription_t * subscription)"}, {"_type": "tag", "name": "LedMgr_Rbus_FullJson_SetHandler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/TR-181/middle_layer_src/ledmgr_rbus_handler_apis.c", "pattern": "/^rbusError_t LedMgr_Rbus_FullJson_SetHandler(rbusHandle_t handle, rbusProperty_t prop, rbusSetHan/", "language": "C", "typeref": "typename:rbusError_t", "kind": "function", "signature": "(rbusHandle_t handle,rbusProperty_t prop,rbusSetHandlerOptions_t * opts)"}, {"_type": "tag", "name": "LedMgr_Rbus_GetHandler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/TR-181/middle_layer_src/ledmgr_rbus_handler_apis.c", "pattern": "/^rbusError_t LedMgr_Rbus_GetHandler(rbusHandle_t handle, rbusProperty_t property, rbusGetHandlerO/", "language": "C", "typeref": "typename:rbusError_t", "kind": "function", "signature": "(rbusHandle_t handle,rbusProperty_t property,rbusGetHandlerOptions_t * opts)"}, {"_type": "tag", "name": "LedMgr_Rbus_Init", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/TR-181/middle_layer_src/ledmgr_rbus_handler_apis.c", "pattern": "/^ANSC_STATUS LedMgr_Rbus_Init()$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "LedMgr_Rbus_OnOff_SetHandler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/TR-181/middle_layer_src/ledmgr_rbus_handler_apis.c", "pattern": "/^rbusError_t LedMgr_Rbus_OnOff_SetHandler(rbusHandle_t handle, rbusProperty_t prop, rbusSetHandle/", "language": "C", "typeref": "typename:rbusError_t", "kind": "function", "signature": "(rbusHandle_t handle,rbusProperty_t prop,rbusSetHandlerOptions_t * opts)"}, {"_type": "tag", "name": "LedMgr_Rbus_SubscribeDML", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/TR-181/middle_layer_src/ledmgr_rbus_handler_apis.c", "pattern": "/^void LedMgr_Rbus_SubscribeDML(void)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "LedMgr_Rbus_UnSubscribeDML", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/TR-181/middle_layer_src/ledmgr_rbus_handler_apis.c", "pattern": "/^void LedMgr_Rbus_UnSubscribeDML(void)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "LedMgr_getUintParamValue", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/TR-181/middle_layer_src/ledmgr_rbus_handler_apis.c", "pattern": "/^ANSC_STATUS LedMgr_getUintParamValue (char * param, UINT * value)$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(char * param,UINT * value)"}, {"_type": "tag", "name": "LedMgr_parseBrightnessJson", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/TR-181/middle_layer_src/ledmgr_rbus_handler_apis.c", "pattern": "/^int LedMgr_parseBrightnessJson(char* buffer_brightness) {$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(char * buffer_brightness)"}, {"_type": "tag", "name": "LedMgr_parseOnOffJson", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/TR-181/middle_layer_src/ledmgr_rbus_handler_apis.c", "pattern": "/^int LedMgr_parseOnOffJson (char* buffer_onOff) {$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(char * buffer_onOff)"}, {"_type": "tag", "name": "LedMgr_updateTree", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/TR-181/middle_layer_src/ledmgr_rbus_handler_apis.c", "pattern": "/^ANSC_STATUS LedMgr_updateTree() {$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "LedMgr_validateSchema", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/TR-181/middle_layer_src/ledmgr_rbus_handler_apis.c", "pattern": "/^int LedMgr_validateSchema(char* json_string, char* schema_path) {$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(char * json_string,char * schema_path)"}, {"_type": "tag", "name": "componentName", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/TR-181/middle_layer_src/ledmgr_rbus_handler_apis.c", "pattern": "/^char componentName[32] = \"LEDMANAGER\";$/", "language": "C", "typeref": "typename:char[32]", "kind": "variable"}, {"_type": "tag", "name": "gSubscribersCount", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/TR-181/middle_layer_src/ledmgr_rbus_handler_apis.c", "pattern": "/^unsigned int gSubscribersCount = 0;$/", "language": "C", "typeref": "typename:unsigned int", "kind": "variable"}, {"_type": "tag", "name": "g_LedMgr", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/TR-181/middle_layer_src/ledmgr_rbus_handler_apis.c", "pattern": "/^static LED_DATA g_LedMgr;$/", "file": true, "language": "C", "typeref": "typename:LED_DATA", "kind": "variable"}, {"_type": "tag", "name": "ledMgrRbusDataElements", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/TR-181/middle_layer_src/ledmgr_rbus_handler_apis.c", "pattern": "/^rbusDataElement_t ledMgrRbusDataElements[NUM_OF_RBUS_PARAMS] = {$/", "language": "C", "typeref": "typename:rbusDataElement_t[]", "kind": "variable"}, {"_type": "tag", "name": "mutex", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/TR-181/middle_layer_src/ledmgr_rbus_handler_apis.c", "pattern": "/^pthread_mutex_t mutex = PTHREAD_MUTEX_INITIALIZER;$/", "language": "C", "typeref": "typename:pthread_mutex_t", "kind": "variable"}, {"_type": "tag", "name": "rbusHandle", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/TR-181/middle_layer_src/ledmgr_rbus_handler_apis.c", "pattern": "/^static rbusHandle_t rbusHandle;$/", "file": true, "language": "C", "typeref": "typename:rbusHandle_t", "kind": "variable"}], "hash": "e92a12d7e78fb25100e618ccb0ca8fa0", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/RdkLedManager/source/TR-181/middle_layer_src/ledmgr_rbus_handler_apis.c", "fields": [{"name": "char[32] componentName", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "unsigned int gSubscribersCount", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "LED_DATA g_LedMgr", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "rbusDataElement_t[] ledMgrRbusDataElements", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pthread_mutex_t mutex", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "rbusHandle_t rbusHandle", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"19708": ""}]}