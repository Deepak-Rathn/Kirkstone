{"is_source_file": true, "format": "C", "description": "This file implements a dynamic thread pool in C using POSIX threads. It manages task queues, thread creation/destruction, and thread-safe operations, along with statistics gathering. The implementation includes functions for creating, destroying, and adding tasks to the thread pool, as well as internal worker thread logic.", "external_files": ["icBuildtime.h", "icLog/logging.h", "icConcurrent/threadUtils.h", "icTypes/icLinkedList.h", "icUtil/stringUtils.h", "icConcurrent/icBlockingQueue.h", "icConcurrent/threadPool.h"], "external_methods": ["createThread", "blockingQueueCreate", "blockingQueuePushTimeoutGranular", "blockingQueueCount", "blockingQueueDestroy", "blockingQueueIterate", "pthread_key_create", "pthread_key_delete", "pthread_setspecific", "pthread_getspecific", "pthread_mutex_lock", "pthread_mutex_unlock", "pthread_mutex_init", "pthread_mutex_destroy", "pthread_create", "pthread_detach", "pthread_join", "pthread_self", "pthread_equal"], "published": ["threadPoolCreate", "threadPoolDestroy", "threadPoolAddTask", "threadPoolGetActiveCount", "threadPoolGetThreadCount", "threadPoolGetBacklogCount", "threadPoolShowBacklog", "threadPoolGetStatistics", "threadPoolClearStatistics", "threadPoolTaskArgDoNotFreeFunc"], "classes": [], "methods": [{"name": "bool addWorkerThreads(icThreadPool * pool,uint16_t numToAdd)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool isRunning(icThreadPool * pool)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void * runWorker(void * arg)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void taskFreeFunc(void * item)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool threadPoolAddTask(icThreadPool * pool,threadPoolTask task,void * arg,threadPoolTaskArgFreeFunc argFreeFunc)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void threadPoolClearStatistics(icThreadPool * pool)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "icThreadPool * threadPoolCreate(const char * name,uint16_t minThreads,uint16_t maxThreads,uint32_t maxQueueSize)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void threadPoolDestroy(icThreadPool * pool)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "uint32_t threadPoolGetActiveCount(icThreadPool * pool)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "uint32_t threadPoolGetBacklogCount(icThreadPool * pool)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "threadPoolStats * threadPoolGetStatistics(icThreadPool * pool,bool thenClear)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "uint16_t threadPoolGetThreadCount(icThreadPool * pool)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void threadPoolShowBacklog(icThreadPool * pool,queueIterateFunc printFunc,void * printArg)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void threadPoolTaskArgDoNotFreeFunc(void * arg)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["createThread", "blockingQueueCreate", "blockingQueuePushTimeoutGranular", "blockingQueueCount", "blockingQueueDestroy", "blockingQueueIterate", "pthread_key_create", "pthread_key_delete", "pthread_setspecific", "pthread_getspecific", "pthread_mutex_lock", "pthread_mutex_unlock", "pthread_mutex_init", "pthread_mutex_destroy", "pthread_create", "pthread_detach", "pthread_join", "pthread_self", "pthread_equal"], "search-terms": ["thread pool", "pthread", "dynamic thread pool", "task queue", "concurrent execution", "blocking queue", "worker threads", "task management", "thread lifetime", "statistics"], "state": 2, "file_id": 886, "knowledge_revision": 14044, "git_revision": "", "ctags": [{"_type": "tag", "name": "ADD_TASK_TIMEOUT_MS", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^#define ADD_TASK_TIMEOUT_MS /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "LOG_CAT", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^#define LOG_CAT /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "_icTask", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^typedef struct _icTask$/", "file": true, "language": "C", "kind": "struct"}, {"_type": "tag", "name": "_icThreadPool", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^struct _icThreadPool$/", "file": true, "language": "C", "kind": "struct"}, {"_type": "tag", "name": "_workerArgs", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^typedef struct _workerArgs$/", "file": true, "language": "C", "kind": "struct"}, {"_type": "tag", "name": "active", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^    uint16_t        active;           \\/\\/ number of threads executing a task$/", "file": true, "language": "C", "typeref": "typename:uint16_t", "kind": "member", "scope": "_icThreadPool", "scopeKind": "struct"}, {"_type": "tag", "name": "addWorkerThreads", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^static bool addWorkerThreads(icThreadPool *pool, uint16_t numToAdd)$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(icThreadPool * pool,uint16_t numToAdd)"}, {"_type": "tag", "name": "argument", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^    void            *argument;$/", "file": true, "language": "C", "typeref": "typename:void *", "kind": "member", "scope": "_icTask", "scopeKind": "struct"}, {"_type": "tag", "name": "argumentFreeFunc", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^    threadPoolTaskArgFreeFunc argumentFreeFunc;$/", "file": true, "language": "C", "typeref": "typename:threadPoolTaskArgFreeFunc", "kind": "member", "scope": "_icTask", "scopeKind": "struct"}, {"_type": "tag", "name": "icTask", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^} icTask;$/", "file": true, "language": "C", "typeref": "struct:_icTask", "kind": "typedef"}, {"_type": "tag", "name": "isRunning", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^static bool isRunning(icThreadPool* pool)$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(icThreadPool * pool)"}, {"_type": "tag", "name": "maxThreads", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^    uint16_t        maxThreads;       \\/\\/ max number of threads allowed$/", "file": true, "language": "C", "typeref": "typename:uint16_t", "kind": "member", "scope": "_icThreadPool", "scopeKind": "struct"}, {"_type": "tag", "name": "minThreads", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^    uint16_t        minThreads;       \\/\\/ min number of threads to maintain$/", "file": true, "language": "C", "typeref": "typename:uint16_t", "kind": "member", "scope": "_icThreadPool", "scopeKind": "struct"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^    char            *name;            \\/\\/ name of the pool.  used for debug and stats$/", "file": true, "language": "C", "typeref": "typename:char *", "kind": "member", "scope": "_icThreadPool", "scopeKind": "struct"}, {"_type": "tag", "name": "offset", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^    int             offset;     \\/\\/ index of pool->threads this instance is.  needed during cle/", "file": true, "language": "C", "typeref": "typename:int", "kind": "member", "scope": "_workerArgs", "scopeKind": "struct"}, {"_type": "tag", "name": "pool", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^    icThreadPool    *pool;      \\/\\/ pool this worker belogs to$/", "file": true, "language": "C", "typeref": "typename:icThreadPool *", "kind": "member", "scope": "_workerArgs", "scopeKind": "struct"}, {"_type": "tag", "name": "poolMutex", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^    pthread_mutex_t poolMutex;        \\/\\/ mutex for this pool instance$/", "file": true, "language": "C", "typeref": "typename:pthread_mutex_t", "kind": "member", "scope": "_icThreadPool", "scopeKind": "struct"}, {"_type": "tag", "name": "queue", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^    icBlockingQueue *queue;           \\/\\/ queue of 'icTask' objects (things to run)$/", "file": true, "language": "C", "typeref": "typename:icBlockingQueue *", "kind": "member", "scope": "_icThreadPool", "scopeKind": "struct"}, {"_type": "tag", "name": "run", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^    threadPoolTask  run;$/", "file": true, "language": "C", "typeref": "typename:threadPoolTask", "kind": "member", "scope": "_icTask", "scopeKind": "struct"}, {"_type": "tag", "name": "runWorker", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^static void *runWorker(void *arg)$/", "file": true, "language": "C", "typeref": "typename:void *", "kind": "function", "signature": "(void * arg)"}, {"_type": "tag", "name": "running", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^    bool            running;          \\/\\/ indicator of when to shutdown$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "member", "scope": "_icThreadPool", "scopeKind": "struct"}, {"_type": "tag", "name": "selfDestructed", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^    bool            selfDestructed;   \\/\\/ true if the task destroyed the pool it belongs to$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "member", "scope": "_icTask", "scopeKind": "struct"}, {"_type": "tag", "name": "stats", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^    threadPoolStats stats;            \\/\\/ statistics gathered during execution$/", "file": true, "language": "C", "typeref": "typename:threadPoolStats", "kind": "member", "scope": "_icThreadPool", "scopeKind": "struct"}, {"_type": "tag", "name": "taskFreeFunc", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^static void taskFreeFunc(void *item)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void * item)"}, {"_type": "tag", "name": "threadCount", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^    uint16_t        threadCount;      \\/\\/ number of threads in array$/", "file": true, "language": "C", "typeref": "typename:uint16_t", "kind": "member", "scope": "_icThreadPool", "scopeKind": "struct"}, {"_type": "tag", "name": "threadLocalKey", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^    pthread_key_t   *threadLocalKey;  \\/\\/ Copy of thread local key for the pool, in case the ta/", "file": true, "language": "C", "typeref": "typename:pthread_key_t *", "kind": "member", "scope": "_icTask", "scopeKind": "struct"}, {"_type": "tag", "name": "threadLocalKey", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^    pthread_key_t   *threadLocalKey;  \\/\\/ The thread local key for this pool$/", "file": true, "language": "C", "typeref": "typename:pthread_key_t *", "kind": "member", "scope": "_icThreadPool", "scopeKind": "struct"}, {"_type": "tag", "name": "threadPoolAddTask", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^bool threadPoolAddTask(icThreadPool *pool, threadPoolTask task, void *arg, threadPoolTaskArgFree/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(icThreadPool * pool,threadPoolTask task,void * arg,threadPoolTaskArgFreeFunc argFreeFunc)"}, {"_type": "tag", "name": "threadPoolClearStatistics", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^void threadPoolClearStatistics(icThreadPool *pool)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(icThreadPool * pool)"}, {"_type": "tag", "name": "threadPoolCreate", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^icThreadPool *threadPoolCreate(const char *name, uint16_t minThreads, uint16_t maxThreads, uint3/", "language": "C", "typeref": "typename:icThreadPool *", "kind": "function", "signature": "(const char * name,uint16_t minThreads,uint16_t maxThreads,uint32_t maxQueueSize)"}, {"_type": "tag", "name": "threadPoolDestroy", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^void threadPoolDestroy(icThreadPool *pool)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(icThreadPool * pool)"}, {"_type": "tag", "name": "threadPoolGetActiveCount", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^uint32_t threadPoolGetActiveCount(icThreadPool *pool)$/", "language": "C", "typeref": "typename:uint32_t", "kind": "function", "signature": "(icThreadPool * pool)"}, {"_type": "tag", "name": "threadPoolGetBacklogCount", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^uint32_t threadPoolGetBacklogCount(icThreadPool *pool)$/", "language": "C", "typeref": "typename:uint32_t", "kind": "function", "signature": "(icThreadPool * pool)"}, {"_type": "tag", "name": "threadPoolGetStatistics", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^threadPoolStats *threadPoolGetStatistics(icThreadPool *pool, bool thenClear)$/", "language": "C", "typeref": "typename:threadPoolStats *", "kind": "function", "signature": "(icThreadPool * pool,bool thenClear)"}, {"_type": "tag", "name": "threadPoolGetThreadCount", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^uint16_t threadPoolGetThreadCount(icThreadPool *pool)$/", "language": "C", "typeref": "typename:uint16_t", "kind": "function", "signature": "(icThreadPool * pool)"}, {"_type": "tag", "name": "threadPoolShowBacklog", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^void threadPoolShowBacklog(icThreadPool *pool, queueIterateFunc printFunc, void *printArg)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(icThreadPool * pool,queueIterateFunc printFunc,void * printArg)"}, {"_type": "tag", "name": "threadPoolTaskArgDoNotFreeFunc", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^void threadPoolTaskArgDoNotFreeFunc(void *arg)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void * arg)"}, {"_type": "tag", "name": "threads", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^    pthread_t       *threads;         \\/\\/ array of pthread_t$/", "file": true, "language": "C", "typeref": "typename:pthread_t *", "kind": "member", "scope": "_icThreadPool", "scopeKind": "struct"}, {"_type": "tag", "name": "workerArgs", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "pattern": "/^} workerArgs;$/", "file": true, "language": "C", "typeref": "struct:_workerArgs", "kind": "typedef"}], "hash": "788548772dbb4de41b9e68b6555c55cb", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "components/opensource/zilker-sdk/source/libs/concurrent/c/src/threadPool.c", "fields": [{"name": "uint16_t active", "scope": "_icThreadPool", "scopeKind": "struct", "description": "unavailable"}, {"name": "void * argument", "scope": "_icTask", "scopeKind": "struct", "description": "unavailable"}, {"name": "threadPoolTaskArgFreeFunc argumentFreeFunc", "scope": "_icTask", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint16_t maxThreads", "scope": "_icThreadPool", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint16_t minThreads", "scope": "_icThreadPool", "scopeKind": "struct", "description": "unavailable"}, {"name": "char * name", "scope": "_icThreadPool", "scopeKind": "struct", "description": "unavailable"}, {"name": "int offset", "scope": "_workerArgs", "scopeKind": "struct", "description": "unavailable"}, {"name": "icThreadPool * pool", "scope": "_workerArgs", "scopeKind": "struct", "description": "unavailable"}, {"name": "pthread_mutex_t poolMutex", "scope": "_icThreadPool", "scopeKind": "struct", "description": "unavailable"}, {"name": "icBlockingQueue * queue", "scope": "_icThreadPool", "scopeKind": "struct", "description": "unavailable"}, {"name": "threadPoolTask run", "scope": "_icTask", "scopeKind": "struct", "description": "unavailable"}, {"name": "bool running", "scope": "_icThreadPool", "scopeKind": "struct", "description": "unavailable"}, {"name": "bool selfDestructed", "scope": "_icTask", "scopeKind": "struct", "description": "unavailable"}, {"name": "threadPoolStats stats", "scope": "_icThreadPool", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint16_t threadCount", "scope": "_icThreadPool", "scopeKind": "struct", "description": "unavailable"}, {"name": "pthread_key_t * threadLocalKey", "scope": "_icTask", "scopeKind": "struct", "description": "unavailable"}, {"name": "pthread_t * threads", "scope": "_icThreadPool", "scopeKind": "struct", "description": "unavailable"}], "revision_history": [{"14044": ""}]}