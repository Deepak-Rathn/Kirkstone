{"is_source_file": true, "format": "C", "description": "This source file implements web configuration handling for an LED management module, including parsing, applying configurations, validation, and backup mechanisms. It supports different types of configurations (full JSON, brightness, on/off) encoded in msgpack format and manages versioning and persistence of configuration data.", "external_files": ["ledmgr_webconfig.h", "ledmgr_rbus_handler_apis.h", "cJSON.h", "msgpack.h", "AnscBase64Decode.h", "PSM.h"], "external_methods": ["ccsp_string", "PSM_Get_Record_Value2", "PSM_Set_Record_Value2", "register_sub_docs", "LedMgr_validateSchema", "LedMgr_parseOnOffJson", "LedMgr_parseBrightnessJson", "LedMgr_updateTree", "CcspTraceError", "CcspTraceInfo", "cJSON_ParseWithLength", "cJSON_GetObjectItemCaseSensitive", "cJSON_Print", "cJSON_Delete", "cJSON_free", "AnscBase64Decode"], "published": ["led_full_json_cfg_exec_handler", "led_brightness_cfg_exec_handler", "led_on_off_cfg_exec_handler", "led_cfg_rollback_handler", "led_cfg_free_resources", "getLedMgrBlobVersion", "setLedMgrBlobVersion", "web_config_init"], "classes": [], "methods": [{"name": "size_t webconf_ssid_timeout_handler(size_t numOfEntries)", "description": "Calculates timeout value for executing the blob based on number of entries, with product-specific conditions.", "scope": "", "scopeKind": ""}, {"name": "int bytes_contain_zero(const msgpack_object_bin * bin)", "description": "Checks if a msgpack object bin contains any zero byte.", "scope": "", "scopeKind": ""}, {"name": "size_t msgpack_object_print_jsonstr(char * buffer,size_t length,const msgpack_object o)", "description": "Converts a msgpack object to a JSON string representation.", "scope": "", "scopeKind": ""}, {"name": "int led_on_off_config_set(const char * buf,size_t len,pErr execRetVal)", "description": "Parses msgpack data for on/off LED settings, converts to JSON, validates, and updates system configuration.", "scope": "", "scopeKind": ""}, {"name": "pErr led_on_off_cfg_exec_handler(void * data)", "description": "Executes on/off LED configuration update based on provided data.", "scope": "", "scopeKind": ""}, {"name": "int led_onOffBlobSet(void * data)", "description": "Decodes, unpacks, and processes a msgpack blob to set LED on/off configuration.", "scope": "", "scopeKind": ""}, {"name": "int led_brightness_config_set(const char * buf,size_t len,pErr execRetVal)", "description": "Parses msgpack data for brightness settings, validates, and updates configuration.", "scope": "", "scopeKind": ""}, {"name": "pErr led_brightness_cfg_exec_handler(void * data)", "description": "Executes brightness configuration update.", "scope": "", "scopeKind": ""}, {"name": "int led_brightnessBlobSet(void * data)", "description": "Decodes, unpacks, and processes a msgpack blob for brightness configuration.", "scope": "", "scopeKind": ""}, {"name": "int led_full_json_config_set(const char * buf,size_t len,pErr execRetVal)", "description": "Handles full JSON configuration, validates schema, backs up current config, and applies new configuration by editing config files.", "scope": "", "scopeKind": ""}, {"name": "pErr led_full_json_cfg_exec_handler(void * data)", "description": "Handles execution of full JSON config updating.", "scope": "", "scopeKind": ""}, {"name": "int led_fullJsonBlobSet(void * data)", "description": "Decodes and processes a blob for full JSON configuration, including file backup and update.", "scope": "", "scopeKind": ""}, {"name": "int led_cfg_rollback_handler()", "description": "Handles rollback of configuration to a previous stable state.", "scope": "", "scopeKind": ""}, {"name": "void led_cfg_free_resources(void * arg)", "description": "Frees memory resources allocated during configuration processing.", "scope": "", "scopeKind": ""}, {"name": "uint32_t getLedMgrBlobVersion(char * subdoc)", "description": "Retrieves the version of a specific blob subdocument from PSM database.", "scope": "", "scopeKind": ""}, {"name": "int setLedMgrBlobVersion(char * subdoc,uint32_t version)", "description": "Sets the version of a specific blob subdocument in PSM database.", "scope": "", "scopeKind": ""}, {"name": "int web_config_init()", "description": "Initializes registration of subdocuments for the LED web configuration system and sets up version get/set callbacks.", "scope": "", "scopeKind": ""}], "calls": ["ccsp_string", "PSM_Get_Record_Value2", "PSM_Set_Record_Value2", "register_sub_docs", "LedMgr_validateSchema", "LedMgr_parseOnOffJson", "LedMgr_parseBrightnessJson", "LedMgr_updateTree", "CcspTraceError", "CcspTraceInfo", "cJSON_ParseWithLength", "cJSON_GetObjectItemCaseSensitive", "cJSON_Print", "cJSON_Delete", "cJSON_free", "AnscBase64Decode"], "search-terms": ["msgpack", "LedManager", "webconfig", "full_json", "brightness", "on_off", "schema validation", "config backup", "blob processing", "subdoc versioning"], "state": 2, "file_id": 6579, "knowledge_revision": 19677, "git_revision": "", "ctags": [{"_type": "tag", "name": "MAX_JSON_BUFSIZE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/LedManager/ledmgr_webconfig.c", "pattern": "/^#define MAX_JSON_BUFSIZE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "bytes_contain_zero", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/LedManager/ledmgr_webconfig.c", "pattern": "/^static int bytes_contain_zero(const msgpack_object_bin *bin)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const msgpack_object_bin * bin)"}, {"_type": "tag", "name": "getLedMgrBlobVersion", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/LedManager/ledmgr_webconfig.c", "pattern": "/^uint32_t getLedMgrBlobVersion(char* subdoc)$/", "language": "C", "typeref": "typename:uint32_t", "kind": "function", "signature": "(char * subdoc)"}, {"_type": "tag", "name": "led_brightnessBlobSet", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/LedManager/ledmgr_webconfig.c", "pattern": "/^int led_brightnessBlobSet(void *data)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(void * data)"}, {"_type": "tag", "name": "led_brightness_cfg_exec_handler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/LedManager/ledmgr_webconfig.c", "pattern": "/^pErr led_brightness_cfg_exec_handler(void *data)$/", "language": "C", "typeref": "typename:pErr", "kind": "function", "signature": "(void * data)"}, {"_type": "tag", "name": "led_brightness_config_set", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/LedManager/ledmgr_webconfig.c", "pattern": "/^int led_brightness_config_set(const char *buf, size_t len, pErr execRetVal)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const char * buf,size_t len,pErr execRetVal)"}, {"_type": "tag", "name": "led_cfg_free_resources", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/LedManager/ledmgr_webconfig.c", "pattern": "/^void led_cfg_free_resources(void *arg)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void * arg)"}, {"_type": "tag", "name": "led_cfg_rollback_handler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/LedManager/ledmgr_webconfig.c", "pattern": "/^int led_cfg_rollback_handler()$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "led_fullJsonBlobSet", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/LedManager/ledmgr_webconfig.c", "pattern": "/^int led_fullJsonBlobSet(void *data)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(void * data)"}, {"_type": "tag", "name": "led_full_json_cfg_exec_handler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/LedManager/ledmgr_webconfig.c", "pattern": "/^pErr led_full_json_cfg_exec_handler(void *data)$/", "language": "C", "typeref": "typename:pErr", "kind": "function", "signature": "(void * data)"}, {"_type": "tag", "name": "led_full_json_config_set", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/LedManager/ledmgr_webconfig.c", "pattern": "/^int led_full_json_config_set(const char *buf, size_t len, pErr execRetVal)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const char * buf,size_t len,pErr execRetVal)"}, {"_type": "tag", "name": "led_onOffBlobSet", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/LedManager/ledmgr_webconfig.c", "pattern": "/^int led_onOffBlobSet(void *data)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(void * data)"}, {"_type": "tag", "name": "led_on_off_cfg_exec_handler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/LedManager/ledmgr_webconfig.c", "pattern": "/^pErr led_on_off_cfg_exec_handler(void *data)$/", "language": "C", "typeref": "typename:pErr", "kind": "function", "signature": "(void * data)"}, {"_type": "tag", "name": "led_on_off_config_set", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/LedManager/ledmgr_webconfig.c", "pattern": "/^int led_on_off_config_set(const char *buf, size_t len, pErr execRetVal)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const char * buf,size_t len,pErr execRetVal)"}, {"_type": "tag", "name": "msgpack_object_print_jsonstr", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/LedManager/ledmgr_webconfig.c", "pattern": "/^size_t msgpack_object_print_jsonstr(char *buffer, size_t length, const msgpack_object o)$/", "language": "C", "typeref": "typename:size_t", "kind": "function", "signature": "(char * buffer,size_t length,const msgpack_object o)"}, {"_type": "tag", "name": "setLedMgrBlobVersion", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/LedManager/ledmgr_webconfig.c", "pattern": "/^int setLedMgrBlobVersion(char* subdoc,uint32_t version)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(char * subdoc,uint32_t version)"}, {"_type": "tag", "name": "web_config_init", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/LedManager/ledmgr_webconfig.c", "pattern": "/^int web_config_init()$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "webconf_ssid_timeout_handler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkLedManager/source/LedManager/ledmgr_webconfig.c", "pattern": "/^size_t webconf_ssid_timeout_handler(size_t numOfEntries)$/", "language": "C", "typeref": "typename:size_t", "kind": "function", "signature": "(size_t numOfEntries)"}], "hash": "b7ac39676bd5e37c2791b0f7556e7aef", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/RdkLedManager/source/LedManager/ledmgr_webconfig.c", "revision_history": [{"19677": ""}]}