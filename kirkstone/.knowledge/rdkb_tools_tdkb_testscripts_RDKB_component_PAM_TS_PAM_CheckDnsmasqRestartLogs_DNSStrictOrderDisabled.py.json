{"is_source_file": true, "format": "Python", "description": "This is a test script used to validate the behavior of dnsmasq logs upon restarting the process when a specific RFC feature (DNS Strict Order) is disabled on a device. The script interacts with device parameters, manages process kill/restart, and checks log entries to verify correct logging behavior.", "external_files": ["tdk_platform_utility.sh"], "external_methods": ["pam_GetParameterValues", "pam_SetParameterValues", "ExecuteCmd", "checkProcess"], "published": ["getDNSStrict", "setDNSStrict", "getLogFileTotalLinesCount", "checkDnsmasqPID", "killDnsmasq_CheckLogs"], "classes": [], "methods": [{"name": "getDNSStrict(pamobj, step)", "description": "Retrieves the current value of the RFC feature 'DNSStrictOrder.Enable' from the device parameters.", "scope": "", "scopeKind": ""}, {"name": "setDNSStrict(pamobj, setValue, step)", "description": "Sets the RFC feature 'DNSStrictOrder.Enable' to a specified boolean value on the device.", "scope": "", "scopeKind": ""}, {"name": "getLogFileTotalLinesCount(obj, step)", "description": "Counts the number of occurrences of a specific log message in the Consolelog.txt.0 file.", "scope": "", "scopeKind": ""}, {"name": "checkDnsmasqPID(obj)", "description": "Checks whether dnsmasq process is running and retrieves its PID.", "scope": "", "scopeKind": ""}, {"name": "killDnsmasq_CheckLogs(obj, step)", "description": "Kills the dnsmasq process, waits for restart, then verifies the process has restarted and the log message count has incremented.", "scope": "", "scopeKind": ""}], "calls": ["pam_GetParameterValues", "pam_SetParameterValues", "ExecuteCmd", "checkProcess", "sleep"], "search-terms": ["TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderDisabled", "DNSStrictOrder", "Device.DeviceInfo.X_RDKCENTRAL-COM_RFC.Feature.DNSStrictOrder.Enable", "Consolelog.txt.0", "dnsmasq"], "state": 2, "file_id": 5220, "knowledge_revision": 18340, "git_revision": "", "ctags": [{"_type": "tag", "name": "actualresult", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderDisabled.py", "pattern": "/^                        actualresult,tdkTestObj = setDNSStrict(pamobj, setValue, step);$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "actualresult", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderDisabled.py", "pattern": "/^                actualresult,tdkTestObj,final_DNSStrict = getDNSStrict(pamobj, step);$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "actualresult", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderDisabled.py", "pattern": "/^            actualresult,tdkTestObj = setDNSStrict(pamobj, setValue, step);$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "actualresult", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderDisabled.py", "pattern": "/^    actualresult,tdkTestObj,initial_DNSStrict = getDNSStrict(pamobj, step);$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "checkDnsmasqPID", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderDisabled.py", "pattern": "/^def checkDnsmasqPID(obj):$/", "language": "Python", "kind": "function", "signature": "(obj)"}, {"_type": "tag", "name": "expectedresult", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderDisabled.py", "pattern": "/^    expectedresult=\"SUCCESS\";$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "final_DNSStrict", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderDisabled.py", "pattern": "/^                actualresult,tdkTestObj,final_DNSStrict = getDNSStrict(pamobj, step);$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "getDNSStrict", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderDisabled.py", "pattern": "/^def getDNSStrict(pamobj, step):$/", "language": "Python", "kind": "function", "signature": "(pamobj, step)"}, {"_type": "tag", "name": "getLogFileTotalLinesCount", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderDisabled.py", "pattern": "/^def getLogFileTotalLinesCount(obj, step):$/", "language": "Python", "kind": "function", "signature": "(obj, step)"}, {"_type": "tag", "name": "initial_DNSStrict", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderDisabled.py", "pattern": "/^    actualresult,tdkTestObj,initial_DNSStrict = getDNSStrict(pamobj, step);$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "ip", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderDisabled.py", "pattern": "/^ip = <ipaddress>$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "killDnsmasq_CheckLogs", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderDisabled.py", "pattern": "/^def killDnsmasq_CheckLogs(obj, step):$/", "language": "Python", "kind": "function", "signature": "(obj, step)"}, {"_type": "tag", "name": "loadmodulestatus", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderDisabled.py", "pattern": "/^loadmodulestatus =obj.getLoadModuleResult();$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "loadmodulestatus1", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderDisabled.py", "pattern": "/^loadmodulestatus1 =pamobj.getLoadModuleResult();$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "obj", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderDisabled.py", "pattern": "/^obj = tdklib.TDKScriptingLibrary(\"sysutil\",\"1\");$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "pamobj", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderDisabled.py", "pattern": "/^pamobj = tdklib.TDKScriptingLibrary(\"pam\",\"RDKB\");$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "port", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderDisabled.py", "pattern": "/^port = <port>$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "setDNSStrict", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderDisabled.py", "pattern": "/^def setDNSStrict(pamobj, setValue, step):$/", "language": "Python", "kind": "function", "signature": "(pamobj, setValue, step)"}, {"_type": "tag", "name": "setValue", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderDisabled.py", "pattern": "/^                        setValue = \"true\";$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "setValue", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderDisabled.py", "pattern": "/^            setValue = \"false\";$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "step", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderDisabled.py", "pattern": "/^                        step = killDnsmasq_CheckLogs(obj, step);$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "step", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderDisabled.py", "pattern": "/^                        step = step + 1;$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "step", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderDisabled.py", "pattern": "/^                step = step + 1;$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "step", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderDisabled.py", "pattern": "/^            step = killDnsmasq_CheckLogs(obj, step);$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "step", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderDisabled.py", "pattern": "/^            step = step + 1;$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "step", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderDisabled.py", "pattern": "/^    step = 1;$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "tdkTestObj", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderDisabled.py", "pattern": "/^                        actualresult,tdkTestObj = setDNSStrict(pamobj, setValue, step);$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "tdkTestObj", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderDisabled.py", "pattern": "/^                actualresult,tdkTestObj,final_DNSStrict = getDNSStrict(pamobj, step);$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "tdkTestObj", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderDisabled.py", "pattern": "/^            actualresult,tdkTestObj = setDNSStrict(pamobj, setValue, step);$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "tdkTestObj", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderDisabled.py", "pattern": "/^    actualresult,tdkTestObj,initial_DNSStrict = getDNSStrict(pamobj, step);$/", "language": "Python", "kind": "variable"}], "hash": "fc6b6dd2f524482ed68696ae0ee1bab7", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderDisabled.py", "fields": [{"name": "actualresult,tdkTestObj = setDNSStrict(pamobj, setValue, step);", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "actualresult,tdkTestObj,final_DNSStrict = getDNSStrict(pamobj, step);", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "actualresult,tdkTestObj,initial_DNSStrict = getDNSStrict(pamobj, step);", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "expectedresult=\"SUCCESS\";", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ip = <ipaddress>", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "loadmodulestatus =obj.getLoadModuleResult();", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "loadmodulestatus1 =pamobj.getLoadModuleResult();", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "obj = tdklib.TDKScriptingLibrary(\"sysutil\",\"1\");", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pamobj = tdklib.TDKScriptingLibrary(\"pam\",\"RDKB\");", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "port = <port>", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "setValue = \"true\";", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "setValue = \"false\";", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "step = killDnsmasq_CheckLogs(obj, step);", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "step = step + 1;", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "step = 1;", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"18340": ""}]}