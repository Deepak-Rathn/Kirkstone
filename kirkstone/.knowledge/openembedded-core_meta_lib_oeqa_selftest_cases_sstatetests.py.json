{"is_source_file": true, "format": "Python", "description": "This file contains self-test cases for verifying the sstate functionality in a Yocto-based build system, including tests for sstate creation, cleanup, rebuild, checksum consistency, and cache management.", "external_files": ["oeqa.utils.commands", "oeqa.selftest.cases.sstate", "oe"], "external_methods": ["runCmd", "bitbake", "get_bb_var", "create_temp_layer", "oe.path.copytree", "oe.write_config", "oe.write_bblayers_config"], "published": ["SStateBase", "runCmd", "bitbake", "get_bb_var", "create_temp_layer"], "classes": [{"name": "SStateTests", "description": "A collection of unit tests for sstate management in Yocto build system."}], "methods": [{"name": "test_autorev_sstate_works(self)", "description": "Tests handling of SRCREV with AUTOREV in recipes.", "scope": "SStateTests", "scopeKind": "class"}, {"name": "run_test_sstate_creation(self, targets, distro_specific=True, distro_nonspecific=True, temp_sstate_location=True, should_pass=True)", "description": "Helper method to verify sstate files creation based on targets and configuration.", "scope": "SStateTests", "scopeKind": "class"}, {"name": "test_sstate_creation_distro_specific_pass(self)", "description": "Test for successful creation of distro-specific sstate files.", "scope": "SStateTests", "scopeKind": "class"}, {"name": "test_sstate_creation_distro_specific_fail(self)", "description": "Test for failure when distro-specific sstate files are expected but not created.", "scope": "SStateTests", "scopeKind": "class"}, {"name": "test_sstate_creation_distro_nonspecific_pass(self)", "description": "Test for successful creation of non-specific sstate files.", "scope": "SStateTests", "scopeKind": "class"}, {"name": "test_sstate_creation_distro_nonspecific_fail(self)", "description": "Test for failure when non-specific sstate files are missing.", "scope": "SStateTests", "scopeKind": "class"}, {"name": "run_test_cleansstate_task(self, targets, distro_specific=True, distro_nonspecific=True, temp_sstate_location=True)", "description": "Helper method to verify sstate files are correctly cleaned and recreated.", "scope": "SStateTests", "scopeKind": "class"}, {"name": "test_cleansstate_task_distro_specific_nonspecific(self)", "description": "Test cleaning sstate files for both distro-specific and non-specific targets.", "scope": "SStateTests", "scopeKind": "class"}, {"name": "test_cleansstate_task_distro_nonspecific(self)", "description": "Test cleaning sstate files for non-specific targets.", "scope": "SStateTests", "scopeKind": "class"}, {"name": "test_cleansstate_task_distro_specific(self)", "description": "Test cleaning sstate files for distro-specific targets.", "scope": "SStateTests", "scopeKind": "class"}, {"name": "run_test_rebuild_distro_specific_sstate(self, targets, temp_sstate_location=True)", "description": "Test rebuilding and recreating distro-specific sstate files.", "scope": "SStateTests", "scopeKind": "class"}, {"name": "test_rebuild_distro_specific_sstate_cross_native_targets(self)", "description": "Test rebuilding sstate files for multiple targets including native ones.", "scope": "SStateTests", "scopeKind": "class"}, {"name": "test_rebuild_distro_specific_sstate_cross_target(self)", "description": "Test rebuilding sstate files for a specific cross target.", "scope": "SStateTests", "scopeKind": "class"}, {"name": "test_rebuild_distro_specific_sstate_native_target(self)", "description": "Test rebuilding sstate files for native target.", "scope": "SStateTests", "scopeKind": "class"}, {"name": "run_test_sstate_cache_management_script(self, target, global_config=[''], target_config=[''], ignore_patterns=[])", "description": "Test the sstate-cache-management script with various configurations.", "scope": "SStateTests", "scopeKind": "class"}, {"name": "test_sstate_cache_management_script_using_pr_1(self)", "description": "Test sstate cache management script with PR=0.", "scope": "SStateTests", "scopeKind": "class"}, {"name": "test_sstate_cache_management_script_using_pr_2(self)", "description": "Test sstate cache management script with multiple PR values.", "scope": "SStateTests", "scopeKind": "class"}, {"name": "test_sstate_cache_management_script_using_pr_3(self)", "description": "Test sstate cache management script with different MACHINE and PR settings.", "scope": "SStateTests", "scopeKind": "class"}, {"name": "test_sstate_cache_management_script_using_machine(self)", "description": "Test cache management with different MACHINE configurations.", "scope": "SStateTests", "scopeKind": "class"}, {"name": "test_sstate_32_64_same_hash(self)", "description": "Verify sstate checksums consistency between 32-bit and 64-bit systems when overriding uname variables.", "scope": "SStateTests", "scopeKind": "class"}, {"name": "test_sstate_nativelsbstring_same_hash(self)", "description": "Verify sstate checksums are independent of NATIVELSBSTRING variable.", "scope": "SStateTests", "scopeKind": "class"}, {"name": "test_sstate_allarch_samesigs(self)", "description": "Verify sstate checksums are the same across different MACHINE and allarch settings.", "scope": "SStateTests", "scopeKind": "class"}, {"name": "test_sstate_nativesdk_samesigs_multilib(self)", "description": "Check nativesdk stamps are consistent across different MACHINE configurations with multilib.", "scope": "SStateTests", "scopeKind": "class"}, {"name": "sstate_common_samesigs(self, configA, configB, allarch=False)", "description": "Shared method to verify sstate signatures consistency under different configurations.", "scope": "SStateTests", "scopeKind": "class"}, {"name": "test_sstate_sametune_samesigs(self)", "description": "Verify sstate checksums are consistent for machines with the same tune.", "scope": "SStateTests", "scopeKind": "class"}, {"name": "test_sstate_multilib_or_not_native_samesigs(self)", "description": "Check native recipes with or without multilib produce the same sstate checksums.", "scope": "SStateTests", "scopeKind": "class"}, {"name": "test_sstate_noop_samesigs(self)", "description": "Test that changing non-essential variables does not alter sstate checksums.", "scope": "SStateTests", "scopeKind": "class"}, {"name": "test_sstate_movelayer_samesigs(self)", "description": "Check sstate checksums remain the same when the core layer is moved to different locations.", "scope": "SStateTests", "scopeKind": "class"}, {"name": "compare_sigfiles(files, files1, files2, compare=False)", "scope": "SStateTests.test_sstate_noop_samesigs", "scopeKind": "member", "description": "unavailable"}, {"name": "get_files(d)", "scope": "SStateTests.test_sstate_sametune_samesigs", "scopeKind": "member", "description": "unavailable"}], "search-terms": ["sstate", "rebuild", "cache management", "checksum", "distro-specific", "non-specific", "PR", "multilib", "native", "configure.ac", "metadata", "Yocto", "bitbake", "stamps", "siggen", "sstate cache"], "state": 2, "file_id": 1901, "knowledge_revision": 26246, "git_revision": "", "ctags": [{"_type": "tag", "name": "SStateTests", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "pattern": "/^class SStateTests(SStateBase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "compare_sigfiles", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "pattern": "/^        def compare_sigfiles(files, files1, files2, compare=False):$/", "file": true, "language": "Python", "kind": "function", "signature": "(files, files1, files2, compare=False)", "scope": "SStateTests.test_sstate_noop_samesigs", "scopeKind": "member"}, {"_type": "tag", "name": "get_files", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "pattern": "/^        def get_files(d):$/", "file": true, "language": "Python", "kind": "function", "signature": "(d)", "scope": "SStateTests.sstate_common_samesigs", "scopeKind": "member"}, {"_type": "tag", "name": "get_files", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "pattern": "/^        def get_files(d):$/", "file": true, "language": "Python", "kind": "function", "signature": "(d)", "scope": "SStateTests.test_sstate_32_64_same_hash", "scopeKind": "member"}, {"_type": "tag", "name": "get_files", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "pattern": "/^        def get_files(d):$/", "file": true, "language": "Python", "kind": "function", "signature": "(d)", "scope": "SStateTests.test_sstate_movelayer_samesigs", "scopeKind": "member"}, {"_type": "tag", "name": "get_files", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "pattern": "/^        def get_files(d):$/", "file": true, "language": "Python", "kind": "function", "signature": "(d)", "scope": "SStateTests.test_sstate_multilib_or_not_native_samesigs", "scopeKind": "member"}, {"_type": "tag", "name": "get_files", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "pattern": "/^        def get_files(d):$/", "file": true, "language": "Python", "kind": "function", "signature": "(d)", "scope": "SStateTests.test_sstate_nativelsbstring_same_hash", "scopeKind": "member"}, {"_type": "tag", "name": "get_files", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "pattern": "/^        def get_files(d):$/", "file": true, "language": "Python", "kind": "function", "signature": "(d)", "scope": "SStateTests.test_sstate_noop_samesigs", "scopeKind": "member"}, {"_type": "tag", "name": "get_files", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "pattern": "/^        def get_files(d):$/", "file": true, "language": "Python", "kind": "function", "signature": "(d)", "scope": "SStateTests.test_sstate_sametune_samesigs", "scopeKind": "member"}, {"_type": "tag", "name": "run_test_cleansstate_task", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "pattern": "/^    def run_test_cleansstate_task(self, targets, distro_specific=True, distro_nonspecific=True, /", "language": "Python", "kind": "member", "signature": "(self, targets, distro_specific=True, distro_nonspecific=True, temp_sstate_location=True)", "scope": "SStateTests", "scopeKind": "class"}, {"_type": "tag", "name": "run_test_rebuild_distro_specific_sstate", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "pattern": "/^    def run_test_rebuild_distro_specific_sstate(self, targets, temp_sstate_location=True):$/", "language": "Python", "kind": "member", "signature": "(self, targets, temp_sstate_location=True)", "scope": "SStateTests", "scopeKind": "class"}, {"_type": "tag", "name": "run_test_sstate_cache_management_script", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "pattern": "/^    def run_test_sstate_cache_management_script(self, target, global_config=[''], target_config=/", "language": "Python", "kind": "member", "signature": "(self, target, global_config=[''], target_config=[''], ignore_patterns=[])", "scope": "SStateTests", "scopeKind": "class"}, {"_type": "tag", "name": "run_test_sstate_creation", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "pattern": "/^    def run_test_sstate_creation(self, targets, distro_specific=True, distro_nonspecific=True, t/", "language": "Python", "kind": "member", "signature": "(self, targets, distro_specific=True, distro_nonspecific=True, temp_sstate_location=True, should_pass=True)", "scope": "SStateTests", "scopeKind": "class"}, {"_type": "tag", "name": "sstate_common_samesigs", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "pattern": "/^    def sstate_common_samesigs(self, configA, configB, allarch=False):$/", "language": "Python", "kind": "member", "signature": "(self, configA, configB, allarch=False)", "scope": "SStateTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_autorev_sstate_works", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "pattern": "/^    def test_autorev_sstate_works(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "SStateTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_cleansstate_task_distro_nonspecific", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "pattern": "/^    def test_cleansstate_task_distro_nonspecific(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "SStateTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_cleansstate_task_distro_specific", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "pattern": "/^    def test_cleansstate_task_distro_specific(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "SStateTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_cleansstate_task_distro_specific_nonspecific", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "pattern": "/^    def test_cleansstate_task_distro_specific_nonspecific(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "SStateTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_rebuild_distro_specific_sstate_cross_native_targets", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "pattern": "/^    def test_rebuild_distro_specific_sstate_cross_native_targets(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "SStateTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_rebuild_distro_specific_sstate_cross_target", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "pattern": "/^    def test_rebuild_distro_specific_sstate_cross_target(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "SStateTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_rebuild_distro_specific_sstate_native_target", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "pattern": "/^    def test_rebuild_distro_specific_sstate_native_target(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "SStateTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_sstate_32_64_same_hash", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "pattern": "/^    def test_sstate_32_64_same_hash(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "SStateTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_sstate_allarch_samesigs", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "pattern": "/^    def test_sstate_allarch_samesigs(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "SStateTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_sstate_cache_management_script_using_machine", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "pattern": "/^    def test_sstate_cache_management_script_using_machine(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "SStateTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_sstate_cache_management_script_using_pr_1", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "pattern": "/^    def test_sstate_cache_management_script_using_pr_1(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "SStateTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_sstate_cache_management_script_using_pr_2", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "pattern": "/^    def test_sstate_cache_management_script_using_pr_2(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "SStateTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_sstate_cache_management_script_using_pr_3", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "pattern": "/^    def test_sstate_cache_management_script_using_pr_3(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "SStateTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_sstate_creation_distro_nonspecific_fail", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "pattern": "/^    def test_sstate_creation_distro_nonspecific_fail(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "SStateTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_sstate_creation_distro_nonspecific_pass", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "pattern": "/^    def test_sstate_creation_distro_nonspecific_pass(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "SStateTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_sstate_creation_distro_specific_fail", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "pattern": "/^    def test_sstate_creation_distro_specific_fail(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "SStateTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_sstate_creation_distro_specific_pass", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "pattern": "/^    def test_sstate_creation_distro_specific_pass(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "SStateTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_sstate_movelayer_samesigs", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "pattern": "/^    def test_sstate_movelayer_samesigs(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "SStateTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_sstate_multilib_or_not_native_samesigs", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "pattern": "/^    def test_sstate_multilib_or_not_native_samesigs(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "SStateTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_sstate_nativelsbstring_same_hash", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "pattern": "/^    def test_sstate_nativelsbstring_same_hash(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "SStateTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_sstate_nativesdk_samesigs_multilib", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "pattern": "/^    def test_sstate_nativesdk_samesigs_multilib(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "SStateTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_sstate_noop_samesigs", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "pattern": "/^    def test_sstate_noop_samesigs(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "SStateTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_sstate_sametune_samesigs", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "pattern": "/^    def test_sstate_sametune_samesigs(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "SStateTests", "scopeKind": "class"}], "hash": "140aed1d5e91000cd1c41b188563de5f", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "openembedded-core/meta/lib/oeqa/selftest/cases/sstatetests.py", "revision_history": [{"26246": ""}]}