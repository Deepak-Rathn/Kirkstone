{"is_source_file": true, "format": "C", "description": "This is the main source file for the RDKB Power Manager component, responsible for handling power state transitions via system events, executing external scripts for power management, and maintaining power state information.", "external_files": ["sysevent/sysevent.h", "syscfg/syscfg.h", "pwrMgr.h", "secure_wrapper.h", "breakpad_wrapper.h", "ccsp_trace.h", "mta_hal.h"], "external_methods": ["sysevent_set", "sysevent_open", "sysevent_getnotification", "sysevent_setnotification", "v_secure_system", "pthread_create", "pthread_setname_np", "pthread_join", "open", "close", "fork", "setsid", "dup2", "getpid", "sleep"], "published": ["PwrMgr_SetDefaults", "PwrMgr_SyseventSetStr", "PwrMgr_StateTranstion", "PwrMgr_Register_sysevent", "PwrMgr_Init"], "classes": [], "methods": [{"name": "void PwrMgr_SetDefaults()", "description": "Initializes the power state to default values based on current hardware status.", "scope": "", "scopeKind": ""}, {"name": "int PwrMgr_SyseventSetStr(const char * name,unsigned char * value,int bufsz)", "description": "Sets a system event string via sysevent.", "scope": "", "scopeKind": ""}, {"name": "int PwrMgr_StateTranstion(char * cState)", "description": "Handles transition between different power states and executes notification scripts.", "scope": "", "scopeKind": ""}, {"name": "bool PwrMgr_Register_sysevent()", "description": "Registers for system events with the sysevent daemon.", "scope": "", "scopeKind": ""}, {"name": "int PwrMgr_Init()", "description": "Initializes the power manager, registers system events, and starts the event handler thread.", "scope": "", "scopeKind": ""}, {"name": "void * PwrMgr_sysevent_handler(void * data)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool checkIfAlreadyRunning(const char * name)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void daemonize(void)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int main(int argc,char * argv[])", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["sysevent_set", "sysevent_open", "sysevent_getnotification", "v_secure_system", "pthread_create", "pthread_setname_np", "sleep", "v_secure_system"], "search-terms": ["PowerManager", "sysevent", "power state transition", "power management script", "PWRMGR_STATE", "Power Manger initialization", "power transition event", "rdkb_power_manager.sh"], "state": 2, "file_id": 6565, "knowledge_revision": 19669, "git_revision": "", "ctags": [{"_type": "tag", "name": "DATA_SIZE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/PowerManager/source/pwrMgr.c", "pattern": "/^#define DATA_SIZE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "DEBUG_INI_NAME", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/PowerManager/source/pwrMgr.c", "pattern": "/^#define DEBUG_INI_NAME /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "ERROR", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/PowerManager/source/pwrMgr.c", "pattern": "/^#define ERROR /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "INFO", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/PowerManager/source/pwrMgr.c", "pattern": "/^#define INFO /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "PWRMGRLOG", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/PowerManager/source/pwrMgr.c", "pattern": "/^#define PWRMGRLOG(/", "file": true, "language": "C", "kind": "macro", "signature": "(x,...)"}, {"_type": "tag", "name": "PwrMgr_Init", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/PowerManager/source/pwrMgr.c", "pattern": "/^static int PwrMgr_Init()$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "PwrMgr_Register_sysevent", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/PowerManager/source/pwrMgr.c", "pattern": "/^static bool PwrMgr_Register_sysevent()$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "PwrMgr_SetDefaults", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/PowerManager/source/pwrMgr.c", "pattern": "/^static void PwrMgr_SetDefaults()$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "PwrMgr_StateTranstion", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/PowerManager/source/pwrMgr.c", "pattern": "/^static int PwrMgr_StateTranstion(char *cState)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(char * cState)"}, {"_type": "tag", "name": "PwrMgr_SyseventSetStr", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/PowerManager/source/pwrMgr.c", "pattern": "/^int PwrMgr_SyseventSetStr(const char *name, unsigned char *value, int bufsz)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const char * name,unsigned char * value,int bufsz)"}, {"_type": "tag", "name": "PwrMgr_sysevent_handler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/PowerManager/source/pwrMgr.c", "pattern": "/^static void *PwrMgr_sysevent_handler(void *data)$/", "file": true, "language": "C", "typeref": "typename:void *", "kind": "function", "signature": "(void * data)"}, {"_type": "tag", "name": "THREAD_NAME_LEN", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/PowerManager/source/pwrMgr.c", "pattern": "/^#define THREAD_NAME_LEN /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "WARNING", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/PowerManager/source/pwrMgr.c", "pattern": "/^#define WARNING /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "_DEBUG", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/PowerManager/source/pwrMgr.c", "pattern": "/^#define _DEBUG /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "_GNU_SOURCE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/PowerManager/source/pwrMgr.c", "pattern": "/^#define _GNU_SOURCE$/", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "_RDKB_POWER_MGR_C_", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/PowerManager/source/pwrMgr.c", "pattern": "/^#define _RDKB_POWER_MGR_C_$/", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "checkIfAlreadyRunning", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/PowerManager/source/pwrMgr.c", "pattern": "/^static bool checkIfAlreadyRunning(const char* name)$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(const char * name)"}, {"_type": "tag", "name": "compName", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/PowerManager/source/pwrMgr.c", "pattern": "/^const char compName[25]=\"LOG.RDK.PWRMGR\";$/", "language": "C", "typeref": "typename:const char[25]", "kind": "variable"}, {"_type": "tag", "name": "daemonize", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/PowerManager/source/pwrMgr.c", "pattern": "/^static void daemonize(void) $/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "gCurPowerState", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/PowerManager/source/pwrMgr.c", "pattern": "/^static PWRMGR_PwrState gCurPowerState;$/", "file": true, "language": "C", "typeref": "typename:PWRMGR_PwrState", "kind": "variable"}, {"_type": "tag", "name": "main", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/PowerManager/source/pwrMgr.c", "pattern": "/^int main(int argc, char *argv[])$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(int argc,char * argv[])"}, {"_type": "tag", "name": "powerStateArr", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/PowerManager/source/pwrMgr.c", "pattern": "/^PWRMGR_PwrStateItem powerStateArr[] = { {PWRMGR_STATE_UNKNOWN, \"POWER_TRANS_UNKNOWN\", \"Unknown\"}/", "language": "C", "typeref": "typename:PWRMGR_PwrStateItem[]", "kind": "variable"}, {"_type": "tag", "name": "sysevent_fd", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/PowerManager/source/pwrMgr.c", "pattern": "/^static int sysevent_fd;$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "variable"}, {"_type": "tag", "name": "sysevent_fd_gs", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/PowerManager/source/pwrMgr.c", "pattern": "/^static int sysevent_fd_gs;$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "variable"}, {"_type": "tag", "name": "sysevent_tid", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/PowerManager/source/pwrMgr.c", "pattern": "/^static pthread_t sysevent_tid;$/", "file": true, "language": "C", "typeref": "typename:pthread_t", "kind": "variable"}, {"_type": "tag", "name": "sysevent_token", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/PowerManager/source/pwrMgr.c", "pattern": "/^static token_t sysevent_token;$/", "file": true, "language": "C", "typeref": "typename:token_t", "kind": "variable"}, {"_type": "tag", "name": "sysevent_token_gs", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/PowerManager/source/pwrMgr.c", "pattern": "/^static token_t sysevent_token_gs;$/", "file": true, "language": "C", "typeref": "typename:token_t", "kind": "variable"}], "hash": "5373e0cfe2a41c833fc4c6f14071bd1b", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/PowerManager/source/pwrMgr.c", "fields": [{"name": "const char[25] compName", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "PWRMGR_PwrState gCurPowerState", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "PWRMGR_PwrStateItem[] powerStateArr", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int sysevent_fd", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int sysevent_fd_gs", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pthread_t sysevent_tid", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "token_t sysevent_token", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "token_t sysevent_token_gs", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"19669": ""}]}