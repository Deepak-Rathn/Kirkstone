{"is_source_file": true, "format": "Python", "description": "This file defines a class `CachedPath` for caching and efficiently accessing filesystem metadata using os.stat, os.lstat, and related functions. It provides methods for path normalization, cache management, and symbolic link resolution, aimed at minimizing redundant system calls in filesystem operations.", "external_files": ["os", "errno", "stat"], "external_methods": ["os.stat", "os.lstat", "os.listdir", "os.readlink", "os.path.normpath", "os.path.join", "os.path.pardir", "os.path.isabs", "os.path.sep", "os.path.isdir", "os.path.basename"], "published": ["CachedPath"], "classes": [{"name": "CachedPath", "description": "A class that caches filesystem stat calls to avoid repeated, expensive system calls and provides methods for path normalization and symbolic link resolution."}], "methods": [{"name": "__init__(self)", "description": "Initializes cache dictionaries for stat, lstat, and normalized paths.", "scope": "CachedPath", "scopeKind": "class"}, {"name": "updatecache(self, x)", "description": "Invalidates the cache for a given path.", "scope": "CachedPath", "scopeKind": "class"}, {"name": "normpath(self, path)", "description": "Returns a normalized version of the path, utilizing cache.", "scope": "CachedPath", "scopeKind": "class"}, {"name": "_callstat(self, path)", "description": "Performs os.stat on a path and caches the result.", "scope": "CachedPath", "scopeKind": "class"}, {"name": "callstat(self, path)", "description": "Normalizes the path and performs a cached os.stat.", "scope": "CachedPath", "scopeKind": "class"}, {"name": "calllstat(self, path)", "description": "Performs os.lstat on a path and caches the result.", "scope": "CachedPath", "scopeKind": "class"}, {"name": "isfile(self, path)", "description": "Checks if a path is a regular file based on cached stat.", "scope": "CachedPath", "scopeKind": "class"}, {"name": "isdir(self, s)", "description": "Checks if a path is a directory based on cached stat.", "scope": "CachedPath", "scopeKind": "class"}, {"name": "islink(self, path)", "description": "Checks if a path is a symbolic link based on cached lstat.", "scope": "CachedPath", "scopeKind": "class"}, {"name": "exists(self, path)", "description": "Checks if a path exists (following stat cache).", "scope": "CachedPath", "scopeKind": "class"}, {"name": "lexists(self, path)", "description": "Checks if a path exists (considering symbolic links, including broken ones).", "scope": "CachedPath", "scopeKind": "class"}, {"name": "stat(self, path)", "description": "Returns cached stat object for a path.", "scope": "CachedPath", "scopeKind": "class"}, {"name": "lstat(self, path)", "description": "Returns cached lstat object for a path.", "scope": "CachedPath", "scopeKind": "class"}, {"name": "walk(self, top, topdown=True, onerror=None, followlinks=False)", "description": "Implements directory tree traversal similar to os.walk with options for following symlinks, using cached stats, handling errors.", "scope": "CachedPath", "scopeKind": "class"}, {"name": "__is_path_below(self, file, root)", "description": "Helper to check if a file path is below a root directory.", "scope": "CachedPath", "scopeKind": "class"}, {"name": "__realpath_rel(self, start, rel_path, root, loop_cnt, assume_dir)", "description": "Calculates real path of a symlink relative to a root, avoiding symlink cycles.", "scope": "CachedPath", "scopeKind": "class"}, {"name": "__realpath(self, file, root, loop_cnt, assume_dir)", "description": "Resolves a symlink to its real path considering the filesystem structure.", "scope": "CachedPath", "scopeKind": "class"}, {"name": "realpath(self, file, root, use_physdir = True, loop_cnt = 100, assume_dir = False)", "description": "Returns canonical absolute path of a file relative to a root, resolving symlinks based on options.", "scope": "CachedPath", "scopeKind": "class"}], "calls": ["os.stat", "os.lstat", "os.listdir", "os.readlink", "os.path.normpath", "os.path.join", "stat.S_ISLNK", "stat.S_ISREG", "stat.S_ISDIR", "os.path.isabs"], "search-terms": ["CachedPath", "path caching", "filesystem stat cache", "symlink resolution", "path normalization", "directory walk", "symbolic link handling", "path realignment", "filesystem metadata cache"], "state": 2, "file_id": 1816, "knowledge_revision": 14959, "git_revision": "", "ctags": [{"_type": "tag", "name": "CachedPath", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oe/cachedpath.py", "pattern": "/^class CachedPath(object):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oe/cachedpath.py", "pattern": "/^    def __init__(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "CachedPath", "scopeKind": "class"}, {"_type": "tag", "name": "__is_path_below", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oe/cachedpath.py", "pattern": "/^    def __is_path_below(self, file, root):$/", "file": true, "language": "Python", "kind": "member", "signature": "(self, file, root)", "scope": "CachedPath", "scopeKind": "class"}, {"_type": "tag", "name": "__realpath", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oe/cachedpath.py", "pattern": "/^    def __realpath(self, file, root, loop_cnt, assume_dir):$/", "file": true, "language": "Python", "kind": "member", "signature": "(self, file, root, loop_cnt, assume_dir)", "scope": "CachedPath", "scopeKind": "class"}, {"_type": "tag", "name": "__realpath_rel", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oe/cachedpath.py", "pattern": "/^    def __realpath_rel(self, start, rel_path, root, loop_cnt, assume_dir):$/", "file": true, "language": "Python", "kind": "member", "signature": "(self, start, rel_path, root, loop_cnt, assume_dir)", "scope": "CachedPath", "scopeKind": "class"}, {"_type": "tag", "name": "_callstat", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oe/cachedpath.py", "pattern": "/^    def _callstat(self, path):$/", "language": "Python", "kind": "member", "signature": "(self, path)", "scope": "CachedPath", "scopeKind": "class"}, {"_type": "tag", "name": "calllstat", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oe/cachedpath.py", "pattern": "/^    def calllstat(self, path):$/", "language": "Python", "kind": "member", "signature": "(self, path)", "scope": "CachedPath", "scopeKind": "class"}, {"_type": "tag", "name": "callstat", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oe/cachedpath.py", "pattern": "/^    def callstat(self, path):$/", "language": "Python", "kind": "member", "signature": "(self, path)", "scope": "CachedPath", "scopeKind": "class"}, {"_type": "tag", "name": "exists", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oe/cachedpath.py", "pattern": "/^    def exists(self, path):$/", "language": "Python", "kind": "member", "signature": "(self, path)", "scope": "CachedPath", "scopeKind": "class"}, {"_type": "tag", "name": "isdir", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oe/cachedpath.py", "pattern": "/^    def isdir(self, s):$/", "language": "Python", "kind": "member", "signature": "(self, s)", "scope": "CachedPath", "scopeKind": "class"}, {"_type": "tag", "name": "isfile", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oe/cachedpath.py", "pattern": "/^    def isfile(self, path):$/", "language": "Python", "kind": "member", "signature": "(self, path)", "scope": "CachedPath", "scopeKind": "class"}, {"_type": "tag", "name": "islink", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oe/cachedpath.py", "pattern": "/^    def islink(self, path):$/", "language": "Python", "kind": "member", "signature": "(self, path)", "scope": "CachedPath", "scopeKind": "class"}, {"_type": "tag", "name": "lexists", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oe/cachedpath.py", "pattern": "/^    def lexists(self, path):$/", "language": "Python", "kind": "member", "signature": "(self, path)", "scope": "CachedPath", "scopeKind": "class"}, {"_type": "tag", "name": "lstat", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oe/cachedpath.py", "pattern": "/^    def lstat(self, path):$/", "language": "Python", "kind": "member", "signature": "(self, path)", "scope": "CachedPath", "scopeKind": "class"}, {"_type": "tag", "name": "normpath", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oe/cachedpath.py", "pattern": "/^    def normpath(self, path):$/", "language": "Python", "kind": "member", "signature": "(self, path)", "scope": "CachedPath", "scopeKind": "class"}, {"_type": "tag", "name": "realpath", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oe/cachedpath.py", "pattern": "/^    def realpath(self, file, root, use_physdir = True, loop_cnt = 100, assume_dir = False):$/", "language": "Python", "kind": "member", "signature": "(self, file, root, use_physdir = True, loop_cnt = 100, assume_dir = False)", "scope": "CachedPath", "scopeKind": "class"}, {"_type": "tag", "name": "stat", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oe/cachedpath.py", "pattern": "/^    def stat(self, path):$/", "language": "Python", "kind": "member", "signature": "(self, path)", "scope": "CachedPath", "scopeKind": "class"}, {"_type": "tag", "name": "statmod", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oe/cachedpath.py", "pattern": "/^import stat as statmod$/", "language": "Python", "kind": "namespace", "nameref": "module:stat"}, {"_type": "tag", "name": "updatecache", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oe/cachedpath.py", "pattern": "/^    def updatecache(self, x):$/", "language": "Python", "kind": "member", "signature": "(self, x)", "scope": "CachedPath", "scopeKind": "class"}, {"_type": "tag", "name": "walk", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oe/cachedpath.py", "pattern": "/^    def walk(self, top, topdown=True, onerror=None, followlinks=False):$/", "language": "Python", "kind": "member", "signature": "(self, top, topdown=True, onerror=None, followlinks=False)", "scope": "CachedPath", "scopeKind": "class"}], "hash": "fbd8c02720e3a2409a6b4db6d137bceb", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "openembedded-core/meta/lib/oe/cachedpath.py", "revision_history": [{"14959": ""}]}