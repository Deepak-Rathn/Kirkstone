{"is_source_file": true, "format": "C", "description": "This source file implements a JSON-based in-memory device database with persistence for an IoT platform. It manages devices, endpoints, resources, and metadata, including their URIs and properties, and provides functions for CRUD operations, loading, saving, and querying based on various criteria. It also handles system properties and deals with storage interactions. The code emphasizes thread safety with mutex locks and includes detailed management of URI mappings and resource lifecycle.", "external_files": ["jsonDatabase.h", "<icConfig/storage.h>", "<icTypes/icStringHashMap.h>", "<cjson/cJSON.h>", "<icLog/logging.h>", "<device/icDeviceEndpoint.h>", "<device/icDeviceResource.h>", "<device/icDeviceMetadata.h>", "<regex.h>", "<icTime/timeUtils.h>"], "external_methods": ["storageLoad", "storageSave", "storageDelete", "storageRestoreNamespace", "storageGetKeys", "cJSON_Parse", "cJSON_Delete", "cJSON_Print", "stringHashMapCreate", "stringHashMapPutCopy", "stringHashMapDelete", "stringHashMapGet", "stringHashMapPut", "stringHashMapIteratorCreate", "stringHashMapIteratorHasNext", "stringHashMapIteratorGetNext", "stringHashMapIteratorDestroy", "hashMapCreate", "hashMapPut", "hashMapGet", "hashMapContains", "hashMapDelete", "hashMapDestroy", "linkedListCreate", "linkedListAppend", "linkedListDestroy", "linkedListIteratorCreate", "linkedListIteratorHasNext", "linkedListIteratorGetNext", "linkedListIteratorDestroy", "deviceFromJSON", "deviceToJSON", "deviceClone", "deviceDestroy", "endpointClone", "endpointDestroy", "resourceClone", "resourceDestroy", "metadataClone", "metadataDestroy", "serDesCreateContext", "serDesSetContextValue", "serDesCreateContext", "serDesDestroyContext", "getCurrentUnixTimeMillis", "storageRestoreNamespace"], "published": ["jsonDatabaseAddDevice", "jsonDatabaseGetDevices", "jsonDatabaseGetDeviceById", "jsonDatabaseRemoveDeviceById", "jsonDatabaseAddEndpoint", "jsonDatabaseGetEndpointsByProfile", "jsonDatabaseGetEndpointById", "jsonDatabaseGetEndpointByUri", "jsonDatabaseSaveEndpoint", "jsonDatabaseGetResourceByUri", "jsonDatabaseSaveResource", "jsonDatabaseUpdateDateOfLastSyncMillis", "jsonDatabaseGetMetadataByUri", "jsonDatabaseSaveMetadata", "jsonDatabaseGetDevicesByEndpointProfile", "jsonDatabaseGetDevicesByDeviceClass", "jsonDatabaseGetDevicesByDeviceDriver", "jsonDatabaseGetSystemProperty", "jsonDatabaseSetSystemProperty", "jsonDatabaseReload", "jsonDatabaseRestore", "jsonDatabaseCleanup"], "classes": [{"name": "DeviceCacheEntry", "description": "Structure to cache device information along with a 'dirty' flag indicating if it needs to be persisted."}, {"name": "Locator", "description": "Structure representing different types of URI mappings, including device, endpoint, resource, and metadata locators."}, {"name": "EndpointLocator", "description": "Contains a reference to a device cache entry and an endpoint, used in URI mapping."}, {"name": "ResourceLocator", "description": "Contains references to device cache, endpoint, and resource, used in URI mapping."}, {"name": "MetadataLocator", "description": "Contains references to device cache, endpoint, and metadata, used in URI mapping."}], "methods": [{"name": "DeviceCacheEntry * createCacheEntry(icDevice * device)", "description": "Creates a new cache entry for a device with an initialized dirty flag.", "scope": "", "scopeKind": ""}, {"name": "void destroyCacheEntry(DeviceCacheEntry * entry)", "description": "Destroys a cache entry, cleaning up associated URI entries and device.", "scope": "", "scopeKind": ""}, {"name": "stringHashMapToJson", "description": "Serializes a string hash map to a JSON object."}, {"name": "removeMetadataURIEntry", "description": "Removes URI mapping entries for specified device metadata."}, {"name": "removeDeviceResourceURIEntry", "description": "Removes URI mapping for specified device resource."}, {"name": "removeEndpointURIEntries", "description": "Removes all URI entries associated with a device endpoint."}, {"name": "removeDeviceURIEntries", "description": "Removes all URI entries associated with a device and its contained items."}, {"name": "bool addDeviceMetadataURIEntry(DeviceCacheEntry * deviceCacheEntry,icDeviceEndpoint * endpoint,icDeviceMetadata * deviceMetadata)", "description": "Adds URI entry for device metadata.", "scope": "", "scopeKind": ""}, {"name": "bool addDeviceResourceURIEntry(DeviceCacheEntry * deviceCacheEntry,icDeviceEndpoint * endpoint,icDeviceResource * deviceResource)", "description": "Adds URI entry for device resource.", "scope": "", "scopeKind": ""}, {"name": "bool addEndpointURIEntries(DeviceCacheEntry * deviceCacheEntry,icDeviceEndpoint * endpoint)", "description": "Adds URI entries for an endpoint and its resources/metadata.", "scope": "", "scopeKind": ""}, {"name": "bool addDeviceURIEntries(DeviceCacheEntry * deviceCacheEntry)", "description": "Adds URI entries for a device and its contained items atomically.", "scope": "", "scopeKind": ""}, {"name": "bool loadSystemProperties()", "description": "Loads system properties from persistent storage into memory.", "scope": "", "scopeKind": ""}, {"name": "bool loadDevice(const char * jsonData,void * notUsed)", "description": "Loads a device from JSON data into cache.", "scope": "", "scopeKind": ""}, {"name": "bool loadDeviceIntoCache(icDevice * newDevice)", "description": "Adds a device into cache and creates its URI mappings.", "scope": "", "scopeKind": ""}, {"name": "bool jsonDatabaseAddDevice(icDevice * device)", "description": "Adds a new device to the database and persists it.", "scope": "", "scopeKind": ""}, {"name": "icLinkedList * jsonDatabaseGetDevices()", "description": "Retrieves all devices from cache, returning a list copy.", "scope": "", "scopeKind": ""}, {"name": "icDevice * jsonDatabaseGetDeviceById(const char * uuid)", "description": "Retrieves a device by UUID.", "scope": "", "scopeKind": ""}, {"name": "bool jsonDatabaseRemoveDeviceById(const char * uuid)", "description": "Removes a device by UUID.", "scope": "", "scopeKind": ""}, {"name": "bool jsonDatabaseAddEndpoint(icDeviceEndpoint * endpoint)", "description": "Adds an endpoint to a device in the database.", "scope": "", "scopeKind": ""}, {"name": "icLinkedList * jsonDatabaseGetEndpointsByProfile(const char * profileId)", "description": "Retrieves endpoints matching a profile.", "scope": "", "scopeKind": ""}, {"name": "icDeviceEndpoint * jsonDatabaseGetEndpointById(const char * deviceUuid,const char * endpointId)", "description": "Retrieves an endpoint by device UUID and endpoint ID.", "scope": "", "scopeKind": ""}, {"name": "icDeviceEndpoint * jsonDatabaseGetEndpointByUri(const char * uri)", "description": "Retrieves endpoint by URI.", "scope": "", "scopeKind": ""}, {"name": "bool jsonDatabaseSaveEndpoint(icDeviceEndpoint * endpoint)", "description": "Updates an endpoint and saves to storage.", "scope": "", "scopeKind": ""}, {"name": "icDeviceResource * jsonDatabaseGetResourceByUri(const char * uri)", "description": "Retrieves a resource by URI.", "scope": "", "scopeKind": ""}, {"name": "bool jsonDatabaseSaveResource(icDeviceResource * resource)", "description": "Updates a resource and marks device as dirty.", "scope": "", "scopeKind": ""}, {"name": "bool jsonDatabaseUpdateDateOfLastSyncMillis(icDeviceResource * resource)", "description": "Updates resource's last sync timestamp lazily.", "scope": "", "scopeKind": ""}, {"name": "icDeviceMetadata * jsonDatabaseGetMetadataByUri(const char * uri)", "description": "Retrieves metadata by URI.", "scope": "", "scopeKind": ""}, {"name": "bool jsonDatabaseSaveMetadata(icDeviceMetadata * metadata)", "description": "Creates or updates metadata, affecting device cache and URI mappings.", "scope": "", "scopeKind": ""}, {"name": "icLinkedList * getItemsByUriRegex(const char * uriRegex,LocatorType locatorType)", "description": "Helper to retrieve list of items matching a regex and locator type.", "scope": "", "scopeKind": ""}, {"name": "void destroyLocator(void * key,void * value)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void freeDevicesItem(void * key,void * value)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void jsonDatabaseCleanup(bool persist)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void jsonDatabaseCleanupNoLock(bool persist)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "icDevice * jsonDatabaseGetDeviceByUri(const char * uri)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "icLinkedList * jsonDatabaseGetDevicesByDeviceClass(const char * deviceClass)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "icLinkedList * jsonDatabaseGetDevicesByDeviceDriver(const char * deviceDriverName)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "icLinkedList * jsonDatabaseGetDevicesByEndpointProfile(const char * profileId)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "icLinkedList * jsonDatabaseGetMetadataByUriRegex(const char * uriRegex)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "icLinkedList * jsonDatabaseGetResourcesByUriRegex(const char * uriRegex)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool jsonDatabaseGetSystemProperty(const char * key,char ** value)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool jsonDatabaseInitialize()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool jsonDatabaseInitializeNoLock()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool jsonDatabaseIsDeviceKnown(const char * uuid)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool jsonDatabaseReload()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool jsonDatabaseRestore(const char * tempRestoreDir,const char * dynamicConfigPath)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool jsonDatabaseSetSystemProperty(const char * key,const char * value)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool jsonDatabaseSetSystemPropertyNoLock(const char * key,const char * value)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool loadDevices()", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["hashMapPut", "hashMapGet", "hashMapContains", "hashMapDelete", "hashMapCreate", "stringHashMapCreate", "stringHashMapPutCopy", "stringHashMapDelete", "stringHashMapGet", "stringHashMapPut", "stringHashMapIteratorCreate", "stringHashMapIteratorHasNext", "stringHashMapIteratorGetNext", "stringHashMapIteratorDestroy", "linkedListCreate", "linkedListAppend", "linkedListDestroy", "linkedListIteratorCreate", "linkedListIteratorHasNext", "linkedListIteratorGetNext", "linkedListIteratorDestroy", "deviceFromJSON", "deviceToJSON", "deviceClone", "deviceDestroy", "endpointClone", "endpointDestroy", "resourceClone", "resourceDestroy", "metadataClone", "metadataDestroy", "serDesCreateContext", "serDesSetContextValue", "serDesCreateContext", "serDesDestroyContext", "getCurrentUnixTimeMillis", "storageLoad", "storageSave", "storageDelete", "storageRestoreNamespace", "storageGetKeys", "cJSON_Parse", "cJSON_Delete", "cJSON_Print", "regcomp", "regexec", "regfree"], "search-terms": ["jsonDatabase", "deviceCache", "URI mapping", "device management", "endpoint CRUD", "resource CRUD", "metadata handling", "persistent storage", "thread safety", "device UUID", "resource URIs", "system properties", "regex URI search"], "state": 2, "file_id": 973, "knowledge_revision": 26233, "git_revision": "", "ctags": [{"_type": "tag", "name": "DeviceCacheEntry", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^} DeviceCacheEntry;$/", "file": true, "language": "C", "typeref": "struct:__anonc252a5d50108", "kind": "typedef"}, {"_type": "tag", "name": "EndpointLocator", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^} EndpointLocator;$/", "file": true, "language": "C", "typeref": "struct:__anonc252a5d50308", "kind": "typedef"}, {"_type": "tag", "name": "LOCATOR_TYPE_DEVICE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^    LOCATOR_TYPE_DEVICE,$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anonc252a5d50203", "scopeKind": "enum"}, {"_type": "tag", "name": "LOCATOR_TYPE_ENDPOINT", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^    LOCATOR_TYPE_ENDPOINT,$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anonc252a5d50203", "scopeKind": "enum"}, {"_type": "tag", "name": "LOCATOR_TYPE_METADATA", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^    LOCATOR_TYPE_METADATA$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anonc252a5d50203", "scopeKind": "enum"}, {"_type": "tag", "name": "LOCATOR_TYPE_RESOURCE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^    LOCATOR_TYPE_RESOURCE,$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anonc252a5d50203", "scopeKind": "enum"}, {"_type": "tag", "name": "LOG_TAG", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^#define LOG_TAG /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "Locator", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^} Locator;$/", "file": true, "language": "C", "typeref": "struct:__anonc252a5d50608", "kind": "typedef"}, {"_type": "tag", "name": "LocatorType", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^} LocatorType;$/", "file": true, "language": "C", "typeref": "enum:__anonc252a5d50203", "kind": "typedef"}, {"_type": "tag", "name": "MetadataLocator", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^} MetadataLocator;$/", "file": true, "language": "C", "typeref": "struct:__anonc252a5d50508", "kind": "typedef"}, {"_type": "tag", "name": "ResourceLocator", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^} ResourceLocator;$/", "file": true, "language": "C", "typeref": "struct:__anonc252a5d50408", "kind": "typedef"}, {"_type": "tag", "name": "STORAGE_NAMESPACE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^#define STORAGE_NAMESPACE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "SYSTEM_PROPERTIES_KEY", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^#define SYSTEM_PROPERTIES_KEY /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "__anonc252a5d50108", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^{$/", "file": true, "language": "C", "kind": "struct"}, {"_type": "tag", "name": "__anonc252a5d50203", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^{$/", "file": true, "language": "C", "kind": "enum"}, {"_type": "tag", "name": "__anonc252a5d50308", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^{$/", "file": true, "language": "C", "kind": "struct"}, {"_type": "tag", "name": "__anonc252a5d50408", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^{$/", "file": true, "language": "C", "kind": "struct"}, {"_type": "tag", "name": "__anonc252a5d50508", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^{$/", "file": true, "language": "C", "kind": "struct"}, {"_type": "tag", "name": "__anonc252a5d50608", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^{$/", "file": true, "language": "C", "kind": "struct"}, {"_type": "tag", "name": "__anonc252a5d5070a", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^    union {$/", "file": true, "language": "C", "kind": "union", "scope": "__anonc252a5d50608", "scopeKind": "struct"}, {"_type": "tag", "name": "addDeviceMetadataURIEntry", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^static bool addDeviceMetadataURIEntry(DeviceCacheEntry *deviceCacheEntry, icDeviceEndpoint *endp/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(DeviceCacheEntry * deviceCacheEntry,icDeviceEndpoint * endpoint,icDeviceMetadata * deviceMetadata)"}, {"_type": "tag", "name": "addDeviceResourceURIEntry", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^static bool addDeviceResourceURIEntry(DeviceCacheEntry *deviceCacheEntry, icDeviceEndpoint *endp/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(DeviceCacheEntry * deviceCacheEntry,icDeviceEndpoint * endpoint,icDeviceResource * deviceResource)"}, {"_type": "tag", "name": "addDeviceURIEntries", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^static bool addDeviceURIEntries(DeviceCacheEntry *deviceCacheEntry)$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(DeviceCacheEntry * deviceCacheEntry)"}, {"_type": "tag", "name": "addEndpointURIEntries", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^static bool addEndpointURIEntries(DeviceCacheEntry *deviceCacheEntry, icDeviceEndpoint *endpoint/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(DeviceCacheEntry * deviceCacheEntry,icDeviceEndpoint * endpoint)"}, {"_type": "tag", "name": "createCacheEntry", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^static DeviceCacheEntry *createCacheEntry(icDevice *device)$/", "file": true, "language": "C", "typeref": "typename:DeviceCacheEntry *", "kind": "function", "signature": "(icDevice * device)"}, {"_type": "tag", "name": "destroyCacheEntry", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^static void destroyCacheEntry(DeviceCacheEntry *entry)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(DeviceCacheEntry * entry)"}, {"_type": "tag", "name": "destroyLocator", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^static void destroyLocator(void *key, void *value)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void * key,void * value)"}, {"_type": "tag", "name": "device", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^    icDevice *device;$/", "file": true, "language": "C", "typeref": "typename:icDevice *", "kind": "member", "scope": "__anonc252a5d50108", "scopeKind": "struct"}, {"_type": "tag", "name": "deviceCacheEntry", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^        DeviceCacheEntry *deviceCacheEntry;$/", "file": true, "language": "C", "typeref": "typename:DeviceCacheEntry *", "kind": "member", "scope": "__anonc252a5d50608::__anonc252a5d5070a", "scopeKind": "union"}, {"_type": "tag", "name": "deviceCacheEntry", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^    DeviceCacheEntry *deviceCacheEntry;$/", "file": true, "language": "C", "typeref": "typename:DeviceCacheEntry *", "kind": "member", "scope": "__anonc252a5d50308", "scopeKind": "struct"}, {"_type": "tag", "name": "deviceCacheEntry", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^    DeviceCacheEntry *deviceCacheEntry;$/", "file": true, "language": "C", "typeref": "typename:DeviceCacheEntry *", "kind": "member", "scope": "__anonc252a5d50408", "scopeKind": "struct"}, {"_type": "tag", "name": "deviceCacheEntry", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^    DeviceCacheEntry *deviceCacheEntry;$/", "file": true, "language": "C", "typeref": "typename:DeviceCacheEntry *", "kind": "member", "scope": "__anonc252a5d50508", "scopeKind": "struct"}, {"_type": "tag", "name": "devices", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^static icHashMap *devices = NULL;$/", "file": true, "language": "C", "typeref": "typename:icHashMap *", "kind": "variable"}, {"_type": "tag", "name": "dirty", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^    bool dirty;$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "member", "scope": "__anonc252a5d50108", "scopeKind": "struct"}, {"_type": "tag", "name": "endpoint", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^    icDeviceEndpoint *endpoint;$/", "file": true, "language": "C", "typeref": "typename:icDeviceEndpoint *", "kind": "member", "scope": "__anonc252a5d50308", "scopeKind": "struct"}, {"_type": "tag", "name": "endpoint", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^    icDeviceEndpoint *endpoint;$/", "file": true, "language": "C", "typeref": "typename:icDeviceEndpoint *", "kind": "member", "scope": "__anonc252a5d50408", "scopeKind": "struct"}, {"_type": "tag", "name": "endpoint", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^    icDeviceEndpoint *endpoint;$/", "file": true, "language": "C", "typeref": "typename:icDeviceEndpoint *", "kind": "member", "scope": "__anonc252a5d50508", "scopeKind": "struct"}, {"_type": "tag", "name": "endpointLocator", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^        EndpointLocator endpointLocator;$/", "file": true, "language": "C", "typeref": "typename:EndpointLocator", "kind": "member", "scope": "__anonc252a5d50608::__anonc252a5d5070a", "scopeKind": "union"}, {"_type": "tag", "name": "freeDevicesItem", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^static void freeDevicesItem(void *key, void *value)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void * key,void * value)"}, {"_type": "tag", "name": "getItemsByUriRegex", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^static icLinkedList *getItemsByUriRegex(const char *uriRegex, LocatorType locatorType)$/", "file": true, "language": "C", "typeref": "typename:icLinkedList *", "kind": "function", "signature": "(const char * uriRegex,LocatorType locatorType)"}, {"_type": "tag", "name": "jsonDatabaseAddDevice", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^bool jsonDatabaseAddDevice(icDevice *device)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(icDevice * device)"}, {"_type": "tag", "name": "jsonDatabaseAddEndpoint", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^bool jsonDatabaseAddEndpoint(icDeviceEndpoint *endpoint)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(icDeviceEndpoint * endpoint)"}, {"_type": "tag", "name": "jsonDatabaseCleanup", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^void jsonDatabaseCleanup(bool persist)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(bool persist)"}, {"_type": "tag", "name": "jsonDatabaseCleanupNoLock", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^static void jsonDatabaseCleanupNoLock(bool persist)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(bool persist)"}, {"_type": "tag", "name": "jsonDatabaseGetDeviceById", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^icDevice *jsonDatabaseGetDeviceById(const char *uuid)$/", "language": "C", "typeref": "typename:icDevice *", "kind": "function", "signature": "(const char * uuid)"}, {"_type": "tag", "name": "jsonDatabaseGetDeviceByUri", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^icDevice *jsonDatabaseGetDeviceByUri(const char *uri)$/", "language": "C", "typeref": "typename:icDevice *", "kind": "function", "signature": "(const char * uri)"}, {"_type": "tag", "name": "jsonDatabaseGetDevices", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^icLinkedList *jsonDatabaseGetDevices()$/", "language": "C", "typeref": "typename:icLinkedList *", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "jsonDatabaseGetDevicesByDeviceClass", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^icLinkedList *jsonDatabaseGetDevicesByDeviceClass(const char *deviceClass)$/", "language": "C", "typeref": "typename:icLinkedList *", "kind": "function", "signature": "(const char * deviceClass)"}, {"_type": "tag", "name": "jsonDatabaseGetDevicesByDeviceDriver", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^icLinkedList *jsonDatabaseGetDevicesByDeviceDriver(const char *deviceDriverName)$/", "language": "C", "typeref": "typename:icLinkedList *", "kind": "function", "signature": "(const char * deviceDriverName)"}, {"_type": "tag", "name": "jsonDatabaseGetDevicesByEndpointProfile", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^icLinkedList *jsonDatabaseGetDevicesByEndpointProfile(const char *profileId)$/", "language": "C", "typeref": "typename:icLinkedList *", "kind": "function", "signature": "(const char * profileId)"}, {"_type": "tag", "name": "jsonDatabaseGetEndpointById", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^icDeviceEndpoint *jsonDatabaseGetEndpointById(const char *deviceUuid, const char *endpointId)$/", "language": "C", "typeref": "typename:icDeviceEndpoint *", "kind": "function", "signature": "(const char * deviceUuid,const char * endpointId)"}, {"_type": "tag", "name": "jsonDatabaseGetEndpointByUri", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^icDeviceEndpoint *jsonDatabaseGetEndpointByUri(const char *uri)$/", "language": "C", "typeref": "typename:icDeviceEndpoint *", "kind": "function", "signature": "(const char * uri)"}, {"_type": "tag", "name": "jsonDatabaseGetEndpointsByProfile", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^icLinkedList *jsonDatabaseGetEndpointsByProfile(const char *profileId)$/", "language": "C", "typeref": "typename:icLinkedList *", "kind": "function", "signature": "(const char * profileId)"}, {"_type": "tag", "name": "jsonDatabaseGetMetadataByUri", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^icDeviceMetadata *jsonDatabaseGetMetadataByUri(const char *uri)$/", "language": "C", "typeref": "typename:icDeviceMetadata *", "kind": "function", "signature": "(const char * uri)"}, {"_type": "tag", "name": "jsonDatabaseGetMetadataByUriRegex", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^icLinkedList *jsonDatabaseGetMetadataByUriRegex(const char *uriRegex)$/", "language": "C", "typeref": "typename:icLinkedList *", "kind": "function", "signature": "(const char * uriRegex)"}, {"_type": "tag", "name": "jsonDatabaseGetResourceByUri", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^icDeviceResource *jsonDatabaseGetResourceByUri(const char *uri)$/", "language": "C", "typeref": "typename:icDeviceResource *", "kind": "function", "signature": "(const char * uri)"}, {"_type": "tag", "name": "jsonDatabaseGetResourcesByUriRegex", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^icLinkedList *jsonDatabaseGetResourcesByUriRegex(const char *uriRegex)$/", "language": "C", "typeref": "typename:icLinkedList *", "kind": "function", "signature": "(const char * uriRegex)"}, {"_type": "tag", "name": "jsonDatabaseGetSystemProperty", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^bool jsonDatabaseGetSystemProperty(const char *key, char **value)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(const char * key,char ** value)"}, {"_type": "tag", "name": "jsonDatabaseInitialize", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^bool jsonDatabaseInitialize()$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "jsonDatabaseInitializeNoLock", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^static bool jsonDatabaseInitializeNoLock()$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "jsonDatabaseIsDeviceKnown", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^bool jsonDatabaseIsDeviceKnown(const char *uuid)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(const char * uuid)"}, {"_type": "tag", "name": "jsonDatabaseReload", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^bool jsonDatabaseReload()$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "jsonDatabaseRemoveDeviceById", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^bool jsonDatabaseRemoveDeviceById(const char *uuid)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(const char * uuid)"}, {"_type": "tag", "name": "jsonDatabaseRestore", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^bool jsonDatabaseRestore(const char* tempRestoreDir, const char *dynamicConfigPath)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(const char * tempRestoreDir,const char * dynamicConfigPath)"}, {"_type": "tag", "name": "jsonDatabaseSaveEndpoint", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^bool jsonDatabaseSaveEndpoint(icDeviceEndpoint *endpoint)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(icDeviceEndpoint * endpoint)"}, {"_type": "tag", "name": "jsonDatabaseSaveMetadata", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^bool jsonDatabaseSaveMetadata(icDeviceMetadata *metadata)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(icDeviceMetadata * metadata)"}, {"_type": "tag", "name": "jsonDatabaseSaveResource", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^bool jsonDatabaseSaveResource(icDeviceResource *resource)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(icDeviceResource * resource)"}, {"_type": "tag", "name": "jsonDatabaseSetSystemProperty", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^bool jsonDatabaseSetSystemProperty(const char *key, const char *value)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(const char * key,const char * value)"}, {"_type": "tag", "name": "jsonDatabaseSetSystemPropertyNoLock", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^static bool jsonDatabaseSetSystemPropertyNoLock(const char *key, const char *value)$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(const char * key,const char * value)"}, {"_type": "tag", "name": "jsonDatabaseUpdateDateOfLastSyncMillis", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^bool jsonDatabaseUpdateDateOfLastSyncMillis(icDeviceResource *resource)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(icDeviceResource * resource)"}, {"_type": "tag", "name": "loadDevice", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^static bool loadDevice(const char *jsonData, void *notUsed)$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(const char * jsonData,void * notUsed)"}, {"_type": "tag", "name": "loadDeviceCallback", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^static const StorageCallbacks loadDeviceCallback = {$/", "file": true, "language": "C", "typeref": "typename:const StorageCallbacks", "kind": "variable"}, {"_type": "tag", "name": "loadDeviceIntoCache", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^static bool loadDeviceIntoCache(icDevice *newDevice)$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(icDevice * newDevice)"}, {"_type": "tag", "name": "loadDevices", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^static bool loadDevices()$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "loadSystemProperties", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^static bool loadSystemProperties()$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "locator", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^    } locator;$/", "file": true, "language": "C", "typeref": "union:__anonc252a5d50608::__anonc252a5d5070a", "kind": "member", "scope": "__anonc252a5d50608", "scopeKind": "struct"}, {"_type": "tag", "name": "locatorType", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^    LocatorType locatorType;$/", "file": true, "language": "C", "typeref": "typename:LocatorType", "kind": "member", "scope": "__anonc252a5d50608", "scopeKind": "struct"}, {"_type": "tag", "name": "metadata", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^    icDeviceMetadata *metadata;$/", "file": true, "language": "C", "typeref": "typename:icDeviceMetadata *", "kind": "member", "scope": "__anonc252a5d50508", "scopeKind": "struct"}, {"_type": "tag", "name": "mtx", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "pattern": "/^static pthread_mutex_t mtx = PTHREAD_MUTEX_INITIALIZER;$/", "file": true, "language": "C", "typeref": "typename:pthread_mutex_t", "kind": "variable"}], "hash": "f982835ff869261bd19760b9a12f5184", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "components/opensource/zilker-sdk/source/services/device/core/src/database/jsonDatabase.c", "fields": [{"name": "icDevice * device", "scope": "__anonc252a5d50108", "scopeKind": "struct", "description": "unavailable"}, {"name": "DeviceCacheEntry * deviceCacheEntry", "scope": "__anonc252a5d50608::__anonc252a5d5070a", "scopeKind": "union", "description": "unavailable"}, {"name": "icHashMap * devices", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool dirty", "scope": "__anonc252a5d50108", "scopeKind": "struct", "description": "unavailable"}, {"name": "icDeviceEndpoint * endpoint", "scope": "__anonc252a5d50308", "scopeKind": "struct", "description": "unavailable"}, {"name": "EndpointLocator endpointLocator", "scope": "__anonc252a5d50608::__anonc252a5d5070a", "scopeKind": "union", "description": "unavailable"}, {"name": "const StorageCallbacks loadDeviceCallback", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "union:__anonc252a5d50608::__anonc252a5d5070a locator", "scope": "__anonc252a5d50608", "scopeKind": "struct", "description": "unavailable"}, {"name": "LocatorType locatorType", "scope": "__anonc252a5d50608", "scopeKind": "struct", "description": "unavailable"}, {"name": "icDeviceMetadata * metadata", "scope": "__anonc252a5d50508", "scopeKind": "struct", "description": "unavailable"}, {"name": "pthread_mutex_t mtx", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"26233": ""}]}