{"is_source_file": true, "format": "C", "description": "This file is a C source code for a DHCP server management component, including functions for starting, stopping, and reconfiguring dnsmasq-based DHCP server, handling configurations, and integrating with system events and external commands.", "external_files": ["sysevent/sysevent.h", "syscfg/syscfg.h", "dhcp_server_functions.h", "print_uptime.h", "util.h", "service_dhcp_server.h", "safec_lib_common.h", "secure_wrapper.h", "lan_handler.h"], "external_methods": ["copy_command_output", "print_with_uptime", "compare_files", "wait_till_end_state", "copy_file", "remove_file", "print_file", "get_device_props", "executeCmd", "sysevent_get", "sysevent_set", "sysevent_rmcallback", "v_secure_pclose", "v_secure_popen", "v_secure_system", "syscfg_get"], "published": ["dnsmasq_server_start", "dhcp_server_stop", "dhcp_server_start", "service_dhcp_init", "lan_status_change", "resync_to_nonvol"], "classes": [], "methods": [{"name": "int dnsmasq_server_start()", "description": "Starts the dnsmasq DHCP server with appropriate configuration options based on system settings and features like XDNS.", "scope": "", "scopeKind": ""}, {"name": "void dhcp_server_stop()", "description": "Stops the running DHCP server, cleans up process and configuration state, then restarts dnsmasq if needed.", "scope": "", "scopeKind": ""}, {"name": "int dhcp_server_start(char * input)", "description": "Starts the DHCP server, applies configurations, and handles reinitialization or restart logic.", "scope": "", "scopeKind": ""}, {"name": "int service_dhcp_init()", "description": "Initializes DHCP server parameters, configurations, and system settings.", "scope": "", "scopeKind": ""}, {"name": "void lan_status_change(char * input)", "description": "Handles changes in LAN status to start or stop DHCP service accordingly.", "scope": "", "scopeKind": ""}, {"name": "void resync_to_nonvol(char * RemPools)", "description": "Resynchronizes DHCP pool configurations with system state, potentially after external changes.", "scope": "", "scopeKind": ""}, {"name": "unsigned int Get_Device_Mode()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "BOOL IsDhcpConfHasInterface(void)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void _get_shell_output(FILE * fp,char * buf,int len)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void getRFC_Value(const char * dnsOption)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int getValueFromDevicePropsFile(char * str,char ** value)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int get_PSM_VALUES_FOR_POOL(char * cmd,char * arr)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int get_Pool_cnt(char arr[15][2],FILE * pipe)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int syslog_restart_request()", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["executeCmd", "syscfg_get", "sysevent_get", "sysevent_set", "compare_files", "remove_file", "print_file", "copy_file", "wait_till_end_state", "v_secure_system", "v_secure_pclose", "v_secure_popen"], "search-terms": ["dnsmasq", "dhcp_server", "syscfg", "sysevent", "XDNS_RefacCodeEnable", "dnsmasq.conf", "dhcp_server_propagate_wan_nameserver", "dhcp_slow_start", "lan_handler", "service_dhcp_server"], "state": 2, "file_id": 7470, "knowledge_revision": 20543, "git_revision": "", "ctags": [{"_type": "tag", "name": "BIN", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/service_dhcp/service_dhcp_server.c", "pattern": "/^#define BIN\t/", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "BOOL", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/service_dhcp/service_dhcp_server.c", "pattern": "/^#define BOOL /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "DEVICE_PROPERTIES", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/service_dhcp/service_dhcp_server.c", "pattern": "/^#define DEVICE_PROPERTIES /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "DHCP_CONF", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/service_dhcp/service_dhcp_server.c", "pattern": "/^#define DHCP_CONF /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "DHCP_SLOW_START_1_FILE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/service_dhcp/service_dhcp_server.c", "pattern": "/^#define DHCP_SLOW_START_1_FILE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "DHCP_SLOW_START_2_FILE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/service_dhcp/service_dhcp_server.c", "pattern": "/^#define DHCP_SLOW_START_2_FILE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "DHCP_SLOW_START_3_FILE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/service_dhcp/service_dhcp_server.c", "pattern": "/^#define DHCP_SLOW_START_3_FILE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "DHCP_TMP_CONF", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/service_dhcp/service_dhcp_server.c", "pattern": "/^#define DHCP_TMP_CONF /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "ERROR", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/service_dhcp/service_dhcp_server.c", "pattern": "/^#define ERROR /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "FALSE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/service_dhcp/service_dhcp_server.c", "pattern": "/^#define FALSE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "Get_Device_Mode", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/service_dhcp/service_dhcp_server.c", "pattern": "/^unsigned int Get_Device_Mode()$/", "language": "C", "typeref": "typename:unsigned int", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "IsDhcpConfHasInterface", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/service_dhcp/service_dhcp_server.c", "pattern": "/^BOOL IsDhcpConfHasInterface(void)$/", "language": "C", "typeref": "typename:BOOL", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "PID_FILE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/service_dhcp/service_dhcp_server.c", "pattern": "/^#define PID_FILE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "PMON", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/service_dhcp/service_dhcp_server.c", "pattern": "/^#define PMON /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "RESOLV_CONF", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/service_dhcp/service_dhcp_server.c", "pattern": "/^#define RESOLV_CONF /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "RPC_CLIENT", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/service_dhcp/service_dhcp_server.c", "pattern": "/^#define RPC_CLIENT\t/", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "SERVER", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/service_dhcp/service_dhcp_server.c", "pattern": "/^#define SERVER /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "SUCCESS", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/service_dhcp/service_dhcp_server.c", "pattern": "/^#define SUCCESS /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "THIS", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/service_dhcp/service_dhcp_server.c", "pattern": "/^#define THIS /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "TRUE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/service_dhcp/service_dhcp_server.c", "pattern": "/^#define TRUE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "XHS_IF_NAME", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/service_dhcp/service_dhcp_server.c", "pattern": "/^#define XHS_IF_NAME /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "_get_shell_output", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/service_dhcp/service_dhcp_server.c", "pattern": "/^void _get_shell_output(FILE *fp, char *buf, int len)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(FILE * fp,char * buf,int len)"}, {"_type": "tag", "name": "dhcp_server_start", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/service_dhcp/service_dhcp_server.c", "pattern": "/^int dhcp_server_start (char *input)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(char * input)"}, {"_type": "tag", "name": "dhcp_server_stop", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/service_dhcp/service_dhcp_server.c", "pattern": "/^void dhcp_server_stop()$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "dnsOption", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/service_dhcp/service_dhcp_server.c", "pattern": "/^static char dnsOption[8] = \"\";$/", "file": true, "language": "C", "typeref": "typename:char[8]", "kind": "variable"}, {"_type": "tag", "name": "dnsmasq_server_start", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/service_dhcp/service_dhcp_server.c", "pattern": "/^int dnsmasq_server_start()$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getRFC_Value", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/service_dhcp/service_dhcp_server.c", "pattern": "/^void getRFC_Value(const char* dnsOption)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(const char * dnsOption)"}, {"_type": "tag", "name": "getValueFromDevicePropsFile", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/service_dhcp/service_dhcp_server.c", "pattern": "/^static int getValueFromDevicePropsFile(char *str, char **value)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(char * str,char ** value)"}, {"_type": "tag", "name": "get_PSM_VALUES_FOR_POOL", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/service_dhcp/service_dhcp_server.c", "pattern": "/^int get_PSM_VALUES_FOR_POOL(char *cmd,char *arr)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(char * cmd,char * arr)"}, {"_type": "tag", "name": "get_Pool_cnt", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/service_dhcp/service_dhcp_server.c", "pattern": "/^int get_Pool_cnt(char arr[15][2],FILE *pipe)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(char arr[15][2],FILE * pipe)"}, {"_type": "tag", "name": "lan_status_change", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/service_dhcp/service_dhcp_server.c", "pattern": "/^void lan_status_change(char *input)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(char * input)"}, {"_type": "tag", "name": "resync_to_nonvol", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/service_dhcp/service_dhcp_server.c", "pattern": "/^void resync_to_nonvol(char *RemPools)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(char * RemPools)"}, {"_type": "tag", "name": "service_dhcp_init", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/service_dhcp/service_dhcp_server.c", "pattern": "/^int service_dhcp_init()$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "syslog_restart_request", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/service_dhcp/service_dhcp_server.c", "pattern": "/^int syslog_restart_request()$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "()"}], "hash": "909efa445ae0d0efd0e3101553db68e6", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/Utopia/source/service_dhcp/service_dhcp_server.c", "fields": [{"name": "char[8] dnsOption", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"20543": ""}]}