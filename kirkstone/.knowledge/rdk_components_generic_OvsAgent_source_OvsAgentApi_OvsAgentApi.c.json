{"is_source_file": true, "format": "C", "description": "This file contains implementation of the OvsAgentApi module in C language, including functions for initializing, deinitializing, handling transactions, monitoring, and managing OVS database interactions related to network configuration. It defines context structures, callback handlers, and utility functions for the OvsAgentApi component.", "external_files": ["OvsAgentApi.h", "OvsAgentDefs.h", "common/OvsAgentLog.h", "OvsDbApi/OvsDbApi.h", "OvsAgentApi/transaction_interface.h"], "external_methods": ["ovsdb_delete", "ovsdb_monitor", "ovsdb_monitor_cancel", "ovsdb_write", "ovsdb_init", "ovsdb_deinit", "close_log", "open_log", "set_log_level", "init_transaction_manager", "deinit_transaction_manager", "complete_transaction", "update_transaction", "delete_transaction", "id_generate", "ovsAgentApiError", "OvsAgentApiInfo", "OvsAgentApiDebug", "OvsAgentApiWarning"], "published": ["ovs_agent_api_init", "ovs_agent_api_deinit", "ovs_agent_api_get_config", "ovs_agent_api_interact", "print_gateway_config", "print_feedback_config", "print_rdkb_table_config"], "classes": [{"name": "ovs_agent_api_context", "description": "Context structure used for managing API calls, synchronization, and state information within the OvsAgentApi module."}], "methods": [{"name": "void signal_callback_completion()", "description": "Signals the condition variable to unblock waiting threads.", "scope": "", "scopeKind": ""}, {"name": "bool delete_table_entries(char * req_uuid)", "description": "Deletes entries from Gateway_Config and Feedback tables based on a UUID.", "scope": "", "scopeKind": ""}, {"name": "OVS_STATUS wait_for_callback_completion(char * rid,int timeoutSecs)", "description": "Waits for callback completion or timeout for a specific request ID.", "scope": "", "scopeKind": ""}, {"name": "void ovs_agent_api_monitor_feedback_callback(OVS_STATUS status,Rdkb_Table_Config * table_config)", "description": "Callback invoked upon receiving monitor feedback updates from the OVS database.", "scope": "", "scopeKind": ""}, {"name": "bool send_monitor_feedback_request()", "description": "Initiates OVS DB monitor request for Feedback table.", "scope": "", "scopeKind": ""}, {"name": "bool send_monitor_feedback_cancel_request()", "description": "Cancels ongoing monitor request for Feedback table.", "scope": "", "scopeKind": ""}, {"name": "void ovs_agent_api_write_callback(const char * rid,const OvsDb_Base_Receipt * receipt_result)", "description": "Handler called upon completion of a write operation to the OVS database.", "scope": "", "scopeKind": ""}, {"name": "const char * component_id_enum_to_string(OVS_COMPONENT_ID cid)", "description": "Converts component ID enum to its string representation.", "scope": "", "scopeKind": ""}, {"name": "bool ovs_agent_api_init(OVS_COMPONENT_ID cid)", "description": "Initializes the OvsAgentApi, setting up logging, database connection, threading primitives, and transaction manager.", "scope": "", "scopeKind": ""}, {"name": "bool ovs_agent_api_deinit(void)", "description": "Deinitializes the OvsAgentApi, cleaning up resources and closing database connection.", "scope": "", "scopeKind": ""}, {"name": "void print_gateway_config(Gateway_Config * config)", "description": "Prints details of a Gateway_Config structure for debugging.", "scope": "", "scopeKind": ""}, {"name": "void print_feedback_config(Feedback * config)", "description": "Prints details of a Feedback structure for debugging.", "scope": "", "scopeKind": ""}, {"name": "void print_rdkb_table_config(Rdkb_Table_Config * table_config)", "description": "Prints details of a Rdkb_Table_Config structure for debugging.", "scope": "", "scopeKind": ""}, {"name": "bool handle_transact_insert_request(ovs_interact_request * request,ovs_interact_cb callback)", "description": "Handles a transaction insert request by creating and submitting a transaction to the OVS database.", "scope": "", "scopeKind": ""}, {"name": "bool handle_monitor_insert_request(ovs_interact_request * request,ovs_interact_cb callback)", "description": "Handles a monitor insert request by setting up a monitor on an OVS table.", "scope": "", "scopeKind": ""}, {"name": "bool ovs_agent_api_interact(ovs_interact_request * request,ovs_interact_cb callback)", "description": "Main API entry point for transactional and monitor interactions with the OVS database.", "scope": "", "scopeKind": ""}, {"name": "bool initialize_gateway_config(Gateway_Config * config)", "description": "Initializes a Gateway_Config structure with default parameters.", "scope": "", "scopeKind": ""}, {"name": "bool ovs_agent_api_get_config(OVS_TABLE table,void ** ppConfig)", "description": "Provides configuration structures for specified tables.", "scope": "", "scopeKind": ""}], "calls": ["ovsdb_delete", "ovsdb_monitor", "ovsdb_monitor_cancel", "ovsdb_write", "ovsdb_init", "ovsdb_deinit", "clock_gettime", "pthread_cond_signal", "pthread_cond_timedwait", "pthread_mutex_lock", "pthread_mutex_unlock", "pthread_mutex_init", "pthread_mutex_destroy", "pthread_cond_init", "pthread_cond_destroy", "access", "set_log_level", "init_transaction_manager", "deinit_transaction_manager", "complete_transaction", "update_transaction", "delete_transaction", "id_generate", "close_log", "open_log", "print_rdkb_table_config"], "search-terms": ["OvsAgentApi", "ovsdb_monitor", "transaction_interface", "Feedback", "Gateway_Config", "ovs_agent_api_interact", "OvsAgentApiError", "ovs_agent_api_init", "ovs_agent_api_deinit", "OvsDbApi", "ovsdb_write"], "state": 2, "file_id": 12670, "knowledge_revision": 25574, "git_revision": "", "ctags": [{"_type": "tag", "name": "MAX_RID_LEN", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAgentApi/OvsAgentApi.c", "pattern": "/^#define MAX_RID_LEN /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "OVS_BLOCK_MODE_TIMEOUT_SECS", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAgentApi/OvsAgentApi.c", "pattern": "/^#define OVS_BLOCK_MODE_TIMEOUT_SECS /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "OVS_STARTING_ID_MULTIPLIER", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAgentApi/OvsAgentApi.c", "pattern": "/^#define OVS_STARTING_ID_MULTIPLIER /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "blocked", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAgentApi/OvsAgentApi.c", "pattern": "/^    bool            blocked; \\/\\/ true if in a blocked state$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "member", "scope": "ovs_agent_api_context", "scopeKind": "struct"}, {"_type": "tag", "name": "cid", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAgentApi/OvsAgentApi.c", "pattern": "/^    OVS_COMPONENT_ID cid; \\/\\/ Component ID enum.$/", "file": true, "language": "C", "typeref": "typename:OVS_COMPONENT_ID", "kind": "member", "scope": "ovs_agent_api_context", "scopeKind": "struct"}, {"_type": "tag", "name": "component_id_enum_to_string", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAgentApi/OvsAgentApi.c", "pattern": "/^static const char * component_id_enum_to_string(OVS_COMPONENT_ID cid)$/", "file": true, "language": "C", "typeref": "typename:const char *", "kind": "function", "signature": "(OVS_COMPONENT_ID cid)"}, {"_type": "tag", "name": "condition", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAgentApi/OvsAgentApi.c", "pattern": "/^    pthread_cond_t  condition;$/", "file": true, "language": "C", "typeref": "typename:pthread_cond_t", "kind": "member", "scope": "ovs_agent_api_context", "scopeKind": "struct"}, {"_type": "tag", "name": "delete_table_entries", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAgentApi/OvsAgentApi.c", "pattern": "/^static bool delete_table_entries(char * req_uuid)$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(char * req_uuid)"}, {"_type": "tag", "name": "g_cids", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAgentApi/OvsAgentApi.c", "pattern": "/^static const char* const g_cids[] = {\"Unknown\", \"TestApp\", \"OvsAgent\", \"BridgeUtils\", \"MeshAgent/", "file": true, "language": "C", "typeref": "typename:const char * const[]", "kind": "variable"}, {"_type": "tag", "name": "g_handle", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAgentApi/OvsAgentApi.c", "pattern": "/^static ovs_agent_api_context * g_handle = NULL;$/", "file": true, "language": "C", "typeref": "typename:ovs_agent_api_context *", "kind": "variable"}, {"_type": "tag", "name": "handle_monitor_insert_request", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAgentApi/OvsAgentApi.c", "pattern": "/^static bool handle_monitor_insert_request(ovs_interact_request * request, ovs_interact_cb callba/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(ovs_interact_request * request,ovs_interact_cb callback)"}, {"_type": "tag", "name": "handle_transact_insert_request", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAgentApi/OvsAgentApi.c", "pattern": "/^static bool handle_transact_insert_request(ovs_interact_request * request, ovs_interact_cb callb/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(ovs_interact_request * request,ovs_interact_cb callback)"}, {"_type": "tag", "name": "initialize_gateway_config", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAgentApi/OvsAgentApi.c", "pattern": "/^static bool initialize_gateway_config(Gateway_Config * config)$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(Gateway_Config * config)"}, {"_type": "tag", "name": "monitorFeedback", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAgentApi/OvsAgentApi.c", "pattern": "/^    bool            monitorFeedback; \\/\\/ true if successfully sent a monitor Feedback request$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "member", "scope": "ovs_agent_api_context", "scopeKind": "struct"}, {"_type": "tag", "name": "mutex", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAgentApi/OvsAgentApi.c", "pattern": "/^    pthread_mutex_t mutex;$/", "file": true, "language": "C", "typeref": "typename:pthread_mutex_t", "kind": "member", "scope": "ovs_agent_api_context", "scopeKind": "struct"}, {"_type": "tag", "name": "ovs_agent_api_context", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAgentApi/OvsAgentApi.c", "pattern": "/^typedef struct ovs_agent_api_context$/", "file": true, "language": "C", "kind": "struct"}, {"_type": "tag", "name": "ovs_agent_api_context", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAgentApi/OvsAgentApi.c", "pattern": "/^} ovs_agent_api_context;$/", "file": true, "language": "C", "typeref": "struct:ovs_agent_api_context", "kind": "typedef"}, {"_type": "tag", "name": "ovs_agent_api_deinit", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAgentApi/OvsAgentApi.c", "pattern": "/^bool ovs_agent_api_deinit(void)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "ovs_agent_api_get_config", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAgentApi/OvsAgentApi.c", "pattern": "/^bool ovs_agent_api_get_config(OVS_TABLE table, void ** ppConfig)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(OVS_TABLE table,void ** ppConfig)"}, {"_type": "tag", "name": "ovs_agent_api_init", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAgentApi/OvsAgentApi.c", "pattern": "/^bool ovs_agent_api_init(OVS_COMPONENT_ID cid)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(OVS_COMPONENT_ID cid)"}, {"_type": "tag", "name": "ovs_agent_api_interact", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAgentApi/OvsAgentApi.c", "pattern": "/^bool ovs_agent_api_interact(ovs_interact_request * request, ovs_interact_cb callback)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(ovs_interact_request * request,ovs_interact_cb callback)"}, {"_type": "tag", "name": "ovs_agent_api_monitor_feedback_callback", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAgentApi/OvsAgentApi.c", "pattern": "/^static void ovs_agent_api_monitor_feedback_callback(OVS_STATUS status,$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(OVS_STATUS status,Rdkb_Table_Config * table_config)"}, {"_type": "tag", "name": "ovs_agent_api_mutex", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAgentApi/OvsAgentApi.c", "pattern": "/^static pthread_mutex_t ovs_agent_api_mutex = PTHREAD_MUTEX_INITIALIZER;$/", "file": true, "language": "C", "typeref": "typename:pthread_mutex_t", "kind": "variable"}, {"_type": "tag", "name": "ovs_agent_api_write_callback", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAgentApi/OvsAgentApi.c", "pattern": "/^static void ovs_agent_api_write_callback(const char * rid, const OvsDb_Base_Receipt* receipt_res/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(const char * rid,const OvsDb_Base_Receipt * receipt_result)"}, {"_type": "tag", "name": "print_feedback_config", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAgentApi/OvsAgentApi.c", "pattern": "/^void print_feedback_config(Feedback * config)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(Feedback * config)"}, {"_type": "tag", "name": "print_gateway_config", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAgentApi/OvsAgentApi.c", "pattern": "/^void print_gateway_config(Gateway_Config * config)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(Gateway_Config * config)"}, {"_type": "tag", "name": "print_rdkb_table_config", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAgentApi/OvsAgentApi.c", "pattern": "/^void print_rdkb_table_config(Rdkb_Table_Config * table_config)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(Rdkb_Table_Config * table_config)"}, {"_type": "tag", "name": "send_monitor_feedback_cancel_request", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAgentApi/OvsAgentApi.c", "pattern": "/^static bool send_monitor_feedback_cancel_request()$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "send_monitor_feedback_request", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAgentApi/OvsAgentApi.c", "pattern": "/^static bool send_monitor_feedback_request()$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "signal_callback_completion", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAgentApi/OvsAgentApi.c", "pattern": "/^static void signal_callback_completion()$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "wait_for_callback_completion", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsAgentApi/OvsAgentApi.c", "pattern": "/^static OVS_STATUS wait_for_callback_completion(char * rid, int timeoutSecs)$/", "file": true, "language": "C", "typeref": "typename:OVS_STATUS", "kind": "function", "signature": "(char * rid,int timeoutSecs)"}], "hash": "c2867829eaddb607f7e9a6ff93b8a8ce", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdk/components/generic/OvsAgent/source/OvsAgentApi/OvsAgentApi.c", "fields": [{"name": "bool blocked", "scope": "ovs_agent_api_context", "scopeKind": "struct", "description": "unavailable"}, {"name": "OVS_COMPONENT_ID cid", "scope": "ovs_agent_api_context", "scopeKind": "struct", "description": "unavailable"}, {"name": "pthread_cond_t condition", "scope": "ovs_agent_api_context", "scopeKind": "struct", "description": "unavailable"}, {"name": "const char * const[] g_cids", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ovs_agent_api_context * g_handle", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool monitorFeedback", "scope": "ovs_agent_api_context", "scopeKind": "struct", "description": "unavailable"}, {"name": "pthread_mutex_t mutex", "scope": "ovs_agent_api_context", "scopeKind": "struct", "description": "unavailable"}, {"name": "pthread_mutex_t ovs_agent_api_mutex", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"25574": ""}]}