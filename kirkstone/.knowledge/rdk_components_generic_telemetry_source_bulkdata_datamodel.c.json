{"is_source_file": true, "format": "C", "description": "This C source file implements telemetry data model processing, including JSON parsing of report profiles, message pack profile handling, threading for report processing, and initialization/cleanup routines for related queues and synchronization primitives.", "external_files": ["cjson/cJSON.h", "datamodel.h", "persistence.h", "t2collection.h", "reportprofiles.h", "t2log_wrapper.h", "t2_custom.h"], "external_methods": ["t2_queue_create", "t2_queue_push", "t2_queue_pop", "t2_queue_count", "fetchLocalConfigs", "T2Debug", "T2Info", "T2Error", "ReportProfiles_ProcessReportProfilesBlob", "ReportProfiles_ProcessReportProfilesMsgPackBlob"], "published": ["datamodel_processProfile", "datamodel_getSavedJsonProfilesasString", "datamodel_getSavedMsgpackProfilesasString", "datamodel_MsgpackProcessProfile", "datamodel_init", "datamodel_unInit"], "classes": [], "methods": [{"name": "void * process_rp_thread(void * data)", "description": "Thread function to process report profiles from rpQueue.", "scope": "", "scopeKind": ""}, {"name": "void * process_tmprp_thread(void * data)", "description": "Thread function to process temporary report profiles from tmpRpQueue.", "scope": "", "scopeKind": ""}, {"name": "void * process_msg_thread(void * data)", "description": "Thread function to process message pack profiles from rpMsgPkgQueue.", "scope": "", "scopeKind": ""}, {"name": "T2ERROR datamodel_processProfile(char * JsonBlob,bool rprofiletypes)", "description": "Parses JSON blob, validates 'profiles' field, and enqueues the data for processing based on profile type.", "scope": "", "scopeKind": ""}, {"name": "void datamodel_getSavedJsonProfilesasString(char ** SavedProfiles)", "description": "Retrieves stored report profiles as a JSON string.", "scope": "", "scopeKind": ""}, {"name": "int datamodel_getSavedMsgpackProfilesasString(char ** SavedProfiles)", "description": "Loads message pack profiles from disk into a string buffer.", "scope": "", "scopeKind": ""}, {"name": "T2ERROR datamodel_MsgpackProcessProfile(char * str,int strSize)", "description": "Enqueues a message pack profile blob for processing.", "scope": "", "scopeKind": ""}, {"name": "T2ERROR datamodel_init(void)", "description": "Initializes queues, mutexes, condition variables, and starts worker threads.", "scope": "", "scopeKind": ""}, {"name": "void datamodel_unInit(void)", "description": "Stops worker threads, destroys synchronization primitives, and performs cleanup.", "scope": "", "scopeKind": ""}], "calls": ["T2Debug", "T2Info", "T2Error", "cJSON_Parse", "cJSON_GetObjectItem", "cJSON_GetArraySize", "cJSON_Delete", "cJSON_CreateObject", "cJSON_AddItemToObject", "cJSON_CreateArray", "cJSON_AddStringToObject", "cJSON_Parse", "cJSON_Delete", "fopen", "ftell", "fseek", "fread", "fclose", "malloc", "free", "strdup", "snprintf", "pthread_mutex_lock", "pthread_mutex_unlock", "pthread_cond_signal", "pthread_create", "pthread_join", "pthread_mutex_destroy", "pthread_cond_destroy"], "search-terms": ["report profiles JSON processing", "message pack profile handling", "threaded report processing", "profile validation", "queue management", "JSON parsing", "JSON profile retrieval", "Msgpack profile handling", "initialization and cleanup"], "state": 2, "file_id": 12886, "knowledge_revision": 25780, "git_revision": "", "ctags": [{"_type": "tag", "name": "datamodel_MsgpackProcessProfile", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/telemetry/source/bulkdata/datamodel.c", "pattern": "/^T2ERROR datamodel_MsgpackProcessProfile(char *str , int strSize)$/", "language": "C", "typeref": "typename:T2ERROR", "kind": "function", "signature": "(char * str,int strSize)"}, {"_type": "tag", "name": "datamodel_getSavedJsonProfilesasString", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/telemetry/source/bulkdata/datamodel.c", "pattern": "/^void datamodel_getSavedJsonProfilesasString(char** SavedProfiles)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(char ** SavedProfiles)"}, {"_type": "tag", "name": "datamodel_getSavedMsgpackProfilesasString", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/telemetry/source/bulkdata/datamodel.c", "pattern": "/^int datamodel_getSavedMsgpackProfilesasString(char** SavedProfiles)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(char ** SavedProfiles)"}, {"_type": "tag", "name": "datamodel_init", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/telemetry/source/bulkdata/datamodel.c", "pattern": "/^T2ERROR datamodel_init(void)$/", "language": "C", "typeref": "typename:T2ERROR", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "datamodel_processProfile", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/telemetry/source/bulkdata/datamodel.c", "pattern": "/^T2ERROR datamodel_processProfile(char *JsonBlob , bool rprofiletypes)$/", "language": "C", "typeref": "typename:T2ERROR", "kind": "function", "signature": "(char * JsonBlob,bool rprofiletypes)"}, {"_type": "tag", "name": "datamodel_unInit", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/telemetry/source/bulkdata/datamodel.c", "pattern": "/^void datamodel_unInit(void)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "msg_Cond", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/telemetry/source/bulkdata/datamodel.c", "pattern": "/^static pthread_cond_t     msg_Cond;$/", "file": true, "language": "C", "typeref": "typename:pthread_cond_t", "kind": "variable"}, {"_type": "tag", "name": "process_msg_thread", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/telemetry/source/bulkdata/datamodel.c", "pattern": "/^static void *process_msg_thread(void *data)$/", "file": true, "language": "C", "typeref": "typename:void *", "kind": "function", "signature": "(void * data)"}, {"_type": "tag", "name": "process_rp_thread", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/telemetry/source/bulkdata/datamodel.c", "pattern": "/^static void *process_rp_thread(void *data)$/", "file": true, "language": "C", "typeref": "typename:void *", "kind": "function", "signature": "(void * data)"}, {"_type": "tag", "name": "process_tmprp_thread", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/telemetry/source/bulkdata/datamodel.c", "pattern": "/^static void *process_tmprp_thread(void *data)$/", "file": true, "language": "C", "typeref": "typename:void *", "kind": "function", "signature": "(void * data)"}, {"_type": "tag", "name": "rpCond", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/telemetry/source/bulkdata/datamodel.c", "pattern": "/^static pthread_cond_t     rpCond;$/", "file": true, "language": "C", "typeref": "typename:pthread_cond_t", "kind": "variable"}, {"_type": "tag", "name": "rpMsgMutex", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/telemetry/source/bulkdata/datamodel.c", "pattern": "/^static pthread_mutex_t    rpMsgMutex;$/", "file": true, "language": "C", "typeref": "typename:pthread_mutex_t", "kind": "variable"}, {"_type": "tag", "name": "rpMsgPkgQueue", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/telemetry/source/bulkdata/datamodel.c", "pattern": "/^static queue_t            *rpMsgPkgQueue = NULL;$/", "file": true, "language": "C", "typeref": "typename:queue_t *", "kind": "variable"}, {"_type": "tag", "name": "rpMsgThread", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/telemetry/source/bulkdata/datamodel.c", "pattern": "/^static pthread_t          rpMsgThread;$/", "file": true, "language": "C", "typeref": "typename:pthread_t", "kind": "variable"}, {"_type": "tag", "name": "rpMutex", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/telemetry/source/bulkdata/datamodel.c", "pattern": "/^static pthread_mutex_t    rpMutex;$/", "file": true, "language": "C", "typeref": "typename:pthread_mutex_t", "kind": "variable"}, {"_type": "tag", "name": "rpQueue", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/telemetry/source/bulkdata/datamodel.c", "pattern": "/^static queue_t            *rpQueue = NULL;$/", "file": true, "language": "C", "typeref": "typename:queue_t *", "kind": "variable"}, {"_type": "tag", "name": "rpThread", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/telemetry/source/bulkdata/datamodel.c", "pattern": "/^static pthread_t          rpThread;$/", "file": true, "language": "C", "typeref": "typename:pthread_t", "kind": "variable"}, {"_type": "tag", "name": "stopProcessing", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/telemetry/source/bulkdata/datamodel.c", "pattern": "/^static bool               stopProcessing = true;$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "variable"}, {"_type": "tag", "name": "tmpRpCond", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/telemetry/source/bulkdata/datamodel.c", "pattern": "/^static pthread_cond_t     tmpRpCond;$/", "file": true, "language": "C", "typeref": "typename:pthread_cond_t", "kind": "variable"}, {"_type": "tag", "name": "tmpRpMutex", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/telemetry/source/bulkdata/datamodel.c", "pattern": "/^static pthread_mutex_t    tmpRpMutex;$/", "file": true, "language": "C", "typeref": "typename:pthread_mutex_t", "kind": "variable"}, {"_type": "tag", "name": "tmpRpQueue", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/telemetry/source/bulkdata/datamodel.c", "pattern": "/^static queue_t            *tmpRpQueue = NULL;$/", "file": true, "language": "C", "typeref": "typename:queue_t *", "kind": "variable"}, {"_type": "tag", "name": "tmpRpThread", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/telemetry/source/bulkdata/datamodel.c", "pattern": "/^static pthread_t          tmpRpThread;$/", "file": true, "language": "C", "typeref": "typename:pthread_t", "kind": "variable"}], "hash": "8a95d56234309d675893a68497da6396", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdk/components/generic/telemetry/source/bulkdata/datamodel.c", "fields": [{"name": "pthread_cond_t msg_Cond", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pthread_cond_t rpCond", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pthread_mutex_t rpMsgMutex", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "queue_t * rpMsgPkgQueue", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pthread_t rpMsgThread", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pthread_mutex_t rpMutex", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "queue_t * rpQueue", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pthread_t rpThread", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool stopProcessing", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pthread_cond_t tmpRpCond", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pthread_mutex_t tmpRpMutex", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "queue_t * tmpRpQueue", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pthread_t tmpRpThread", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"25780": ""}]}