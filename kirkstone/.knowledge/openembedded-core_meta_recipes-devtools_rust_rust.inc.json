{"is_source_file": true, "format": "YAML/INCLUDE (BitBake recipe file)", "description": "This file is a BitBake recipe ('.inc' suffix) for building the Rust compiler and runtime libraries within an embedded Linux build environment. It sets up dependencies, environment variables, build configuration, and installation steps for Rust, integrating it into the Yocto Project build system.", "external_files": ["rust-common.inc", "file://COPYRIGHT", "${WORKDIR}/rust-snapshot/bin/rustc", "${WORKDIR}/rust-snapshot/bin/cargo", "${WORKDIR}/rust-snapshot/targets", "${D}${libdir}/rustlib", "${D}${bindir}", "${D}${libdir}"], "external_methods": ["cargo_common_do_configure", "d.getVar", "d.expand", "d.getVar", "d.getVar", "d.getVar", "d.getVar", "d.expand", "d.expand"], "published": ["do_rust_setup_snapshot", "rust_runx", "do_compile", "rust_do_install", "rust_install_targets", "do_install"], "classes": [], "methods": [{"name": "setup_cargo_environment", "description": "Configures the cargo build environment by writing to the cargo configuration file, specifying target system and linker settings."}, {"name": "do_configure", "description": "Generates the 'config.toml' file with build, target, host, and installation configurations for Rust build process."}, {"name": "rust_runx", "description": "Runs the Rust bootstrap script with the current environment, unsetting incompatible build flags."}, {"name": "rust_do_install", "description": "Installs the built Rust binaries and libraries into the designated installation directories."}, {"name": "rust_install_targets", "description": "Installs custom target JSON configuration files for Rust cross-compilation targets."}, {"name": "do_compile", "description": "Executes the build process for Rust."}, {"name": "do_install", "description": "Performs the installation of Rust binaries, libraries, and target configuration files."}], "calls": ["cargo_common_do_configure", "d.getVar", "d.expand", "d.getVar", "d.expand", "d.getVar", "d.expand", "d.getVar", "d.expand", "d.getVar", "d.expand", "d.getVar", "d.expand", "python3 src/bootstrap/bootstrap.py", "oe_cargo_fix_env", "rust_runx build", "mkdir -p ${D}${bindir}", "cp build/${HOST_SYS}/stage2/bin/* ${D}${bindir}", "mkdir -p ${D}${libdir}/rustlib", "cp -pRd build/${HOST_SYS}/stage2/lib/* ${D}${libdir}", "rm -f ${D}${libdir}/rustlib/src/rust", "install -d \"$td\"", "install -m 0644 \"$tgt\" \"$td\""], "search-terms": ["rust", "bitbake", "rust-llvm-native", "cargo_common", "rust-common.inc", "TARGET_SYS", "build", "install", "config", "snapshots"], "state": 2, "file_id": 2145, "knowledge_revision": 15296, "git_revision": "", "hash": "a34737b0c6be2e261392daadc5b3772b", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "openembedded-core/meta/recipes-devtools/rust/rust.inc", "revision_history": [{"15296": ""}]}