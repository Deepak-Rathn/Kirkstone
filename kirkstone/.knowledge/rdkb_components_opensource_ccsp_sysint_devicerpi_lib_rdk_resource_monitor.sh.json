{"is_source_file": true, "format": "shell script", "description": "This is a shell script used for resource monitoring and self-healing on a device. It periodically checks system memory and CPU usage, logs info, and triggers reboots if thresholds are exceeded. The script manages device health by monitoring memory, CPU load, and specific process behaviors, including handling device-specific conditions and remote load info.", "external_files": ["/etc/log_timestamp.sh", "/etc/device.properties", "/etc/utopia/service.d/log_env_var.sh", "/usr/ccsp/tad/corrective_action.sh"], "external_methods": ["syscfg get selfheal_enable", "syscfg get resource_monitor_interval", "syscfg get avg_memory_threshold", "syscfg get avg_cpu_threshold", "syscfg set_todays_reset_count", "syscfg commit", "syscfg get todays_reset_count", "syscfg set", "getVendorName", "getModelName", "getCMMac", "getDate", "getstat", "change", "rebootNeeded", "rebootNeededforbrlan1", "setRebootreason", "checkMaintenanceWindow", "rebootNeeded RM MEM", "rebootNeeded RM CPU", "rebootNeeded RM DS_MANAGER_HIGH_CPU", "rebootNeeded RM ATOM_HIGH_LOADAVG", "top", "cat /proc/loadavg", "rpcclient"], "published": ["RESOURCE_MONITOR_INTERVAL", "threshold_reached", "CPU_THRESHOLD", "MEM_THRESHOLD", "rebootNeeded", "rebootNeeded RM MEM", "rebootNeeded RM CPU", "rebootNeeded RM DS_MANAGER_HIGH_CPU", "rebootNeeded RM ATOM_HIGH_LOADAVG"], "classes": [], "methods": [], "calls": ["syscfg get selfheal_enable", "syscfg get resource_monitor_interval", "syscfg get avg_memory_threshold", "syscfg get avg_cpu_threshold", "syscfg set_todays_reset_count", "syscfg commit", "syscfg get todays_reset_count", "syscfg set", "getVendorName", "getModelName", "getCMMac", "getDate", "getstat", "change", "rebootNeeded RM MEM", "rebootNeeded RM CPU", "rebootNeeded RM DS_MANAGER_HIGH_CPU", "rebootNeeded RM ATOM_HIGH_LOADAVG", "top", "cat /proc/loadavg", "rpcclient"], "search-terms": ["resource_monitor", "selfheal", "CPU threshold", "memory threshold", "reboot trigger", "hardware monitor", "system health check", "shell script", "XB3", "device-specific conditions"], "state": 2, "file_id": 7131, "knowledge_revision": 20218, "git_revision": "", "hash": "ee54605bdcebd31ef4078f6e276fbb2d", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/sysint/devicerpi/lib/rdk/resource_monitor.sh", "revision_history": [{"20218": ""}]}