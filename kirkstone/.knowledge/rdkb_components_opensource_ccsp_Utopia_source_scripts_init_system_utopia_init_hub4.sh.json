{"is_source_file": true, "format": "shell script", "description": "This is a shell script used to initialize and configure a device during startup, including setting permissions, loading modules, configuring system properties, handling factory reset procedures, managing reboots, and starting essential services.", "external_files": ["/etc/utopia/service.d/log_capture_path.sh", "/etc/device.properties", "/usr/bin/onboarding_log", "/etc/ccsp/config/bbhm_def_cfg.xml"], "external_methods": ["stat -c %a", "sed", "syscfg get", "syscfg set", "syscfg create", "syscfg destroy", "syscfg commit", "du", "ls -al", "/usr/bin/onboarding_log", "chmod", "mkdir", "/usr/sbin/log_start.sh", "execute_dir", "syscfg unset", "syscfg destroy", "apply_system_defaults", "syscfg set", "touch", "rm -f", "mv", "cp -f", "df -h", "reboot", "ifconfig", "iptables", "ip6tables", "sysevent set"], "published": ["changeFilePermissions", "CheckAndReCreateDB"], "classes": [], "methods": [{"name": "changeFilePermissions", "description": "Checks if a file exists and if its permission differs from desired, then modifies its permission accordingly."}, {"name": "CheckAndReCreateDB", "description": "Checks if NVRAM is full and recreates syscfg database if needed."}], "calls": ["stat", "sed", "syscfg get", "syscfg set", "syscfg create", "syscfg destroy", "syscfg commit", "du", "ls -al", "/usr/bin/onboarding_log", "chmod", "mkdir", "execute_dir", "apply_system_defaults", "touch", "rm -f", "mv", "cp -f", "df -h", "reboot", "ifconfig", "iptables", "ip6tables", "sysevent set"], "search-terms": ["utopia_init_hub4.sh", "factory reset", "system initialization", "system configuration", "device startup", "system permissions", "reboot reason", "syscfg", "nvram", "syscfg_create", "sysevent", "iptables", "secure mount", "LAN IP", "Mesh Bhaul", "factory reset counter"], "state": 2, "file_id": 7474, "knowledge_revision": 20544, "git_revision": "", "hash": "180010da26ef5d6f8076eec5e5abed6d", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/Utopia/source/scripts/init/system/utopia_init_hub4.sh", "revision_history": [{"20544": ""}]}