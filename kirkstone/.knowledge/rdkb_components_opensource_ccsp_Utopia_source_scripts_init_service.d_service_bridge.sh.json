{"is_source_file": true, "format": "Shell script (sh)", "description": "This file is a shell script for configuring and managing network bridge services and DHCP client handlers on a device. It includes functions for bringing interfaces up/down, managing DHCP, and setting up network bridges in a router or embedded system environment.", "external_files": ["/etc/utopia/service.d/interface_functions.sh", "/etc/utopia/service.d/hostname_functions.sh", "/etc/utopia/service.d/ulog_functions.sh", "/etc/utopia/service.d/event_handler_functions.sh"], "external_methods": ["sysevent get", "sysevent set", "sysevent rm_async", "sysevent setoptions", "syscfg get", "ip link set", "brctl addif", "brctl addbr", "brctl setfd", "brctl stp", "ip addr add", "ip route show", "ip route del", "ip route add", "ip link set $interface down", "ip link set $interface up", "wlancfg", "get_mac", "wait_till_end_state", "check_err", "prepare_hostname", "gw_lan_refresh"], "published": ["SERVICE_NAME", "UDHCPC_PID_FILE", "UDHCPC_SCRIPT", "unregister_dhcp_client_handlers", "register_dhcp_client_handlers", "enslave_a_interface", "bringup_ethernet_interfaces", "teardown_ethernet_interfaces", "bringup_wireless_interfaces", "teardown_wireless_interfaces", "stop_firewall", "add_ebtable_rule", "del_ebtable_rule", "do_start", "do_stop", "service_init", "service_start", "service_stop"], "classes": [], "methods": [{"name": "unregister_dhcp_client_handlers", "description": "Removes registered DHCP client event handlers for restart, release, and renew events."}, {"name": "register_dhcp_client_handlers", "description": "Registers event handlers for DHCP client restart, release, and renew events."}, {"name": "enslave_a_interface", "description": "Enslaves a network interface to a bridge by setting it up and adding it to the specified bridge."}, {"name": "bringup_ethernet_interfaces", "description": "Placeholder function for bringing up ethernet interfaces; currently does nothing."}, {"name": "teardown_ethernet_interfaces", "description": "Brings down all physical ethernet interfaces listed in SYSCFG_lan_ethernet_physical_ifnames."}, {"name": "bringup_wireless_interfaces", "description": "Configures wireless interfaces by setting MAC addresses and enabling multicast."}, {"name": "teardown_wireless_interfaces", "description": "Disables wireless interfaces and wireless daemons."}, {"name": "stop_firewall", "description": "Stops the firewall if it is running."}, {"name": "add_ebtable_rule", "description": "Adds an ebtables rule for redirecting diagnostic traffic in bridge mode."}, {"name": "del_ebtable_rule", "description": "Removes the specific ebtables rule added for bridging diagnostics."}, {"name": "do_start", "description": "Starts the network bridge service, setting up interfaces, bridge, DHCP, and auxiliary services."}, {"name": "do_stop", "description": "Stops the network bridge service and cleans up interfaces, routing, and firewall rules."}, {"name": "service_init", "description": "Initializes service configuration by retrieving system variables and preparing interface lists."}, {"name": "service_start", "description": "Begins the service via the do_start function, ensuring proper state and handling errors."}, {"name": "service_stop", "description": "Stops the service via do_stop and handles cleanup and error reporting."}], "calls": ["sysevent get", "sysevent set", "sysevent rm_async", "sysevent setoptions", "syscfg get", "ip link set", "brctl addif", "brctl addbr", "brctl setfd", "brctl stp", "ip addr add", "ip route show", "ip route del", "ip route add", "wlancfg", "get_mac", "wait_till_end_state", "check_err", "prepare_hostname", "gw_lan_refresh"], "search-terms": ["service_bridge.sh", "DHCP handler functions", "network bridging script", "Utopia system scripts", "bridge setup", "Wireless interface configuration", "ebtables rules", "DHCP link script", "system control functions"], "state": 2, "file_id": 7554, "knowledge_revision": 20633, "git_revision": "", "hash": "77ef0ec63b849aff03bd47191bd6990b", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/Utopia/source/scripts/init/service.d/service_bridge.sh", "revision_history": [{"20633": ""}]}