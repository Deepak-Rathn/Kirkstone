{"is_source_file": true, "format": "Shell Script", "description": "This file is a shell script ('dcaSplunkUpload.sh') used for telemetry data upload and management in a device firmware environment. It handles uploading telemetry data via HTTP or TFTP, supports retries, manages connection types (Direct or Codebig), and includes logic to prevent multiple concurrent instances. The script is responsible for collecting telemetry data, determining the upload method, handling failovers, and queuing failed uploads for retries.", "external_files": ["/etc/include.properties", "/etc/device.properties", "/lib/rdk/utils.sh", "/etc/log_timestamp.sh", "/etc/dcm.properties"], "external_methods": ["dmcli", "GetConfigFile", "echo_t"], "published": ["dca_httpresult.txt", "rtl_json.txt"], "classes": [], "methods": [{"name": "getTelemetryEndpoint", "description": "Determines the telemetry upload URL based on RFC feature settings or previous response files."}, {"name": "pidCleanup", "description": "Removes the process ID file to prevent multiple script instances running simultaneously."}, {"name": "IsDirectBlocked", "description": "Checks if direct connection is temporarily blocked (currently disabled)."}, {"name": "get_Codebigconfig", "description": "Checks and sets configurations related to Codebig connection capability."}, {"name": "useDirectRequest", "description": "Attempts to upload telemetry data via direct connection (HTTP or TFTP)."}, {"name": "useCodebigRequest", "description": "Attempts to upload telemetry data via Codebig connection."}, {"name": "getErouterIpv4", "description": "Fetches the IPv4 address of the erouter device."}, {"name": "getErouterIpv6", "description": "Fetches the IPv6 address of the erouter device."}], "calls": ["dmcli simu getv Device.DeviceInfo.X_RDKCENTRAL-COM_RFC.Feature.TelemetryEndpoint.Enable", "dmcli simu getv Device.DeviceInfo.X_RDKCENTRAL-COM_RFC.Feature.TelemetryEndpoint.URL", "GetServiceUrl", "curl", "scp", "tftp", "ifconfig", "sed", "grep", "awk", "sed", "expr", "mv", "cat", "rm", "touch", "sleep", "mkdir"], "search-terms": ["dcaSplunkUpload", "Telemetry Resend Queue", "Telemetry Endpoint RFC", "Codebig", "Direct Connection", "Telemetry Upload Script", "Telemetry Data Upload", "Failover Upload", "Telemetry Queue Management", "dca_httpresult.txt"], "state": 2, "file_id": 7070, "knowledge_revision": 20152, "git_revision": "", "hash": "4e1564cdcea0e3f0b6e1ac2d76cf3ba5", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/sysint/device/lib/rdk/dcaSplunkUpload.sh", "revision_history": [{"20152": ""}]}