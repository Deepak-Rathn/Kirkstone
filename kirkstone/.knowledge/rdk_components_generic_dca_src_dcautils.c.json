{"is_source_file": true, "format": "C", "description": "This file contains utility functions for the DCA component, including system load retrieval, file size calculation, log management, configuration updates, and execution counters. It also includes external file references via includes and references path variables.", "external_files": ["dcautils.h", "safec_lib.h"], "external_methods": ["addToSearchResult", "readLogSeek", "LOG", "ERR_CHK"], "published": [], "classes": [], "methods": [{"name": "int getLoadAvg()", "description": "Reads the system load average from /proc/loadavg and adds it to the search result.", "scope": "", "scopeKind": ""}, {"name": "int fsize(FILE * fp)", "description": "Calculates and returns the size of the file pointed to by a FILE pointer.", "scope": "", "scopeKind": ""}, {"name": "void clearConfVal(void)", "description": "Frees global path variables if allocated.", "scope": "", "scopeKind": ""}, {"name": "void updateExecCounter()", "description": "Reads and increments a global execution counter from a file.", "scope": "", "scopeKind": ""}, {"name": "void saveExecCounter()", "description": "Saves the current execution counter value to a file.", "scope": "", "scopeKind": ""}, {"name": "int isSkipParam(int skipInterval)", "description": "Determines if telemetry should be skipped based on the current execution count and skip interval.", "scope": "", "scopeKind": ""}, {"name": "char * getsRotatedLog(char * buf,int buflen,char * name)", "description": "Retrieves a line from the current or rotated log file, managing log file rotations.", "scope": "", "scopeKind": ""}, {"name": "void updateIncludeConfVal(char * logpath,char * perspath)", "description": "Reads and updates the persistent and log paths from include.properties.", "scope": "", "scopeKind": ""}, {"name": "void updateConfVal(char * logpath,char * perspath)", "description": "Updates configuration paths and device type from device.properties and related files.", "scope": "", "scopeKind": ""}, {"name": "int readLogSeek(char * name,long * seek_value)", "description": "Reads log seek position from the persistent storage.", "scope": "", "scopeKind": ""}, {"name": "void writeLogSeek(char * name,long seek_value)", "description": "Writes log seek position to persistent storage.", "scope": "", "scopeKind": ""}], "calls": ["addToSearchResult", "fseek", "fread", "fclose", "fgets", "fopen", "atoi", "sprintf_s", "strcmp_s", "strstr", "strlen", "malloc", "free", "realloc", "fprintf", "open", "close", "fseek", "ftell", "LOG", "ERR_CHK"], "search-terms": ["loadavg", "log rotation", "execution counter", "config update", "device properties", "persistent path", "log path", "rotated log", "file size", "skip param"], "state": 2, "file_id": 13080, "knowledge_revision": 25981, "git_revision": "", "ctags": [{"_type": "tag", "name": "EC_BUF_LEN", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/dca/src/dcautils.c", "pattern": "/^#define EC_BUF_LEN /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "clearConfVal", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/dca/src/dcautils.c", "pattern": "/^void clearConfVal(void)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "fsize", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/dca/src/dcautils.c", "pattern": "/^static int fsize(FILE *fp) {$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(FILE * fp)"}, {"_type": "tag", "name": "getLoadAvg", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/dca/src/dcautils.c", "pattern": "/^int getLoadAvg()$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getsRotatedLog", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/dca/src/dcautils.c", "pattern": "/^char *getsRotatedLog(char *buf, int buflen, char *name)$/", "language": "C", "typeref": "typename:char *", "kind": "function", "signature": "(char * buf,int buflen,char * name)"}, {"_type": "tag", "name": "isSkipParam", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/dca/src/dcautils.c", "pattern": "/^int isSkipParam(int skipInterval)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(int skipInterval)"}, {"_type": "tag", "name": "readLogSeek", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/dca/src/dcautils.c", "pattern": "/^int readLogSeek(char *name, long *seek_value)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(char * name,long * seek_value)"}, {"_type": "tag", "name": "saveExecCounter", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/dca/src/dcautils.c", "pattern": "/^void saveExecCounter()$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "updateConfVal", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/dca/src/dcautils.c", "pattern": "/^void updateConfVal(char *logpath, char *perspath)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(char * logpath,char * perspath)"}, {"_type": "tag", "name": "updateExecCounter", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/dca/src/dcautils.c", "pattern": "/^void updateExecCounter()$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "updateIncludeConfVal", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/dca/src/dcautils.c", "pattern": "/^void updateIncludeConfVal(char *logpath, char *perspath)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(char * logpath,char * perspath)"}, {"_type": "tag", "name": "writeLogSeek", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/dca/src/dcautils.c", "pattern": "/^void writeLogSeek(char *name, long seek_value)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(char * name,long seek_value)"}], "hash": "f29e6defd6229997a947a88c4333c855", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdk/components/generic/dca/src/dcautils.c", "revision_history": [{"25981": ""}]}