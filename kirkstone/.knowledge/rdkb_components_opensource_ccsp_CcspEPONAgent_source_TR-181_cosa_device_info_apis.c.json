{"is_source_file": true, "format": "C", "description": "This file contains backend API implementations for device information management, including firmware version retrieval, download status, URL and image setting, and download initiation, along with functions managing system configuration settings.", "external_files": ["cosa_device_info_apis.h", "cm_hal.h", "cosa_device_info_internal.h", "<syscfg/syscfg.h>"], "external_methods": ["CosaDmlDIGetDLFlag", "CosaDmlDIGetFWVersion", "cm_hal_Get_HTTP_Download_Status", "syscfg_set_commit", "syscfg_get", "cm_hal_Set_HTTP_Download_Url", "cm_hal_HTTP_Download", "cm_hal_Set_HTTP_Download_Interface", "cm_hal_HTTP_Download_Reboot_Now", "cm_hal_Reboot_Ready"], "published": ["CosaDmlDIInit", "CosaDmlDIGetDLFlag", "CosaDmlDIGetFWVersion", "CosaDmlDIGetDLStatus", "CosaDmlDIGetProtocol", "CosaDmlDIGetURL", "CosaDmlDIGetImage", "CosaDmlDIDownloadNow", "CosaDmlDISetURL", "CosaDmlDISetImage"], "classes": [], "methods": [{"name": "ANSC_STATUS CosaDmlDIInit(ANSC_HANDLE hDml,PANSC_HANDLE phContext)", "description": "Initializes device info data, retrieves download flag, firmware version, URL, and image info.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaDmlDIGetDLFlag(ANSC_HANDLE hContext)", "description": "Reads device properties to determine if firmware download is permitted based on build type.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaDmlDIGetFWVersion(ANSC_HANDLE hContext)", "description": "Retrieves the current firmware version from device storage.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaDmlDIGetDLStatus(ANSC_HANDLE hContext,char * DL_Status)", "description": "Gets current download status code and converts it to a human-readable string.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaDmlDIGetProtocol(char * Protocol)", "description": "Reads the download protocol (HTTP/HTTPS) from system configuration.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaDmlDIGetURL(ANSC_HANDLE hContext)", "description": "Fetches the URL for firmware updates from system configuration.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaDmlDIGetImage(ANSC_HANDLE hContext)", "description": "Determines the firmware image to download, especially after factory reset.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaDmlDIDownloadNow(ANSC_HANDLE hContext)", "description": "Starts the firmware download process asynchronously, including setting up the download URL and interface.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaDmlDISetURL(ANSC_HANDLE hContext,char * URL)", "description": "Sets the URL to be used for firmware download, updates system configuration, and commits.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaDmlDISetImage(ANSC_HANDLE hContext,char * Image)", "description": "Sets the firmware image filename to download, updates configuration accordingly.", "scope": "", "scopeKind": ""}, {"name": "void * FWDL_ThreadFunc(void * arg)", "description": "Thread function to handle firmware download, monitor status, and trigger reboot upon completion.", "scope": "", "scopeKind": ""}, {"name": "void convert_to_validFW(char * fw,char * valid_fw)", "description": "Sanitizes and trims firmware filenames to a valid consistent format.", "scope": "", "scopeKind": ""}, {"name": "void WriteFactoryResetParams(ANSC_HANDLE hContext)", "description": "Stores current download URL and firmware info into system configuration for factory reset.", "scope": "", "scopeKind": ""}, {"name": "int CosaDmlDISetProtocol(PCOSA_DATAMODEL_DEVICEINFO pMyObject)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int GetFirmwareName(char * pValue,unsigned long maxSize)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "BOOL IsFileUpdateNeeded(ANSC_HANDLE hContext)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["CosaDmlDIGetDLFlag", "GetFirmwareName", "cm_hal_Get_HTTP_Download_Status", "AnscCopyString", "syscfg_set", "syscfg_get", "cm_hal_Set_HTTP_Download_Url", "cm_hal_HTTP_Download", "cm_hal_Set_HTTP_Download_Interface", "cm_hal_HTTP_Download_Reboot_Now", "cm_hal_Reboot_Ready", "system"], "search-terms": ["Firmware", "Download", "Reboot", "FirmwareVersion", "FirmwareDownload", "SystemConfig", "FirmwareUpdate", "DeviceInfo", "FirmwareURL", "FirmwareImage"], "state": 2, "file_id": 7059, "knowledge_revision": 20149, "git_revision": "", "ctags": [{"_type": "tag", "name": "CosaDmlDIDownloadNow", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEPONAgent/source/TR-181/cosa_device_info_apis.c", "pattern": "/^ANSC_STATUS CosaDmlDIDownloadNow(ANSC_HANDLE hContext)$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hContext)"}, {"_type": "tag", "name": "CosaDmlDIGetDLFlag", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEPONAgent/source/TR-181/cosa_device_info_apis.c", "pattern": "/^ANSC_STATUS CosaDmlDIGetDLFlag(ANSC_HANDLE hContext)$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hContext)"}, {"_type": "tag", "name": "CosaDmlDIGetDLStatus", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEPONAgent/source/TR-181/cosa_device_info_apis.c", "pattern": "/^ANSC_STATUS CosaDmlDIGetDLStatus(ANSC_HANDLE hContext, char *DL_Status)$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hContext,char * DL_Status)"}, {"_type": "tag", "name": "CosaDmlDIGetFWVersion", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEPONAgent/source/TR-181/cosa_device_info_apis.c", "pattern": "/^ANSC_STATUS CosaDmlDIGetFWVersion(ANSC_HANDLE hContext)$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hContext)"}, {"_type": "tag", "name": "CosaDmlDIGetImage", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEPONAgent/source/TR-181/cosa_device_info_apis.c", "pattern": "/^ANSC_STATUS CosaDmlDIGetImage(ANSC_HANDLE hContext)$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hContext)"}, {"_type": "tag", "name": "CosaDmlDIGetProtocol", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEPONAgent/source/TR-181/cosa_device_info_apis.c", "pattern": "/^ANSC_STATUS CosaDmlDIGetProtocol(char *Protocol)$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(char * Protocol)"}, {"_type": "tag", "name": "CosaDmlDIGetURL", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEPONAgent/source/TR-181/cosa_device_info_apis.c", "pattern": "/^ANSC_STATUS CosaDmlDIGetURL(ANSC_HANDLE hContext)$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hContext)"}, {"_type": "tag", "name": "CosaDmlDIInit", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEPONAgent/source/TR-181/cosa_device_info_apis.c", "pattern": "/^CosaDmlDIInit$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hDml,PANSC_HANDLE phContext)"}, {"_type": "tag", "name": "CosaDmlDISetImage", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEPONAgent/source/TR-181/cosa_device_info_apis.c", "pattern": "/^ANSC_STATUS CosaDmlDISetImage(ANSC_HANDLE hContext, char *Image)$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hContext,char * Image)"}, {"_type": "tag", "name": "CosaDmlDISetProtocol", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEPONAgent/source/TR-181/cosa_device_info_apis.c", "pattern": "/^static int CosaDmlDISetProtocol (PCOSA_DATAMODEL_DEVICEINFO pMyObject)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(PCOSA_DATAMODEL_DEVICEINFO pMyObject)"}, {"_type": "tag", "name": "CosaDmlDISetURL", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEPONAgent/source/TR-181/cosa_device_info_apis.c", "pattern": "/^ANSC_STATUS CosaDmlDISetURL(ANSC_HANDLE hContext, char *URL)$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hContext,char * URL)"}, {"_type": "tag", "name": "FWDL_ThreadFunc", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEPONAgent/source/TR-181/cosa_device_info_apis.c", "pattern": "/^void *FWDL_ThreadFunc(void *arg)$/", "language": "C", "typeref": "typename:void *", "kind": "function", "signature": "(void * arg)"}, {"_type": "tag", "name": "GetFirmwareName", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEPONAgent/source/TR-181/cosa_device_info_apis.c", "pattern": "/^static int GetFirmwareName (char *pValue, unsigned long maxSize)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(char * pValue,unsigned long maxSize)"}, {"_type": "tag", "name": "IsFileUpdateNeeded", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEPONAgent/source/TR-181/cosa_device_info_apis.c", "pattern": "/^BOOL IsFileUpdateNeeded( ANSC_HANDLE hContext ) $/", "language": "C", "typeref": "typename:BOOL", "kind": "function", "signature": "(ANSC_HANDLE hContext)"}, {"_type": "tag", "name": "MAX_PROTOCOL", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEPONAgent/source/TR-181/cosa_device_info_apis.c", "pattern": "/^#define MAX_PROTOCOL /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "WriteFactoryResetParams", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEPONAgent/source/TR-181/cosa_device_info_apis.c", "pattern": "/^void WriteFactoryResetParams( ANSC_HANDLE hContext )$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(ANSC_HANDLE hContext)"}, {"_type": "tag", "name": "_GNU_SOURCE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEPONAgent/source/TR-181/cosa_device_info_apis.c", "pattern": "/^#define _GNU_SOURCE$/", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "convert_to_validFW", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspEPONAgent/source/TR-181/cosa_device_info_apis.c", "pattern": "/^void convert_to_validFW(char *fw,char *valid_fw)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(char * fw,char * valid_fw)"}], "hash": "207249145cca9e5239c0f83670053971", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/CcspEPONAgent/source/TR-181/cosa_device_info_apis.c", "revision_history": [{"20149": ""}]}