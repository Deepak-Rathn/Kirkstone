{"is_source_file": true, "format": "BitBake recipe (.inc)", "description": "This file is a BitBake include (.inc) recipe for building and configuring QEMU, an open-source processor emulator and virtual machine monitor. It specifies dependencies, source URIs, build configuration options, patches, and installation steps tailored for cross-compilation within a Yocto/OpenEmbedded build environment.", "external_files": ["qemu-targets.inc", "COPYING", "COPYING.LIB", "powerpc_rom.bin", "run-ptest", "0001-qemu-Add-missing-wacom-HID-descriptor.patch", "0003-qemu-Add-addition-environment-space-to-boot-loader-q.patch", "0006-chardev-connect-socket-to-a-spawned-command.patch", "0007-apic-fixup-fallthrough-to-PIC.patch", "0010-configure-Add-pkg-config-handling-for-libgcrypt.patch", "0001-qemu-Do-not-include-file-if-not-exists.patch", "mmap2.patch", "determinism.patch", "0001-tests-meson.build-use-relative-path-to-refer-to-file.patch", "0001-riscv-Set-5.4-as-minimum-kernel-version-for-riscv32.patch", "0001-acpi-tpm-Add-missing-device-identification-objects.patch", "0001-ppc-Include-asm-ptrace.h-for-pt_regs-struct-definiti.patch", "0001-Define-MAP_SYNC-and-MAP_SHARED_VALIDATE-on-needed-li.patch", "0001-vhost-vsock-detach-the-virqueue-element-in-case-of-e.patch", "0002-virtio-net-fix-map-leaking-on-error-during-receive.patch", "pvrdma.patch", "CVE-2021-4206.patch", "CVE-2021-4207.patch", "CVE-2022-35414.patch", "CVE-2021-3507_1.patch", "CVE-2021-3507_2.patch", "CVE-2021-3929.patch", "CVE-2021-4158.patch", "CVE-2022-0358.patch", "CVE-2022-0216_1.patch", "CVE-2022-0216_2.patch"], "external_methods": ["require", "inherit", "do_install:append", "do_install_ptest", "do_configure:prepend:class-native", "do_configure", "oe_runmake"], "published": ["QEMU_TARGETS", "EXTRA_OECONF", "SRC_URI", "UPSTREAM_CHECK_REGEX", "CVE_CHECK_IGNORE", "COMPATIBLE_HOST", "DEBUG_BUILD", "do_install", "do_install_ptest", "do_configure"], "classes": [], "methods": [{"name": "do_install:append", "description": "Appends additional installation steps to remove runtime directory if it exists."}, {"name": "do_install_ptest", "description": "Copies test files into the image, removes certain patterns, and adjusts test scripts for reproducibility."}, {"name": "do_configure:prepend:class-native", "description": "Prepares environment for native target configuration by setting PKG_CONFIG_PATH."}, {"name": "do_configure", "description": "Runs the configure script with specified EXTRA_OECONF parameters."}], "calls": ["pkg-config --variable pc_path pkg-config", "${S}/configure ${EXTRA_OECONF}", "rmdir ${STAGING_LIBDIR_NATIVE}/${PYTHON_DIR}/site-packages/*.egg-info", "cp -rL ${B}/tests ${D}${PTEST_PATH}", "find ${D}${PTEST_PATH}/tests -type f -name \"*.[Sshcodp]\" | xargs -i rm -rf {}", "sed -i -e \"1s,#!/usr/bin/bash,#!${base_bindir}/bash,\" ${D}${PTEST_PATH}/tests/data/acpi/disassemle-aml.sh", "sed -i -e \"s#^QEMU=.*/qemu-#QEMU=qemu-#g\" ${D}${PTEST_PATH}/tests/tcg/*.mak", "sed -i -e \"s,CROSS_CC_GUEST=.*,CROSS_CC_GUEST=,\" ${D}${PTEST_PATH}/tests/tcg/*.mak", "create_wrapper ${D}/${bindir}/qemu-mips QEMU_RESERVED_VA=0x0"], "search-terms": ["qemu", "openembedded", "bitbake", "cross compile", "target dependencies", "patches", "test setup", "configure options"], "state": 2, "file_id": 2062, "knowledge_revision": 15211, "git_revision": "", "hash": "8b128af85a863ef9361d792cbabb19e4", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "openembedded-core/meta/recipes-devtools/qemu/qemu.inc", "revision_history": [{"15211": ""}]}