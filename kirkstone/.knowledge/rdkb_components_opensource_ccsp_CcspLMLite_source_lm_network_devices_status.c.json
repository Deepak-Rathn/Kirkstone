{"is_source_file": true, "format": "C", "description": "This file contains C source code for managing network device status monitoring including functions for data collection, list management, periodic harvesting, and configuration. It handles device status reporting, timing, and synchronization with threading primitives.", "external_files": ["network_devices_status.h", "ccsp_lmliteLog_wrapper.h", "network_devices_status_avropack.h", "lm_main.h", "report_common.h", "webpa_interface.h", "safec_lib_common.h", "secure_wrapper.h", "rpl_malloc.h", "mlt_malloc.h"], "external_methods": ["lmHosts", "SetNDSPollingPeriodInNVRAM", "SetNDSReportingPeriodInNVRAM", "getFullDeviceMac()", "network_devices_status_report()", "nd_avro_cleanup()"], "published": ["SetNDSHarvestingStatus", "GetNDSHarvestingStatus", "SetNDSReportingPeriod", "GetNDSReportingPeriod", "SetNDSPollingPeriod", "GetNDSPollingPeriod", "ValidateNDSPeriod", "GetNDSPollingPeriodDefault", "SetNDSPollingPeriodDefault", "GetNDSReportingPeriodDefault", "SetNDSReportingPeriodDefault", "GetNDSOverrideTTL", "SetNDSOverrideTTL", "GetNDSOverrideTTLDefault"], "classes": [], "methods": [{"name": "bool isvalueinarray(ULONG val,ULONG * arr,int size)", "description": "Checks if a given ULONG value exists in an array of ULONGs.", "scope": "", "scopeKind": ""}, {"name": "void * StartNetworkDeviceStatusHarvesting(void * arg)", "description": "Thread function that periodically collects network device data and reports status.", "scope": "", "scopeKind": ""}, {"name": "GetTimeOffsetFromUtc", "description": "Retrieves timezone offset from UTC, modifies global variable tm_offset."}, {"name": "char * GetCurrentTimeString()", "description": "Returns current system time as a human-readable string.", "scope": "", "scopeKind": ""}, {"name": "ulong GetCurrentTimeInSecond()", "description": "Returns the current time in seconds since the epoch.", "scope": "", "scopeKind": ""}, {"name": "void GetLMHostData()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "BOOL GetNDSHarvestingStatus()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ULONG GetNDSOverrideTTL()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ULONG GetNDSOverrideTTLDefault()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ULONG GetNDSPollingPeriod()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ULONG GetNDSPollingPeriodDefault()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ULONG GetNDSReportingPeriod()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ULONG GetNDSReportingPeriodDefault()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char * NDS_GetIpAddress(PLmObjectHost host)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void ResetNDSReportingConfiguration()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int SetNDSHarvestingStatus(BOOL status)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int SetNDSOverrideTTL(ULONG ttl)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int SetNDSPollingPeriod(ULONG period)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ULONG SetNDSPollingPeriodDefault(ULONG period)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int SetNDSReportingPeriod(ULONG period)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ULONG SetNDSReportingPeriodDefault(ULONG period)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "BOOL ValidateNDSPeriod(ULONG period)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void WaitForPthreadConditionTimeoutNDS()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int _syscmd(FILE * f,char * retBuf,int retBufSize)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void add_to_list(PLmObjectHost host,struct networkdevicestatusdata ** head)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void delete_list(struct networkdevicestatusdata ** head)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int getTimeOffsetFromUtc()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void print_list(struct networkdevicestatusdata * head)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["pthread_create", "pthread_cond_signal", "pthread_cond_timedwait", "pthread_mutex_lock", "pthread_mutex_unlock", "clock_gettime", "time", "ctime", "gettimeofday", "sscanf", "strdup", "strlen", "strncat"], "search-terms": ["network_devices_status", "NDSHarvesting", "NDSReportingPeriod", "NDSOverrideTTL", "lmHosts", "networkdevicestatusdata", "NDS_GetIpAddress", "network_devices_status_report", "start harvesting thread", "NVRAM polling"], "state": 2, "file_id": 7185, "knowledge_revision": 20263, "git_revision": "", "ctags": [{"_type": "tag", "name": "GetCurrentTimeInSecond", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^ulong GetCurrentTimeInSecond()$/", "language": "C", "typeref": "typename:ulong", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "GetCurrentTimeString", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^char* GetCurrentTimeString()$/", "language": "C", "typeref": "typename:char *", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "GetLMHostData", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^void GetLMHostData()$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "GetNDSHarvestingStatus", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^BOOL GetNDSHarvestingStatus()$/", "language": "C", "typeref": "typename:BOOL", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "GetNDSOverrideTTL", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^ULONG GetNDSOverrideTTL()$/", "language": "C", "typeref": "typename:ULONG", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "GetNDSOverrideTTLDefault", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^ULONG GetNDSOverrideTTLDefault()$/", "language": "C", "typeref": "typename:ULONG", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "GetNDSPollingPeriod", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^ULONG GetNDSPollingPeriod()$/", "language": "C", "typeref": "typename:ULONG", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "GetNDSPollingPeriodDefault", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^ULONG GetNDSPollingPeriodDefault()$/", "language": "C", "typeref": "typename:ULONG", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "GetNDSReportingPeriod", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^ULONG GetNDSReportingPeriod()$/", "language": "C", "typeref": "typename:ULONG", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "GetNDSReportingPeriodDefault", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^ULONG GetNDSReportingPeriodDefault()$/", "language": "C", "typeref": "typename:ULONG", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "NDSOverrideTTL", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^ULONG NDSOverrideTTL = TTL_INTERVAL;$/", "language": "C", "typeref": "typename:ULONG", "kind": "variable"}, {"_type": "tag", "name": "NDSOverrideTTLDefault", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^ULONG NDSOverrideTTLDefault = DEFAULT_TTL_INTERVAL;$/", "language": "C", "typeref": "typename:ULONG", "kind": "variable"}, {"_type": "tag", "name": "NDSPollingPeriod", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^ULONG NDSPollingPeriod = DEFAULT_POLLING_INTERVAL;$/", "language": "C", "typeref": "typename:ULONG", "kind": "variable"}, {"_type": "tag", "name": "NDSPollingPeriodDefault", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^ULONG NDSPollingPeriodDefault = DEFAULT_POLLING_INTERVAL;$/", "language": "C", "typeref": "typename:ULONG", "kind": "variable"}, {"_type": "tag", "name": "NDSReportStatus", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^BOOL NDSReportStatus = FALSE;$/", "language": "C", "typeref": "typename:BOOL", "kind": "variable"}, {"_type": "tag", "name": "NDSReportingPeriod", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^ULONG NDSReportingPeriod = DEFAULT_REPORTING_INTERVAL;$/", "language": "C", "typeref": "typename:ULONG", "kind": "variable"}, {"_type": "tag", "name": "NDSReportingPeriodDefault", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^ULONG NDSReportingPeriodDefault = DEFAULT_REPORTING_INTERVAL;$/", "language": "C", "typeref": "typename:ULONG", "kind": "variable"}, {"_type": "tag", "name": "NDS_GetIpAddress", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^char* NDS_GetIpAddress(PLmObjectHost host)$/", "language": "C", "typeref": "typename:char *", "kind": "function", "signature": "(PLmObjectHost host)"}, {"_type": "tag", "name": "NetworkDeviceStatusPeriods", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^ULONG NetworkDeviceStatusPeriods[] = {5,10,15,30,60,300,900,1800,3600,10800,21600,43200,86400};$/", "language": "C", "typeref": "typename:ULONG[]", "kind": "variable"}, {"_type": "tag", "name": "ResetNDSReportingConfiguration", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^void ResetNDSReportingConfiguration()$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "SetNDSHarvestingStatus", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^int SetNDSHarvestingStatus(BOOL status)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(BOOL status)"}, {"_type": "tag", "name": "SetNDSOverrideTTL", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^int SetNDSOverrideTTL(ULONG ttl)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(ULONG ttl)"}, {"_type": "tag", "name": "SetNDSPollingPeriod", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^int SetNDSPollingPeriod(ULONG period)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(ULONG period)"}, {"_type": "tag", "name": "SetNDSPollingPeriodDefault", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^ULONG SetNDSPollingPeriodDefault(ULONG period)$/", "language": "C", "typeref": "typename:ULONG", "kind": "function", "signature": "(ULONG period)"}, {"_type": "tag", "name": "SetNDSReportingPeriod", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^int SetNDSReportingPeriod(ULONG period)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(ULONG period)"}, {"_type": "tag", "name": "SetNDSReportingPeriodDefault", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^ULONG SetNDSReportingPeriodDefault(ULONG period)$/", "language": "C", "typeref": "typename:ULONG", "kind": "function", "signature": "(ULONG period)"}, {"_type": "tag", "name": "StartNetworkDeviceStatusHarvesting", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^void* StartNetworkDeviceStatusHarvesting( void *arg )$/", "language": "C", "typeref": "typename:void *", "kind": "function", "signature": "(void * arg)"}, {"_type": "tag", "name": "ValidateNDSPeriod", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^BOOL ValidateNDSPeriod(ULONG period)$/", "language": "C", "typeref": "typename:BOOL", "kind": "function", "signature": "(ULONG period)"}, {"_type": "tag", "name": "WaitForPthreadConditionTimeoutNDS", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^static void WaitForPthreadConditionTimeoutNDS()$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "_syscmd", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^static int _syscmd(FILE *f, char *retBuf, int retBufSize)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(FILE * f,char * retBuf,int retBufSize)"}, {"_type": "tag", "name": "add_to_list", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^void add_to_list(PLmObjectHost host, struct networkdevicestatusdata **head)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(PLmObjectHost host,struct networkdevicestatusdata ** head)"}, {"_type": "tag", "name": "currentReportingPeriod", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^ULONG currentReportingPeriod = 0;$/", "language": "C", "typeref": "typename:ULONG", "kind": "variable"}, {"_type": "tag", "name": "delete_list", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^void delete_list(struct networkdevicestatusdata **head)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(struct networkdevicestatusdata ** head)"}, {"_type": "tag", "name": "getTimeOffsetFromUtc", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^int getTimeOffsetFromUtc()$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "headnode", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^static struct networkdevicestatusdata *headnode = NULL;$/", "file": true, "language": "C", "typeref": "struct:networkdevicestatusdata *", "kind": "variable"}, {"_type": "tag", "name": "headnodeextender", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^static struct networkdevicestatusdata *headnodeextender = NULL;$/", "file": true, "language": "C", "typeref": "struct:networkdevicestatusdata *", "kind": "variable"}, {"_type": "tag", "name": "isvalueinarray", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^bool isvalueinarray(ULONG val, ULONG *arr, int size)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(ULONG val,ULONG * arr,int size)"}, {"_type": "tag", "name": "ndsCond", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^static pthread_cond_t ndsCond = PTHREAD_COND_INITIALIZER;$/", "file": true, "language": "C", "typeref": "typename:pthread_cond_t", "kind": "variable"}, {"_type": "tag", "name": "ndsMutex", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^static pthread_mutex_t ndsMutex = PTHREAD_MUTEX_INITIALIZER;$/", "file": true, "language": "C", "typeref": "typename:pthread_mutex_t", "kind": "variable"}, {"_type": "tag", "name": "print_list", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^void print_list(struct networkdevicestatusdata *head)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(struct networkdevicestatusdata * head)"}, {"_type": "tag", "name": "tm_offset", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "pattern": "/^int tm_offset = 0;$/", "language": "C", "typeref": "typename:int", "kind": "variable"}], "hash": "51c14b57161363d57d3f0f180c6c6a1e", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/CcspLMLite/source/lm/network_devices_status.c", "fields": [{"name": "ULONG NDSOverrideTTL", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ULONG NDSOverrideTTLDefault", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ULONG NDSPollingPeriod", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ULONG NDSPollingPeriodDefault", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "BOOL NDSReportStatus", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ULONG NDSReportingPeriod", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ULONG NDSReportingPeriodDefault", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ULONG[] NetworkDeviceStatusPeriods", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ULONG currentReportingPeriod", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "struct:networkdevicestatusdata * headnode", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "struct:networkdevicestatusdata * headnodeextender", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pthread_cond_t ndsCond", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pthread_mutex_t ndsMutex", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int tm_offset", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"20263": ""}]}