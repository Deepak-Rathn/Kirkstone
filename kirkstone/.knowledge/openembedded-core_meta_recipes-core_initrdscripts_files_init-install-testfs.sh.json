{"is_source_file": true, "format": "Shell Script (sh)", "description": "This file is a shell script that automates the installation process of a Linux image onto a chosen hard drive device. Functions include detecting available drives, allowing user selection, partitioning, formatting, copying files, configuring bootloaders, and preparing the system for reboot.", "external_files": ["/etc/udev/rules.d/automount.rules", "/etc/udev/scripts/mount*", "/proc/mounts", "/sys/block/*/device/vendor", "/sys/block/*/device/model", "/sys/block/*/device/uevent", "/dev/loop0", "/boot/grub/grub.cfg", "/boot/grub/device.map", "/boot/grub/menu.lst", "/run/media/$1/vmlinuz"], "external_methods": ["ls", "cat", "parted", "dd", "mkfs.ext3", "mount", "umount", "cp", "chmod", "grub-install", "reboot"], "published": ["PATH", "boot_size", "testfs_ratio", "hdnamelist", "live_dev_name", "TARGET_DEVICE_NAME", "device", "disk_size", "testfs_size", "rootfs_size", "rootfs_start", "rootfs_end", "testfs_start", "rootwait", "part_prefix", "bootfs", "rootfs", "testfs"], "classes": [], "methods": [], "calls": ["ls /sys/block/", "cat /sys/block/$hdname/device/vendor", "cat /sys/block/$hdname/device/model", "cat /sys/block/$hdname/device/uevent", "read answer", "dd if=/dev/zero of=/dev/${device} bs=512 count=2", "parted /dev/${device} mklabel msdos", "parted /dev/${device} mkpart primary 0% $boot_size", "parted /dev/${device} mkpart primary $rootfs_start $rootfs_end", "parted /dev/${device} mkpart primary $testfs_start 100%", "mkfs.ext3 -L \"boot\" $bootfs", "mkfs.ext3 -L \"rootfs\" $rootfs", "mkfs.ext3 -L \"testrootfs\" $testfs", "mount $rootfs /tgt_root", "mount -o rw,loop,noatime,nodiratime /run/media/$1/$2 /src_root", "cp -a /src_root/* /tgt_root", "umount /tgt_root", "umount /src_root", "mount $bootfs /boot", "cat >$GRUBCFG <<_EOF ...", "chmod 0444 $GRUBCFG", "grub-install /dev/${device}", "reboot -f"], "search-terms": ["install", "partition", "bootloader", "device detection", "filesystem"], "state": 2, "file_id": 1758, "knowledge_revision": 14907, "git_revision": "", "hash": "133525995367ade41d44be90f5511b46", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "openembedded-core/meta/recipes-core/initrdscripts/files/init-install-testfs.sh", "revision_history": [{"14907": ""}]}