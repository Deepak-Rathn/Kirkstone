{"is_source_file": true, "format": "C", "description": "This file implements functions for initializing, shutting down, and broadcasting property events within a specific software component. It manages a global event producer, ensures thread safety with mutex locks, and constructs event data in JSON format before broadcasting to listeners.", "external_files": ["icIpc/eventProducer.h", "propsMgr/propsService_event.h", "icLog/logging.h", "broadcastEvent.h", "common.h"], "external_methods": ["initEventProducer", "shutdownEventProducer", "broadcastEvent", "setEventId", "setEventTimeToNow", "create_cpePropertyEvent", "destroy_cpePropertyEvent", "encode_cpePropertyEvent_toJSON"], "published": ["startPropsEventProducer", "stopPropsEventProducer", "broadcastPropertyEvent"], "classes": [], "methods": [{"name": "void startPropsEventProducer()", "description": "Initializes the event producer if it has not been created yet, setting up communication port.", "scope": "", "scopeKind": ""}, {"name": "void stopPropsEventProducer()", "description": "Shuts down the event producer and releases associated resources.", "scope": "", "scopeKind": ""}, {"name": "void broadcastPropertyEvent(int eventValue,const char * key,const char * value,uint64_t version,propSource source)", "description": "Constructs a property event in JSON format and broadcasts it to registered listeners, handling mutex locking for thread safety.", "scope": "", "scopeKind": ""}], "calls": ["initEventProducer", "shutdownEventProducer", "broadcastEvent", "setEventId", "setEventTimeToNow", "create_cpePropertyEvent", "encode_cpePropertyEvent_toJSON", "cJSON_Delete", "destroy_cpePropertyEvent"], "search-terms": ["broadcastEvent.c", "property event", "initEventProducer", "PROPSSERVICE_EVENT_PORT_NUM", "mutex lock", "thread safety", "json encoding", "cpePropertyEvent", "propSource", "event broadcaster"], "state": 2, "file_id": 1249, "knowledge_revision": 14401, "git_revision": "", "ctags": [{"_type": "tag", "name": "EVENT_MTX", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/props/core/src/broadcastEvent.c", "pattern": "/^static pthread_mutex_t EVENT_MTX = PTHREAD_MUTEX_INITIALIZER;     \\/\\/ mutex for the event produ/", "file": true, "language": "C", "typeref": "typename:pthread_mutex_t", "kind": "variable"}, {"_type": "tag", "name": "broadcastPropertyEvent", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/props/core/src/broadcastEvent.c", "pattern": "/^void broadcastPropertyEvent(int eventValue, const char *key, const char *value, uint64_t version/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(int eventValue,const char * key,const char * value,uint64_t version,propSource source)"}, {"_type": "tag", "name": "producer", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/props/core/src/broadcastEvent.c", "pattern": "/^static EventProducer producer = NULL;$/", "file": true, "language": "C", "typeref": "typename:EventProducer", "kind": "variable"}, {"_type": "tag", "name": "startPropsEventProducer", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/props/core/src/broadcastEvent.c", "pattern": "/^void startPropsEventProducer()$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "stopPropsEventProducer", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/props/core/src/broadcastEvent.c", "pattern": "/^void stopPropsEventProducer()$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}], "hash": "f61c3bfcf2be0b732b1dac83a76ce8b3", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "components/opensource/zilker-sdk/source/services/props/core/src/broadcastEvent.c", "fields": [{"name": "pthread_mutex_t EVENT_MTX", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "EventProducer producer", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"14401": ""}]}