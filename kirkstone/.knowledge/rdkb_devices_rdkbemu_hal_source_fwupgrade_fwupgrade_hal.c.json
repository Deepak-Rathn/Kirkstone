{"is_source_file": true, "format": "C", "description": "This file is a C source code file implementing hardware abstraction layer (HAL) functions for firmware upgrade managing download URLs, download process, status, reboot procedures, and related utilities for an embedded system.", "external_files": ["fwupgrade_hal.h"], "external_methods": ["fwupgrade_hal_get_download_url", "fwupgrade_hal_util_get_syscmd_output"], "published": ["fwupgrade_hal_set_download_url", "fwupgrade_hal_get_download_url", "fwupgrade_hal_set_download_interface", "fwupgrade_hal_get_download_interface", "fwupgrade_hal_download", "fwupgrade_hal_get_download_status", "fwupgrade_hal_reboot_ready", "fwupgrade_hal_download_reboot_now", "fwupgrade_hal_update_and_factoryreset", "fwupgrade_hal_download_install"], "classes": [], "methods": [{"name": "INT fwupgrade_hal_util_get_syscmd_output(char * pCmd,char * pOutput,int iOutputSize)", "description": "Utility function to execute a system command and retrieve its output.", "scope": "", "scopeKind": ""}, {"name": "INT download_image_from_server(char * httpUrl,char * fileName)", "description": "Downloads firmware image from the specified HTTP URL and saves it locally.", "scope": "", "scopeKind": ""}, {"name": "INT fwupgrade_hal_set_download_url(char * pUrl,char * pfilename)", "description": "Sets the firmware download URL and filename, storing them in configuration files.", "scope": "", "scopeKind": ""}, {"name": "INT fwupgrade_hal_get_download_url(char * pUrl,char * pfilename)", "description": "Retrieves the previously stored download URL and filename from configuration files.", "scope": "", "scopeKind": ""}, {"name": "INT fwupgrade_hal_set_download_interface(unsigned int interface)", "description": "Sets the network interface (wan0 or erouter0) for firmware download.", "scope": "", "scopeKind": ""}, {"name": "INT fwupgrade_hal_get_download_interface(unsigned int * pinterface)", "description": "Retrieves the network interface configured for firmware download.", "scope": "", "scopeKind": ""}, {"name": "INT fwupgrade_hal_download()", "description": "Coordinates the process to download firmware via HTTP, including hostname resolution and invoking the download utility.", "scope": "", "scopeKind": ""}, {"name": "INT fwupgrade_hal_get_download_status()", "description": "Checks the status of the current firmware download process.", "scope": "", "scopeKind": ""}, {"name": "INT fwupgrade_hal_reboot_ready(ULONG * pValue)", "description": "Checks if the system is ready to reboot after firmware upgrade.", "scope": "", "scopeKind": ""}, {"name": "INT fwupgrade_hal_download_reboot_now()", "description": "Sets reboot reasons, updates reboot counters, and reboots the device to apply firmware update.", "scope": "", "scopeKind": ""}, {"name": "INT fwupgrade_hal_update_and_factoryreset()", "description": "Performs firmware download and initiates device reboot for factory reset.", "scope": "", "scopeKind": ""}, {"name": "INT fwupgrade_hal_download_install(const char * url)", "description": "Stub function for downloading and installing firmware from a given URL.", "scope": "", "scopeKind": ""}], "calls": ["fwupgrade_hal_get_download_url", "fwupgrade_hal_util_get_syscmd_output", "system", "gethostbyname", "inet_ntoa", "strchr", "strcpy", "strncpy", "strcmp", "strncmp", "system"], "search-terms": ["fwupgrade_hal", "download_url", "download_status", "reboot", "firmware download", "firmware upgrade", "HTTP download", "device reboot", "factory reset", "network interface"], "state": 2, "file_id": 12479, "knowledge_revision": 25383, "git_revision": "", "ctags": [{"_type": "tag", "name": "HTTP_DWNLD_CONFIG_FILE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/devices/rdkbemu/hal/source/fwupgrade/fwupgrade_hal.c", "pattern": "/^#define HTTP_DWNLD_CONFIG_FILE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "HTTP_DWNLD_IF_FILE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/devices/rdkbemu/hal/source/fwupgrade/fwupgrade_hal.c", "pattern": "/^#define HTTP_DWNLD_IF_FILE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "REBOOT_REASON_SW_UPGRADE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/devices/rdkbemu/hal/source/fwupgrade/fwupgrade_hal.c", "pattern": "/^#define REBOOT_REASON_SW_UPGRADE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "download_image_from_server", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/devices/rdkbemu/hal/source/fwupgrade/fwupgrade_hal.c", "pattern": "/^static INT download_image_from_server(char *httpUrl, char* fileName)$/", "file": true, "language": "C", "typeref": "typename:INT", "kind": "function", "signature": "(char * httpUrl,char * fileName)"}, {"_type": "tag", "name": "fwupgrade_hal_download", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/devices/rdkbemu/hal/source/fwupgrade/fwupgrade_hal.c", "pattern": "/^INT fwupgrade_hal_download ()$/", "language": "C", "typeref": "typename:INT", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "fwupgrade_hal_download_install", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/devices/rdkbemu/hal/source/fwupgrade/fwupgrade_hal.c", "pattern": "/^INT fwupgrade_hal_download_install(const char *url)$/", "language": "C", "typeref": "typename:INT", "kind": "function", "signature": "(const char * url)"}, {"_type": "tag", "name": "fwupgrade_hal_download_reboot_now", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/devices/rdkbemu/hal/source/fwupgrade/fwupgrade_hal.c", "pattern": "/^INT fwupgrade_hal_download_reboot_now()$/", "language": "C", "typeref": "typename:INT", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "fwupgrade_hal_get_download_interface", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/devices/rdkbemu/hal/source/fwupgrade/fwupgrade_hal.c", "pattern": "/^INT fwupgrade_hal_get_download_interface(unsigned int* pinterface)$/", "language": "C", "typeref": "typename:INT", "kind": "function", "signature": "(unsigned int * pinterface)"}, {"_type": "tag", "name": "fwupgrade_hal_get_download_status", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/devices/rdkbemu/hal/source/fwupgrade/fwupgrade_hal.c", "pattern": "/^INT fwupgrade_hal_get_download_status()$/", "language": "C", "typeref": "typename:INT", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "fwupgrade_hal_get_download_url", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/devices/rdkbemu/hal/source/fwupgrade/fwupgrade_hal.c", "pattern": "/^INT fwupgrade_hal_get_download_url (char *pUrl, char* pfilename)$/", "language": "C", "typeref": "typename:INT", "kind": "function", "signature": "(char * pUrl,char * pfilename)"}, {"_type": "tag", "name": "fwupgrade_hal_reboot_ready", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/devices/rdkbemu/hal/source/fwupgrade/fwupgrade_hal.c", "pattern": "/^INT fwupgrade_hal_reboot_ready(ULONG *pValue)$/", "language": "C", "typeref": "typename:INT", "kind": "function", "signature": "(ULONG * pValue)"}, {"_type": "tag", "name": "fwupgrade_hal_set_download_interface", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/devices/rdkbemu/hal/source/fwupgrade/fwupgrade_hal.c", "pattern": "/^INT fwupgrade_hal_set_download_interface(unsigned int interface)$/", "language": "C", "typeref": "typename:INT", "kind": "function", "signature": "(unsigned int interface)"}, {"_type": "tag", "name": "fwupgrade_hal_set_download_url", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/devices/rdkbemu/hal/source/fwupgrade/fwupgrade_hal.c", "pattern": "/^INT fwupgrade_hal_set_download_url (char* pUrl, char* pfilename)$/", "language": "C", "typeref": "typename:INT", "kind": "function", "signature": "(char * pUrl,char * pfilename)"}, {"_type": "tag", "name": "fwupgrade_hal_update_and_factoryreset", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/devices/rdkbemu/hal/source/fwupgrade/fwupgrade_hal.c", "pattern": "/^INT fwupgrade_hal_update_and_factoryreset()$/", "language": "C", "typeref": "typename:INT", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "fwupgrade_hal_util_get_syscmd_output", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/devices/rdkbemu/hal/source/fwupgrade/fwupgrade_hal.c", "pattern": "/^static INT fwupgrade_hal_util_get_syscmd_output( char *pCmd, char *pOutput, int iOutputSize )$/", "file": true, "language": "C", "typeref": "typename:INT", "kind": "function", "signature": "(char * pCmd,char * pOutput,int iOutputSize)"}, {"_type": "tag", "name": "gDwdInProgressFlag", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/devices/rdkbemu/hal/source/fwupgrade/fwupgrade_hal.c", "pattern": "/^static int gDwdInProgressFlag = 0; \\/* flag to set dload inprogress *\\/$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "variable"}], "hash": "55fbc943c009ccb480f13d36021b02eb", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/devices/rdkbemu/hal/source/fwupgrade/fwupgrade_hal.c", "fields": [{"name": "int gDwdInProgressFlag", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"25383": ""}]}