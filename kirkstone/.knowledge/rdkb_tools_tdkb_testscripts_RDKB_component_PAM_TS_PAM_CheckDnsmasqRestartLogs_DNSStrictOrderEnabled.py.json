{"is_source_file": true, "format": "Python", "description": "This source file contains a test script for validating the DNSStrictOrder feature by checking logs during dnsmasq restarts when the feature is enabled. It includes functions for getting and setting system parameters, managing dnsmasq process, and parsing logs to validate behavior.", "external_files": ["tdk_platform_utility.sh", "/rdklogs/logs/Consolelog.txt.0"], "external_methods": ["tdklib.TDKScriptingLibrary", "sleep"], "published": ["getDNSStrict", "setDNSStrict", "getLogFileTotalLinesCount", "checkDnsmasqPID", "killDnsmasq_CheckLogs"], "classes": [], "methods": [{"name": "getDNSStrict(pamobj, step)", "description": "Retrieves the current value of the DNSStrictOrder Enable parameter using TDK scripting library.", "scope": "", "scopeKind": ""}, {"name": "setDNSStrict(pamobj, setValue, step)", "description": "Sets the DNSStrictOrder Enable parameter to the specified value using TDK scripting library.", "scope": "", "scopeKind": ""}, {"name": "getLogFileTotalLinesCount(obj, step)", "description": "Counts the number of log lines containing a specific string in the Consolelog.txt.0 file.", "scope": "", "scopeKind": ""}, {"name": "checkDnsmasqPID(obj)", "description": "Checks if dnsmasq process is running and retrieves its PID.", "scope": "", "scopeKind": ""}, {"name": "killDnsmasq_CheckLogs(obj, step)", "description": "Kills the dnsmasq process and verifies its restart, also checks related logs for validation.", "scope": "", "scopeKind": ""}], "calls": ["pam_GetParameterValues", "pam_SetParameterValues", "ExecuteCmd", "sh /tdk_platform_utility.sh checkProcess dnsmasq", "grep -ire \"RFC DNSTRICT ORDER is not defined or Enabled\"  /rdklogs/logs/Consolelog.txt.0 | wc -l", "kill -9 <dnsmasq_pid>"], "search-terms": ["DNSStrictOrder", "dnsmasq restart", "Consolelog.txt.0", "RFC DNSTRICT ORDER", "pam_GetParameterValues", "pam_SetParameterValues"], "state": 2, "file_id": 5185, "knowledge_revision": 18307, "git_revision": "", "ctags": [{"_type": "tag", "name": "actualresult", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderEnabled.py", "pattern": "/^                        actualresult,tdkTestObj = setDNSStrict(pamobj, setValue, step);$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "actualresult", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderEnabled.py", "pattern": "/^                actualresult,tdkTestObj,final_DNSStrict = getDNSStrict(pamobj, step);$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "actualresult", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderEnabled.py", "pattern": "/^            actualresult,tdkTestObj = setDNSStrict(pamobj, setValue, step);$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "actualresult", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderEnabled.py", "pattern": "/^    actualresult,tdkTestObj,initial_DNSStrict = getDNSStrict(pamobj, step);$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "checkDnsmasqPID", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderEnabled.py", "pattern": "/^def checkDnsmasqPID(obj):$/", "language": "Python", "kind": "function", "signature": "(obj)"}, {"_type": "tag", "name": "expectedresult", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderEnabled.py", "pattern": "/^    expectedresult=\"SUCCESS\";$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "final_DNSStrict", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderEnabled.py", "pattern": "/^                actualresult,tdkTestObj,final_DNSStrict = getDNSStrict(pamobj, step);$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "getDNSStrict", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderEnabled.py", "pattern": "/^def getDNSStrict(pamobj, step):$/", "language": "Python", "kind": "function", "signature": "(pamobj, step)"}, {"_type": "tag", "name": "getLogFileTotalLinesCount", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderEnabled.py", "pattern": "/^def getLogFileTotalLinesCount(obj, step):$/", "language": "Python", "kind": "function", "signature": "(obj, step)"}, {"_type": "tag", "name": "initial_DNSStrict", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderEnabled.py", "pattern": "/^    actualresult,tdkTestObj,initial_DNSStrict = getDNSStrict(pamobj, step);$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "ip", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderEnabled.py", "pattern": "/^ip = <ipaddress>$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "killDnsmasq_CheckLogs", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderEnabled.py", "pattern": "/^def killDnsmasq_CheckLogs(obj, step):$/", "language": "Python", "kind": "function", "signature": "(obj, step)"}, {"_type": "tag", "name": "loadmodulestatus", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderEnabled.py", "pattern": "/^loadmodulestatus =obj.getLoadModuleResult();$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "loadmodulestatus1", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderEnabled.py", "pattern": "/^loadmodulestatus1 =pamobj.getLoadModuleResult();$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "obj", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderEnabled.py", "pattern": "/^obj = tdklib.TDKScriptingLibrary(\"sysutil\",\"1\");$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "pamobj", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderEnabled.py", "pattern": "/^pamobj = tdklib.TDKScriptingLibrary(\"pam\",\"RDKB\");$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "port", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderEnabled.py", "pattern": "/^port = <port>$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "setDNSStrict", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderEnabled.py", "pattern": "/^def setDNSStrict(pamobj, setValue, step):$/", "language": "Python", "kind": "function", "signature": "(pamobj, setValue, step)"}, {"_type": "tag", "name": "setValue", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderEnabled.py", "pattern": "/^                        setValue = \"false\";$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "setValue", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderEnabled.py", "pattern": "/^            setValue = \"true\";$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "step", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderEnabled.py", "pattern": "/^                        step = killDnsmasq_CheckLogs(obj, step);$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "step", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderEnabled.py", "pattern": "/^                        step = step + 1;$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "step", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderEnabled.py", "pattern": "/^                step = step + 1;$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "step", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderEnabled.py", "pattern": "/^            step = killDnsmasq_CheckLogs(obj, step);$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "step", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderEnabled.py", "pattern": "/^            step = step + 1;$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "step", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderEnabled.py", "pattern": "/^    step = 1;$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "tdkTestObj", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderEnabled.py", "pattern": "/^                        actualresult,tdkTestObj = setDNSStrict(pamobj, setValue, step);$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "tdkTestObj", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderEnabled.py", "pattern": "/^                actualresult,tdkTestObj,final_DNSStrict = getDNSStrict(pamobj, step);$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "tdkTestObj", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderEnabled.py", "pattern": "/^            actualresult,tdkTestObj = setDNSStrict(pamobj, setValue, step);$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "tdkTestObj", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderEnabled.py", "pattern": "/^    actualresult,tdkTestObj,initial_DNSStrict = getDNSStrict(pamobj, step);$/", "language": "Python", "kind": "variable"}], "hash": "617b681de20bf9672e6d7ac4213175c6", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/tools/tdkb/testscripts/RDKB/component/PAM/TS_PAM_CheckDnsmasqRestartLogs_DNSStrictOrderEnabled.py", "fields": [{"name": "actualresult,tdkTestObj = setDNSStrict(pamobj, setValue, step);", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "actualresult,tdkTestObj,final_DNSStrict = getDNSStrict(pamobj, step);", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "actualresult,tdkTestObj,initial_DNSStrict = getDNSStrict(pamobj, step);", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "expectedresult=\"SUCCESS\";", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ip = <ipaddress>", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "loadmodulestatus =obj.getLoadModuleResult();", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "loadmodulestatus1 =pamobj.getLoadModuleResult();", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "obj = tdklib.TDKScriptingLibrary(\"sysutil\",\"1\");", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pamobj = tdklib.TDKScriptingLibrary(\"pam\",\"RDKB\");", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "port = <port>", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "setValue = \"false\";", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "setValue = \"true\";", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "step = killDnsmasq_CheckLogs(obj, step);", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "step = step + 1;", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "step = 1;", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"18307": ""}]}