{"is_source_file": true, "format": "Python", "description": "This Python source file contains test cases for the 'devtool' command-line utility, part of the oeqa (OpenEmbedded QA) framework. It defines test classes that set up test environments, execute 'devtool' commands such as add, build, reset, package, and validate their behavior, including interactions with remote SDK updates via HTTP servers.", "external_files": ["oeqa.sdkext.case", "oeqa.utils.httpserver", "oeqa.utils.subprocesstweak"], "external_methods": ["errors_have_output()", "shutil.copytree", "subprocess.check_output", "shutil.rmtree", "os.path.join", "os.path.exists", "os.mkdir"], "published": ["DevtoolTest", "SdkUpdateTest"], "classes": [{"name": "DevtoolTest", "description": "Contains setup routines and various test cases for verifying 'devtool' functionalities such as build, add, reset, and build with different configurations, including CMake, Autotools, kernel modules, and Node.js packages."}, {"name": "SdkUpdateTest", "description": "Tests SDK update functionality over HTTP, including setup of a mock HTTP server, invoking 'devtool sdk-update', and cleanup procedures."}], "methods": [{"name": "setUpClass(cls)", "description": "Initializes test environment by copying sample applications to designated directories and initializing git repositories, for 'DevtoolTest'. Sets up an HTTP server for SDK update tests in 'SdkUpdateTest'.", "scope": "DevtoolTest", "scopeKind": "class"}, {"name": "tearDownClass(cls)", "description": "Cleans up environment by removing created directories and stopping servers.", "scope": "DevtoolTest", "scopeKind": "class"}, {"name": "_test_devtool_build(self, directory)", "description": "Helper method to add an application via 'devtool' and build it, then reset the environment.", "scope": "DevtoolTest", "scopeKind": "class"}, {"name": "_test_devtool_build_package(self, directory)", "description": "Helper method to add an application via 'devtool' and create a package, then reset.", "scope": "DevtoolTest", "scopeKind": "class"}, {"name": "test_devtool_location(self)", "description": "Validates that the 'devtool' command is pointing to the expected SDK directory.", "scope": "DevtoolTest", "scopeKind": "class"}, {"name": "test_devtool_add_reset(self)", "description": "Tests adding a project with 'devtool' and then resetting it.", "scope": "DevtoolTest", "scopeKind": "class"}, {"name": "test_devtool_build_make(self)", "description": "Tests building a project using make via 'devtool'.", "scope": "DevtoolTest", "scopeKind": "class"}, {"name": "test_devtool_build_esdk_package(self)", "description": "Tests building an eSDK package.", "scope": "DevtoolTest", "scopeKind": "class"}, {"name": "test_devtool_build_cmake(self)", "description": "Tests building a CMake-based project.", "scope": "DevtoolTest", "scopeKind": "class"}, {"name": "test_extend_autotools_recipe_creation(self)", "description": "Tests creating a recipe for an autotools-based project.", "scope": "DevtoolTest", "scopeKind": "class"}, {"name": "test_devtool_kernelmodule(self)", "description": "Tests adding and building a kernel module project.", "scope": "DevtoolTest", "scopeKind": "class"}, {"name": "test_recipes_for_nodejs(self)", "description": "Tests handling of Node.js package recipes.", "scope": "DevtoolTest", "scopeKind": "class"}, {"name": "test_sdk_update_http(self)", "description": "Tests the 'devtool sdk-update' command against a local HTTP server.", "scope": "SdkUpdateTest", "scopeKind": "class"}, {"name": "setUpClass(self)", "scope": "SdkUpdateTest", "scopeKind": "class", "description": "unavailable"}, {"name": "tearDownClass(self)", "scope": "SdkUpdateTest", "scopeKind": "class", "description": "unavailable"}], "calls": ["errors_have_output()", "shutil.copytree()", "subprocess.check_output()", "shutil.rmtree()", "os.path.join()", "os.path.exists()", "os.mkdir()", "self._run()", "self.assertEqual()", "self.http_service.start()", "self.http_service.stop()"], "search-terms": ["devtool", "SDK update", "oeqa", "test setup", "automatic build", "git init"], "state": 2, "file_id": 1861, "knowledge_revision": 15015, "git_revision": "", "ctags": [{"_type": "tag", "name": "DevtoolTest", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/sdkext/cases/devtool.py", "pattern": "/^class DevtoolTest(OESDKExtTestCase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "SdkUpdateTest", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/sdkext/cases/devtool.py", "pattern": "/^class SdkUpdateTest(OESDKExtTestCase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_test_devtool_build", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/sdkext/cases/devtool.py", "pattern": "/^    def _test_devtool_build(self, directory):$/", "language": "Python", "kind": "member", "signature": "(self, directory)", "scope": "DevtoolTest", "scopeKind": "class"}, {"_type": "tag", "name": "_test_devtool_build_package", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/sdkext/cases/devtool.py", "pattern": "/^    def _test_devtool_build_package(self, directory):$/", "language": "Python", "kind": "member", "signature": "(self, directory)", "scope": "DevtoolTest", "scopeKind": "class"}, {"_type": "tag", "name": "setUpClass", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/sdkext/cases/devtool.py", "pattern": "/^    def setUpClass(cls):$/", "language": "Python", "kind": "member", "signature": "(cls)", "scope": "DevtoolTest", "scopeKind": "class"}, {"_type": "tag", "name": "setUpClass", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/sdkext/cases/devtool.py", "pattern": "/^    def setUpClass(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "SdkUpdateTest", "scopeKind": "class"}, {"_type": "tag", "name": "tearDownClass", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/sdkext/cases/devtool.py", "pattern": "/^    def tearDownClass(cls):$/", "language": "Python", "kind": "member", "signature": "(cls)", "scope": "DevtoolTest", "scopeKind": "class"}, {"_type": "tag", "name": "tearDownClass", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/sdkext/cases/devtool.py", "pattern": "/^    def tearDownClass(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "SdkUpdateTest", "scopeKind": "class"}, {"_type": "tag", "name": "test_devtool_add_reset", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/sdkext/cases/devtool.py", "pattern": "/^    def test_devtool_add_reset(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "DevtoolTest", "scopeKind": "class"}, {"_type": "tag", "name": "test_devtool_build_cmake", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/sdkext/cases/devtool.py", "pattern": "/^    def test_devtool_build_cmake(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "DevtoolTest", "scopeKind": "class"}, {"_type": "tag", "name": "test_devtool_build_esdk_package", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/sdkext/cases/devtool.py", "pattern": "/^    def test_devtool_build_esdk_package(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "DevtoolTest", "scopeKind": "class"}, {"_type": "tag", "name": "test_devtool_build_make", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/sdkext/cases/devtool.py", "pattern": "/^    def test_devtool_build_make(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "DevtoolTest", "scopeKind": "class"}, {"_type": "tag", "name": "test_devtool_kernelmodule", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/sdkext/cases/devtool.py", "pattern": "/^    def test_devtool_kernelmodule(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "DevtoolTest", "scopeKind": "class"}, {"_type": "tag", "name": "test_devtool_location", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/sdkext/cases/devtool.py", "pattern": "/^    def test_devtool_location(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "DevtoolTest", "scopeKind": "class"}, {"_type": "tag", "name": "test_extend_autotools_recipe_creation", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/sdkext/cases/devtool.py", "pattern": "/^    def test_extend_autotools_recipe_creation(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "DevtoolTest", "scopeKind": "class"}, {"_type": "tag", "name": "test_recipes_for_nodejs", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/sdkext/cases/devtool.py", "pattern": "/^    def test_recipes_for_nodejs(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "DevtoolTest", "scopeKind": "class"}, {"_type": "tag", "name": "test_sdk_update_http", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/sdkext/cases/devtool.py", "pattern": "/^    def test_sdk_update_http(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "SdkUpdateTest", "scopeKind": "class"}], "hash": "9b1eff7c27962b84c7d4ed72e07866f2", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "openembedded-core/meta/lib/oeqa/sdkext/cases/devtool.py", "revision_history": [{"15015": ""}]}