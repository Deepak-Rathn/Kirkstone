{"is_source_file": true, "format": "Python", "description": "This source file contains a test case class 'RebuildFromSState' that extends 'SStateBase' and performs self-tests related to rebuilding build artifacts from sstate-cache in a Yocto/OpenEmbedded build environment. It includes methods to set up build directories, copy configuration files, manage sstate-cache trees, and execute rebuild tests.", "external_files": ["oeqa.utils.ftools", "oeqa.utils.commands", "oeqa.selftest.cases.sstate"], "external_methods": ["runCmd", "bitbake", "get_bb_var"], "published": ["RebuildFromSState"], "classes": [{"name": "RebuildFromSState", "description": "A test case class for verifying rebuilds from sstate-cache in the Yocto build process."}], "methods": [{"name": "setUpClass(self)", "description": "Sets up class-level fixtures, primarily initializing the build directory path.", "scope": "RebuildFromSState", "scopeKind": "class"}, {"name": "get_dep_targets(self, primary_targets)", "description": "Retrieves dependent build targets based on primary targets using bitbake.", "scope": "RebuildFromSState", "scopeKind": "class"}, {"name": "configure_builddir(self, builddir)", "description": "Creates and configures a build directory with necessary configuration files for building.", "scope": "RebuildFromSState", "scopeKind": "class"}, {"name": "hardlink_tree(self, src, dst)", "description": "Creates hard links to files from a source sstate-cache tree into a destination directory.", "scope": "RebuildFromSState", "scopeKind": "class"}, {"name": "run_test_sstate_rebuild(self, primary_targets, relocate=False, rebuild_dependencies=False)", "description": "Performs a full rebuild test workflow including cleaning, building, and verifying recipes.", "scope": "RebuildFromSState", "scopeKind": "class"}, {"name": "test_sstate_relocation(self)", "description": "Test method to verify sstate-cache relocation rebuild scenario.", "scope": "RebuildFromSState", "scopeKind": "class"}, {"name": "test_sstate_rebuild(self)", "description": "Test method to verify standard sstate-cache rebuild scenario.", "scope": "RebuildFromSState", "scopeKind": "class"}], "calls": ["oeqa.utils.commands.runCmd", "oeqa.utils.commands.bitbake", "oeqa.utils.commands.get_bb_var"], "search-terms": ["RebuildFromSState", "sstate-cache", "bitbake", "auto.conf", "local.conf", "bblayers.conf", "rebuild dependencies", "selftest", "Yocto build test"], "state": 2, "file_id": 1904, "knowledge_revision": 15048, "git_revision": "", "ctags": [{"_type": "tag", "name": "RebuildFromSState", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/_sstatetests_noauto.py", "pattern": "/^class RebuildFromSState(SStateBase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "configure_builddir", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/_sstatetests_noauto.py", "pattern": "/^    def configure_builddir(self, builddir):$/", "language": "Python", "kind": "member", "signature": "(self, builddir)", "scope": "RebuildFromSState", "scopeKind": "class"}, {"_type": "tag", "name": "ftools", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/_sstatetests_noauto.py", "pattern": "/^import oeqa.utils.ftools as ftools$/", "language": "Python", "kind": "namespace", "nameref": "module:oeqa.utils.ftools"}, {"_type": "tag", "name": "get_dep_targets", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/_sstatetests_noauto.py", "pattern": "/^    def get_dep_targets(self, primary_targets):$/", "language": "Python", "kind": "member", "signature": "(self, primary_targets)", "scope": "RebuildFromSState", "scopeKind": "class"}, {"_type": "tag", "name": "hardlink_tree", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/_sstatetests_noauto.py", "pattern": "/^    def hardlink_tree(self, src, dst):$/", "language": "Python", "kind": "member", "signature": "(self, src, dst)", "scope": "RebuildFromSState", "scopeKind": "class"}, {"_type": "tag", "name": "run_test_sstate_rebuild", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/_sstatetests_noauto.py", "pattern": "/^    def run_test_sstate_rebuild(self, primary_targets, relocate=False, rebuild_dependencies=Fals/", "language": "Python", "kind": "member", "signature": "(self, primary_targets, relocate=False, rebuild_dependencies=False)", "scope": "RebuildFromSState", "scopeKind": "class"}, {"_type": "tag", "name": "setUpClass", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/_sstatetests_noauto.py", "pattern": "/^    def setUpClass(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "RebuildFromSState", "scopeKind": "class"}, {"_type": "tag", "name": "test_sstate_rebuild", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/_sstatetests_noauto.py", "pattern": "/^    def test_sstate_rebuild(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "RebuildFromSState", "scopeKind": "class"}, {"_type": "tag", "name": "test_sstate_relocation", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/_sstatetests_noauto.py", "pattern": "/^    def test_sstate_relocation(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "RebuildFromSState", "scopeKind": "class"}], "hash": "16090e8b07104aa27dc56fc82cd173d1", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "openembedded-core/meta/lib/oeqa/selftest/cases/_sstatetests_noauto.py", "revision_history": [{"15048": ""}]}