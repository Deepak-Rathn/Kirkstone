{"is_source_file": true, "format": "Python", "description": "This file contains Python code implementing concurrency testing utilities for OpenEmbedded/OEQA, including custom test suite classes, threading management, and integration with subunit and testtools for parallel test execution.", "external_files": ["oeqa.utils.commands", "subunit", "testtools", "bb.utils", "oe.path"], "external_methods": ["get_test_layer", "ProtocolTestCase", "TestProtocolClient", "AutoTimingTestResultDecorator", "iterate_tests"], "published": ["ConcurrentTestSuite", "fork_for_tests", "partition_tests"], "classes": [{"name": "BBThreadsafeForwardingResult", "description": "A thread-safe wrapper around testresult that adds timing and progress info during test execution."}, {"name": "ProxyTestResult", "description": "A proxy class for test result objects to modify add* calls, such as counting failures."}, {"name": "ExtraResultsDecoderTestResult", "description": "A subclass of ProxyTestResult that decodes extra results content from tests."}, {"name": "ExtraResultsEncoderTestResult", "description": "A subclass of ProxyTestResult that encodes extra results content into test results."}, {"name": "dummybuf", "description": "A dummy buffer class to provide a writable buffer object for stdout/stderr with a .buffer attribute."}, {"name": "ConcurrentTestSuite", "description": "A unittest TestSuite subclass that runs tests concurrently across multiple processes."}], "methods": [{"name": "fork_for_tests(concurrency_num, suite)", "description": "Splits a test suite into multiple processes for parallel execution, handling process forking and setup.", "scope": "", "scopeKind": ""}, {"name": "partition_tests(suite, count)", "description": "Divides tests into specified number of partitions while keeping tests from the same class together.", "scope": "", "scopeKind": ""}, {"name": "__getattr__(self, attr)", "scope": "ProxyTestResult", "scopeKind": "class", "description": "unavailable"}, {"name": "__init__(self, suite, processes, setupfunc, removefunc)", "scope": "ConcurrentTestSuite", "scopeKind": "class", "description": "unavailable"}, {"name": "__init__(self, target)", "scope": "ProxyTestResult", "scopeKind": "class", "description": "unavailable"}, {"name": "__init__(self, target, semaphore, threadnum, totalinprocess, totaltests, output, finalresult)", "scope": "BBThreadsafeForwardingResult", "scopeKind": "class", "description": "unavailable"}, {"name": "__init__(self, parent)", "scope": "dummybuf", "scopeKind": "class", "description": "unavailable"}, {"name": "_addResult(self, method, test, *args, exception = False, **kwargs)", "scope": "ProxyTestResult", "scopeKind": "class", "description": "unavailable"}, {"name": "_add_result_with_semaphore(self, method, test, *args, **kwargs)", "scope": "BBThreadsafeForwardingResult", "scopeKind": "class", "description": "unavailable"}, {"name": "_run_test(self, testserver, process_result, queue)", "scope": "ConcurrentTestSuite", "scopeKind": "class", "description": "unavailable"}, {"name": "addError(self, test, err = None, **kwargs)", "scope": "ProxyTestResult", "scopeKind": "class", "description": "unavailable"}, {"name": "addExpectedFailure(self, test, err = None, **kwargs)", "scope": "ProxyTestResult", "scopeKind": "class", "description": "unavailable"}, {"name": "addFailure(self, test, err = None, **kwargs)", "scope": "ProxyTestResult", "scopeKind": "class", "description": "unavailable"}, {"name": "addSuccess(self, test, **kwargs)", "scope": "ProxyTestResult", "scopeKind": "class", "description": "unavailable"}, {"name": "addUnexpectedSuccess(self, test, **kwargs)", "scope": "ProxyTestResult", "scopeKind": "class", "description": "unavailable"}, {"name": "extras()", "scope": "ExtraResultsEncoderTestResult._addResult", "scopeKind": "member", "description": "unavailable"}, {"name": "outSideTestaddError(self, offset, line)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "outSideTestaddSkip(self, offset, line)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "run(self, result)", "scope": "ConcurrentTestSuite", "scopeKind": "class", "description": "unavailable"}, {"name": "wasSuccessful(self)", "scope": "ProxyTestResult", "scopeKind": "class", "description": "unavailable"}, {"name": "write(self, data)", "scope": "dummybuf", "scopeKind": "class", "description": "unavailable"}], "calls": ["os.fork", "os.pipe", "os.close", "os.dup2", "os.getpid", "subunit.RemotedTestCase", "traceback.format_exc", "sys.stderr.write", "sys.stdout.flush", "sys.stderr.flush", "subunit._OutSideTest.addError", "subunit._OutSideTest.addSkip"], "search-terms": ["concurrency", "parallel test execution", "test suite", "subunit", "testtools", "fork", "threadsafe", "OEQA", "OpenEmbedded test utils"], "state": 2, "file_id": 2034, "knowledge_revision": 15176, "git_revision": "", "ctags": [{"_type": "tag", "name": "BBThreadsafeForwardingResult", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/core/utils/concurrencytest.py", "pattern": "/^class BBThreadsafeForwardingResult(ThreadsafeForwardingResult):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ConcurrentTestSuite", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/core/utils/concurrencytest.py", "pattern": "/^class ConcurrentTestSuite(unittest.TestSuite):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ExtraResultsDecoderTestResult", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/core/utils/concurrencytest.py", "pattern": "/^class ExtraResultsDecoderTestResult(ProxyTestResult):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ExtraResultsEncoderTestResult", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/core/utils/concurrencytest.py", "pattern": "/^class ExtraResultsEncoderTestResult(ProxyTestResult):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ProxyTestResult", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/core/utils/concurrencytest.py", "pattern": "/^class ProxyTestResult:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__getattr__", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/core/utils/concurrencytest.py", "pattern": "/^    def __getattr__(self, attr):$/", "language": "Python", "kind": "member", "signature": "(self, attr)", "scope": "ProxyTestResult", "scopeKind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/core/utils/concurrencytest.py", "pattern": "/^    def __init__(self, suite, processes, setupfunc, removefunc):$/", "language": "Python", "kind": "member", "signature": "(self, suite, processes, setupfunc, removefunc)", "scope": "ConcurrentTestSuite", "scopeKind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/core/utils/concurrencytest.py", "pattern": "/^    def __init__(self, target):$/", "language": "Python", "kind": "member", "signature": "(self, target)", "scope": "ProxyTestResult", "scopeKind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/core/utils/concurrencytest.py", "pattern": "/^    def __init__(self, target, semaphore, threadnum, totalinprocess, totaltests, output, finalre/", "language": "Python", "kind": "member", "signature": "(self, target, semaphore, threadnum, totalinprocess, totaltests, output, finalresult)", "scope": "BBThreadsafeForwardingResult", "scopeKind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/core/utils/concurrencytest.py", "pattern": "/^   def __init__(self, parent):$/", "language": "Python", "kind": "member", "signature": "(self, parent)", "scope": "dummybuf", "scopeKind": "class"}, {"_type": "tag", "name": "_addResult", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/core/utils/concurrencytest.py", "pattern": "/^    def _addResult(self, method, test, *args, exception = False, **kwargs):$/", "language": "Python", "kind": "member", "signature": "(self, method, test, *args, exception = False, **kwargs)", "scope": "ExtraResultsDecoderTestResult", "scopeKind": "class"}, {"_type": "tag", "name": "_addResult", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/core/utils/concurrencytest.py", "pattern": "/^    def _addResult(self, method, test, *args, exception = False, **kwargs):$/", "language": "Python", "kind": "member", "signature": "(self, method, test, *args, exception = False, **kwargs)", "scope": "ExtraResultsEncoderTestResult", "scopeKind": "class"}, {"_type": "tag", "name": "_addResult", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/core/utils/concurrencytest.py", "pattern": "/^    def _addResult(self, method, test, *args, exception = False, **kwargs):$/", "language": "Python", "kind": "member", "signature": "(self, method, test, *args, exception = False, **kwargs)", "scope": "ProxyTestResult", "scopeKind": "class"}, {"_type": "tag", "name": "_add_result_with_semaphore", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/core/utils/concurrencytest.py", "pattern": "/^    def _add_result_with_semaphore(self, method, test, *args, **kwargs):$/", "language": "Python", "kind": "member", "signature": "(self, method, test, *args, **kwargs)", "scope": "BBThreadsafeForwardingResult", "scopeKind": "class"}, {"_type": "tag", "name": "_all__", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/core/utils/concurrencytest.py", "pattern": "/^_all__ = [$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_run_test", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/core/utils/concurrencytest.py", "pattern": "/^    def _run_test(self, testserver, process_result, queue):$/", "language": "Python", "kind": "member", "signature": "(self, testserver, process_result, queue)", "scope": "ConcurrentTestSuite", "scopeKind": "class"}, {"_type": "tag", "name": "addError", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/core/utils/concurrencytest.py", "pattern": "/^    def addError(self, test, err = None, **kwargs):$/", "language": "Python", "kind": "member", "signature": "(self, test, err = None, **kwargs)", "scope": "ProxyTestResult", "scopeKind": "class"}, {"_type": "tag", "name": "addExpectedFailure", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/core/utils/concurrencytest.py", "pattern": "/^    def addExpectedFailure(self, test, err = None, **kwargs):$/", "language": "Python", "kind": "member", "signature": "(self, test, err = None, **kwargs)", "scope": "ProxyTestResult", "scopeKind": "class"}, {"_type": "tag", "name": "addFailure", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/core/utils/concurrencytest.py", "pattern": "/^    def addFailure(self, test, err = None, **kwargs):$/", "language": "Python", "kind": "member", "signature": "(self, test, err = None, **kwargs)", "scope": "ProxyTestResult", "scopeKind": "class"}, {"_type": "tag", "name": "addSuccess", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/core/utils/concurrencytest.py", "pattern": "/^    def addSuccess(self, test, **kwargs):$/", "language": "Python", "kind": "member", "signature": "(self, test, **kwargs)", "scope": "ProxyTestResult", "scopeKind": "class"}, {"_type": "tag", "name": "addUnexpectedSuccess", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/core/utils/concurrencytest.py", "pattern": "/^    def addUnexpectedSuccess(self, test, **kwargs):$/", "language": "Python", "kind": "member", "signature": "(self, test, **kwargs)", "scope": "ProxyTestResult", "scopeKind": "class"}, {"_type": "tag", "name": "dummybuf", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/core/utils/concurrencytest.py", "pattern": "/^class dummybuf(object):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "extras", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/core/utils/concurrencytest.py", "pattern": "/^            extras = lambda : [json.dumps(test.extraresults).encode()]$/", "file": true, "language": "Python", "kind": "function", "signature": "()", "scope": "ExtraResultsEncoderTestResult._addResult", "scopeKind": "member"}, {"_type": "tag", "name": "fork_for_tests", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/core/utils/concurrencytest.py", "pattern": "/^def fork_for_tests(concurrency_num, suite):$/", "language": "Python", "kind": "function", "signature": "(concurrency_num, suite)"}, {"_type": "tag", "name": "outSideTestaddError", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/core/utils/concurrencytest.py", "pattern": "/^def outSideTestaddError(self, offset, line):$/", "language": "Python", "kind": "function", "signature": "(self, offset, line)"}, {"_type": "tag", "name": "outSideTestaddSkip", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/core/utils/concurrencytest.py", "pattern": "/^def outSideTestaddSkip(self, offset, line):$/", "language": "Python", "kind": "function", "signature": "(self, offset, line)"}, {"_type": "tag", "name": "partition_tests", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/core/utils/concurrencytest.py", "pattern": "/^def partition_tests(suite, count):$/", "language": "Python", "kind": "function", "signature": "(suite, count)"}, {"_type": "tag", "name": "run", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/core/utils/concurrencytest.py", "pattern": "/^    def run(self, result):$/", "language": "Python", "kind": "member", "signature": "(self, result)", "scope": "ConcurrentTestSuite", "scopeKind": "class"}, {"_type": "tag", "name": "wasSuccessful", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/core/utils/concurrencytest.py", "pattern": "/^    def wasSuccessful(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "ProxyTestResult", "scopeKind": "class"}, {"_type": "tag", "name": "write", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/core/utils/concurrencytest.py", "pattern": "/^   def write(self, data):$/", "language": "Python", "kind": "member", "signature": "(self, data)", "scope": "dummybuf", "scopeKind": "class"}], "hash": "225aaa6632ac99041615beda47a8879c", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "openembedded-core/meta/lib/oeqa/core/utils/concurrencytest.py", "fields": [{"name": "_all__ = [", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"15176": ""}]}