{"is_source_file": true, "format": "C header file", "description": "This header file defines data structures, function prototypes, and includes necessary headers for parsing and managing watchdog service configurations in a C project. It contains a struct representing service configurations and functions for loading configuration files, saving misbehaving services, reading such services, and cleanup.", "external_files": ["<time.h>", "<stdint.h>", "<stdbool.h>", "<icTypes/icLinkedList.h>", "<watchdog/watchdogService_pojo.h>"], "external_methods": ["loadServiceConfig", "saveMisbehavingService", "readMisbehavingService", "destroyServiceDefinition"], "published": ["loadServiceConfig", "saveMisbehavingService", "readMisbehavingService", "destroyServiceDefinition"], "classes": [], "methods": [{"name": "loadServiceConfig", "description": "Parses the watchdog configuration files from specified directories and returns a linked list of serviceDefinition objects."}, {"name": "saveMisbehavingService", "description": "Records a service name as misbehaving, to prevent its restart in subsequent configuration loads."}, {"name": "readMisbehavingService", "description": "Retrieves the name of a misbehaving service saved during the previous shutdown or reboot and deletes the record file."}, {"name": "destroyServiceDefinition", "description": "Frees the memory associated with a serviceDefinition object."}], "calls": ["loadServiceConfig", "saveMisbehavingService", "readMisbehavingService", "destroyServiceDefinition"], "search-terms": ["watchdog configuration", "serviceDefinition struct", "loadServiceConfig", "saveMisbehavingService", "watchdogService_pojo", "configParser.h"], "state": 2, "file_id": 1222, "knowledge_revision": 14372, "git_revision": "", "ctags": [{"_type": "tag", "name": "CONFIGPARSER_H_", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/watchdog/core/src/configParser.h", "pattern": "/^#define CONFIGPARSER_H_$/", "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "__anon84420b0b0108", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/watchdog/core/src/configParser.h", "pattern": "/^{$/", "language": "C++", "kind": "struct"}, {"_type": "tag", "name": "actionOnMaxRestarts", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/watchdog/core/src/configParser.h", "pattern": "/^    uint16_t actionOnMaxRestarts;$/", "language": "C++", "typeref": "typename:uint16_t", "kind": "member", "scope": "__anon84420b0b0108", "scopeKind": "struct"}, {"_type": "tag", "name": "autoStart", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/watchdog/core/src/configParser.h", "pattern": "/^    bool     autoStart;                 \\/\\/ if true, start this service during watchdog initial/", "language": "C++", "typeref": "typename:bool", "kind": "member", "scope": "__anon84420b0b0108", "scopeKind": "struct"}, {"_type": "tag", "name": "currentPid", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/watchdog/core/src/configParser.h", "pattern": "/^    pid_t    currentPid;                \\/\\/ PID of the service.  only valid after launched$/", "language": "C++", "typeref": "typename:pid_t", "kind": "member", "scope": "__anon84420b0b0108", "scopeKind": "struct"}, {"_type": "tag", "name": "deathCount", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/watchdog/core/src/configParser.h", "pattern": "/^    uint64_t deathCount;                \\/\\/ number of times this died unexpectedly$/", "language": "C++", "typeref": "typename:uint64_t", "kind": "member", "scope": "__anon84420b0b0108", "scopeKind": "struct"}, {"_type": "tag", "name": "execArgCount", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/watchdog/core/src/configParser.h", "pattern": "/^    uint8_t  execArgCount;$/", "language": "C++", "typeref": "typename:uint8_t", "kind": "member", "scope": "__anon84420b0b0108", "scopeKind": "struct"}, {"_type": "tag", "name": "execArgs", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/watchdog/core/src/configParser.h", "pattern": "/^    char     **execArgs;                \\/\\/ CLI args to pass to the server during startup (opti/", "language": "C++", "typeref": "typename:char **", "kind": "member", "scope": "__anon84420b0b0108", "scopeKind": "struct"}, {"_type": "tag", "name": "execPath", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/watchdog/core/src/configParser.h", "pattern": "/^    char     *execPath;                 \\/\\/ path to the service executable binary$/", "language": "C++", "typeref": "typename:char *", "kind": "member", "scope": "__anon84420b0b0108", "scopeKind": "struct"}, {"_type": "tag", "name": "expectStartupAck", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/watchdog/core/src/configParser.h", "pattern": "/^    bool     expectStartupAck;          \\/\\/ if true, this service should notify watchdog when i/", "language": "C++", "typeref": "typename:bool", "kind": "member", "scope": "__anon84420b0b0108", "scopeKind": "struct"}, {"_type": "tag", "name": "isJavaService", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/watchdog/core/src/configParser.h", "pattern": "/^    bool     isJavaService;             \\/\\/ not really managed, but can be reported on (stats, /", "language": "C++", "typeref": "typename:bool", "kind": "member", "scope": "__anon84420b0b0108", "scopeKind": "struct"}, {"_type": "tag", "name": "lastActReceivedTime", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/watchdog/core/src/configParser.h", "pattern": "/^    time_t   lastActReceivedTime;       \\/\\/ time the service sent the ACK.  will be 0 when laun/", "language": "C++", "typeref": "typename:time_t", "kind": "member", "scope": "__anon84420b0b0108", "scopeKind": "struct"}, {"_type": "tag", "name": "lastRestartTime", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/watchdog/core/src/configParser.h", "pattern": "/^    time_t   lastRestartTime;           \\/\\/ time the service was started last using realtime cl/", "language": "C++", "typeref": "typename:time_t", "kind": "member", "scope": "__anon84420b0b0108", "scopeKind": "struct"}, {"_type": "tag", "name": "lastRestartTimeMono", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/watchdog/core/src/configParser.h", "pattern": "/^    time_t   lastRestartTimeMono;       \\/\\/ time the service was started last using monotonic c/", "language": "C++", "typeref": "typename:time_t", "kind": "member", "scope": "__anon84420b0b0108", "scopeKind": "struct"}, {"_type": "tag", "name": "logicalGroup", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/watchdog/core/src/configParser.h", "pattern": "/^    char     *logicalGroup;             \\/\\/ logical group this service is associated with (opti/", "language": "C++", "typeref": "typename:char *", "kind": "member", "scope": "__anon84420b0b0108", "scopeKind": "struct"}, {"_type": "tag", "name": "maxRestartsPerMinute", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/watchdog/core/src/configParser.h", "pattern": "/^    uint16_t maxRestartsPerMinute;$/", "language": "C++", "typeref": "typename:uint16_t", "kind": "member", "scope": "__anon84420b0b0108", "scopeKind": "struct"}, {"_type": "tag", "name": "restartOnFail", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/watchdog/core/src/configParser.h", "pattern": "/^    bool     restartOnFail;             \\/\\/ if true, this service will be restarted when death /", "language": "C++", "typeref": "typename:bool", "kind": "member", "scope": "__anon84420b0b0108", "scopeKind": "struct"}, {"_type": "tag", "name": "restartsWithinPastMinute", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/watchdog/core/src/configParser.h", "pattern": "/^    uint16_t restartsWithinPastMinute;$/", "language": "C++", "typeref": "typename:uint16_t", "kind": "member", "scope": "__anon84420b0b0108", "scopeKind": "struct"}, {"_type": "tag", "name": "secondsBetweenRestarts", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/watchdog/core/src/configParser.h", "pattern": "/^    uint32_t secondsBetweenRestarts;$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "__anon84420b0b0108", "scopeKind": "struct"}, {"_type": "tag", "name": "serviceDefinition", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/watchdog/core/src/configParser.h", "pattern": "/^} serviceDefinition;$/", "language": "C++", "typeref": "struct:__anon84420b0b0108", "kind": "typedef"}, {"_type": "tag", "name": "serviceIpcPort", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/watchdog/core/src/configParser.h", "pattern": "/^    uint32_t serviceIpcPort;            \\/\\/ set as part of the \"ack\" the service sends$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "__anon84420b0b0108", "scopeKind": "struct"}, {"_type": "tag", "name": "serviceName", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/watchdog/core/src/configParser.h", "pattern": "/^    char     *serviceName;              \\/\\/ unique name of the service$/", "language": "C++", "typeref": "typename:char *", "kind": "member", "scope": "__anon84420b0b0108", "scopeKind": "struct"}, {"_type": "tag", "name": "shutdownToken", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/watchdog/core/src/configParser.h", "pattern": "/^    char     *shutdownToken;            \\/\\/ provided by service ACK.  used during shutdown of t/", "language": "C++", "typeref": "typename:char *", "kind": "member", "scope": "__anon84420b0b0108", "scopeKind": "struct"}, {"_type": "tag", "name": "singlePhaseStartup", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/watchdog/core/src/configParser.h", "pattern": "/^    bool     singlePhaseStartup;$/", "language": "C++", "typeref": "typename:bool", "kind": "member", "scope": "__anon84420b0b0108", "scopeKind": "struct"}, {"_type": "tag", "name": "tempIgoreDeath", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/watchdog/core/src/configParser.h", "pattern": "/^    bool     tempIgoreDeath;            \\/\\/ temporarily ignore death do to forced stop\\/restart$/", "language": "C++", "typeref": "typename:bool", "kind": "member", "scope": "__anon84420b0b0108", "scopeKind": "struct"}, {"_type": "tag", "name": "waitSecsOnShutdown", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/watchdog/core/src/configParser.h", "pattern": "/^    uint32_t waitSecsOnShutdown;        \\/\\/ number of seconds to wait during \"shutdown\" of this/", "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "__anon84420b0b0108", "scopeKind": "struct"}], "hash": "308b59f4127a7fb7aacb771d0b59baf2", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "components/opensource/zilker-sdk/source/services/watchdog/core/src/configParser.h", "fields": [{"name": "uint16_t actionOnMaxRestarts", "scope": "__anon84420b0b0108", "scopeKind": "struct", "description": "unavailable"}, {"name": "bool autoStart", "scope": "__anon84420b0b0108", "scopeKind": "struct", "description": "unavailable"}, {"name": "pid_t currentPid", "scope": "__anon84420b0b0108", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint64_t deathCount", "scope": "__anon84420b0b0108", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint8_t execArgCount", "scope": "__anon84420b0b0108", "scopeKind": "struct", "description": "unavailable"}, {"name": "char ** execArgs", "scope": "__anon84420b0b0108", "scopeKind": "struct", "description": "unavailable"}, {"name": "char * execPath", "scope": "__anon84420b0b0108", "scopeKind": "struct", "description": "unavailable"}, {"name": "bool expectStartupAck", "scope": "__anon84420b0b0108", "scopeKind": "struct", "description": "unavailable"}, {"name": "bool isJavaService", "scope": "__anon84420b0b0108", "scopeKind": "struct", "description": "unavailable"}, {"name": "time_t lastActReceivedTime", "scope": "__anon84420b0b0108", "scopeKind": "struct", "description": "unavailable"}, {"name": "time_t lastRestartTime", "scope": "__anon84420b0b0108", "scopeKind": "struct", "description": "unavailable"}, {"name": "time_t lastRestartTimeMono", "scope": "__anon84420b0b0108", "scopeKind": "struct", "description": "unavailable"}, {"name": "char * logicalGroup", "scope": "__anon84420b0b0108", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint16_t maxRestartsPerMinute", "scope": "__anon84420b0b0108", "scopeKind": "struct", "description": "unavailable"}, {"name": "bool restartOnFail", "scope": "__anon84420b0b0108", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint16_t restartsWithinPastMinute", "scope": "__anon84420b0b0108", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint32_t secondsBetweenRestarts", "scope": "__anon84420b0b0108", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint32_t serviceIpcPort", "scope": "__anon84420b0b0108", "scopeKind": "struct", "description": "unavailable"}, {"name": "char * serviceName", "scope": "__anon84420b0b0108", "scopeKind": "struct", "description": "unavailable"}, {"name": "char * shutdownToken", "scope": "__anon84420b0b0108", "scopeKind": "struct", "description": "unavailable"}, {"name": "bool singlePhaseStartup", "scope": "__anon84420b0b0108", "scopeKind": "struct", "description": "unavailable"}, {"name": "bool tempIgoreDeath", "scope": "__anon84420b0b0108", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint32_t waitSecsOnShutdown", "scope": "__anon84420b0b0108", "scopeKind": "struct", "description": "unavailable"}], "revision_history": [{"14372": ""}]}