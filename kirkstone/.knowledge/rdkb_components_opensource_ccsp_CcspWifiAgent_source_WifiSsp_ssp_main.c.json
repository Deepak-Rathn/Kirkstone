{"is_source_file": true, "format": "C", "description": "This file appears to be the main source implementation for the Wifi agent component in a broadband device, responsible for initializing various subsystems, handling signals, daemonizing, and managing WiFi-related activities.", "external_files": ["ssp_global.h", "ccsp_dm_api.h", "ccsp_WifiLog_wrapper.h", "syscfg/syscfg.h", "telemetry_busmessage_sender.h", "secure_wrapper.h", "safec_lib_common.h", "webconfig_framework.h", "print_uptime.h"], "external_methods": ["ssp_WifiMbi_MessageBusEngage", "ssp_create_wifi", "ssp_engage_wifi", "ssp_cancel_wifi", "CcspComponentLoadCfg", "Cdm_Init", "Cdm_StrError", "Cdm_Term", "check_component_crash"], "published": ["main"], "classes": [], "methods": [{"name": "void _get_shell_output(char * cmd,char * out,int len)", "description": "Executes a shell command and retrieves the first line of output.", "scope": "", "scopeKind": ""}, {"name": "int cmd_dispatch(int command)", "description": "Handles user commands such as starting, stopping, and querying WiFi; manages bus connection and parameter retrieval.", "scope": "", "scopeKind": ""}, {"name": "void _print_stack_backtrace(void)", "description": "Prints a backtrace of the current call stack for debugging.", "scope": "", "scopeKind": ""}, {"name": "void daemonize(void)", "description": "Daemonizes the process, sets up semaphores, and detaches from control terminal.", "scope": "", "scopeKind": ""}, {"name": "void sig_handler(int sig)", "description": "Handles various UNIX signals for clean shutdown, logging, and backtrace.", "scope": "", "scopeKind": ""}, {"name": "int is_core_dump_opened(void)", "description": "Checks if core dumps are enabled for the current process.", "scope": "", "scopeKind": ""}, {"name": "bool drop_root()", "description": "Drops root privileges if not on a blocklist, used for security in certain product configurations.", "scope": "", "scopeKind": ""}, {"name": "int main(int argc,char * argv[])", "description": "Entry point of the WiFi agent process, initializes system, handles command-line arguments, sets up signal handlers, and runs the main loop.", "scope": "", "scopeKind": ""}], "calls": ["backtrace", "backtrace_symbols_fd", "backtrace_symbols", "sysinfo", "fopen", "fgets", "popen", "pclose", "sleep", "setlinebuf", "signal", "exit", "fork", "setsid", "open", "dup2", "close", "printf", "fprintf", "strcpy_s", "sprintf_s", "sem_open", "sem_unlink", "sem_wait", "sem_close", "AnscAllocateMemory", "AnscSetTraceLevel", "CcspTraceError", "CcspTraceWarning", "CcspTraceInfo", "AnscPrintComponentMemoryTable", "AnscTraceMemoryTable", "syscfg_init", "syscfg_get", "print_uptime", "Cdm_Init", "Cdm_StrError", "Cdm_Term", "check_component_crash"], "search-terms": ["WifiSsp", "ssp_main", "WiFi agent", "daemonize", "signal handler", "drop_root", "Cdm_Init", "pComponentCfg", "g_Subsystem", "systemd", "core dump", "webconfig", "telemetry", "sysinfo", "signal handling"], "state": 2, "file_id": 9317, "knowledge_revision": 22337, "git_revision": "", "ctags": [{"_type": "tag", "name": "DEBUG_INI_NAME", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/WifiSsp/ssp_main.c", "pattern": "/^#define DEBUG_INI_NAME /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "TITLE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/WifiSsp/ssp_main.c", "pattern": "/^#define TITLE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "_get_shell_output", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/WifiSsp/ssp_main.c", "pattern": "/^void _get_shell_output(char * cmd, char * out, int len)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(char * cmd,char * out,int len)"}, {"_type": "tag", "name": "_print_stack_backtrace", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/WifiSsp/ssp_main.c", "pattern": "/^static void _print_stack_backtrace(void)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "appcaps", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/WifiSsp/ssp_main.c", "pattern": "/^static cap_user appcaps;$/", "file": true, "language": "C", "typeref": "typename:cap_user", "kind": "variable"}, {"_type": "tag", "name": "cmd_dispatch", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/WifiSsp/ssp_main.c", "pattern": "/^int  cmd_dispatch(int  command)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(int command)"}, {"_type": "tag", "name": "daemonize", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/WifiSsp/ssp_main.c", "pattern": "/^static void daemonize(void) {$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "drop_root", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/WifiSsp/ssp_main.c", "pattern": "/^static bool drop_root()$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "gChannelSwitchingCount", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/WifiSsp/ssp_main.c", "pattern": "/^int gChannelSwitchingCount = 0;$/", "language": "C", "typeref": "typename:int", "kind": "variable"}, {"_type": "tag", "name": "g_Subsystem", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/WifiSsp/ssp_main.c", "pattern": "/^char                            g_Subsystem[32]         = {0};$/", "language": "C", "typeref": "typename:char[32]", "kind": "variable"}, {"_type": "tag", "name": "g_bActive", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/WifiSsp/ssp_main.c", "pattern": "/^BOOL                            g_bActive               = FALSE;$/", "language": "C", "typeref": "typename:BOOL", "kind": "variable"}, {"_type": "tag", "name": "g_pComponent_Common_Dm", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/WifiSsp/ssp_main.c", "pattern": "/^PCOMPONENT_COMMON_DM            g_pComponent_Common_Dm  = NULL;$/", "language": "C", "typeref": "typename:PCOMPONENT_COMMON_DM", "kind": "variable"}, {"_type": "tag", "name": "gpWifiStartCfg", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/WifiSsp/ssp_main.c", "pattern": "/^PCCSP_COMPONENT_CFG             gpWifiStartCfg           = NULL;$/", "language": "C", "typeref": "typename:PCCSP_COMPONENT_CFG", "kind": "variable"}, {"_type": "tag", "name": "is_core_dump_opened", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/WifiSsp/ssp_main.c", "pattern": "/^static int is_core_dump_opened(void)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "main", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/WifiSsp/ssp_main.c", "pattern": "/^int main(int argc, char* argv[])$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(int argc,char * argv[])"}, {"_type": "tag", "name": "pDslhCpeController", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/WifiSsp/ssp_main.c", "pattern": "/^PDSLH_CPE_CONTROLLER_OBJECT     pDslhCpeController      = NULL;$/", "language": "C", "typeref": "typename:PDSLH_CPE_CONTROLLER_OBJECT", "kind": "variable"}, {"_type": "tag", "name": "pWifiCcdIf", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/WifiSsp/ssp_main.c", "pattern": "/^PCCSP_CCD_INTERFACE             pWifiCcdIf               = (PCCSP_CCD_INTERFACE        )NULL;$/", "language": "C", "typeref": "typename:PCCSP_CCD_INTERFACE", "kind": "variable"}, {"_type": "tag", "name": "pWifiFcContext", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/WifiSsp/ssp_main.c", "pattern": "/^PCCSP_FC_CONTEXT                pWifiFcContext           = (PCCSP_FC_CONTEXT           )NULL;$/", "language": "C", "typeref": "typename:PCCSP_FC_CONTEXT", "kind": "variable"}, {"_type": "tag", "name": "pWifiMbiIf", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/WifiSsp/ssp_main.c", "pattern": "/^PCCC_MBI_INTERFACE              pWifiMbiIf               = (PCCC_MBI_INTERFACE         )NULL;$/", "language": "C", "typeref": "typename:PCCC_MBI_INTERFACE", "kind": "variable"}, {"_type": "tag", "name": "sem", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/WifiSsp/ssp_main.c", "pattern": "/^    sem_t *sem;$/", "language": "C", "typeref": "typename:sem_t *", "kind": "variable"}, {"_type": "tag", "name": "sig_handler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspWifiAgent/source/WifiSsp/ssp_main.c", "pattern": "/^void sig_handler(int sig)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(int sig)"}], "hash": "4f32fd1d4ba1cab5e8323ce02ac7eccd", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/CcspWifiAgent/source/WifiSsp/ssp_main.c", "fields": [{"name": "cap_user appcaps", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int gChannelSwitchingCount", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char[32] g_Subsystem", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "BOOL g_bActive", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "PCOMPONENT_COMMON_DM g_pComponent_Common_Dm", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "PCCSP_COMPONENT_CFG gpWifiStartCfg", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "PDSLH_CPE_CONTROLLER_OBJECT pDslhCpeController", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "PCCSP_CCD_INTERFACE pWifiCcdIf", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "PCCSP_FC_CONTEXT pWifiFcContext", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "PCCC_MBI_INTERFACE pWifiMbiIf", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "sem_t * sem", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"22337": ""}]}