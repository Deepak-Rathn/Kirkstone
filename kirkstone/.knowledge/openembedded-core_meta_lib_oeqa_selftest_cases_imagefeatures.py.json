{"is_source_file": true, "format": "Python", "description": "This file contains test cases for the OEQA (OpenEmbedded Quality Assurance) selftest framework, specifically for testing image features and build configurations in the OpenEmbedded/Yocto project. It defines a class `ImageFeatures` with multiple test methods that verify SSH connectivity, Wayland support, bmap support, hypervisor formats, image chain conversions, various image types, user additions, busybox replacement, debug filesystem generation, and empty image creation.", "external_files": ["oeqa.selftest.case", "oeqa.core.decorator", "oeqa.utils.commands", "oeqa.utils.sshcontrol"], "external_methods": ["OESelftestTestCase.write_config", "bitbake", "runqemu", "get_bb_var", "os.path.join", "glob.glob", "os.stat", "runCmd", "self.assertEqual", "self.assertNotEqual", "self.assertTrue", "self.assertGreater", "self.assertNotIn", "self.skipTest", "self.fail"], "published": ["ImageFeatures"], "classes": [{"name": "ImageFeatures", "description": "A test case class for verifying various image and build features in the OpenEmbedded/Yocto build environment."}], "methods": [{"name": "test_non_root_user_can_connect_via_ssh_without_password(self)", "description": "Tests that non-root users can connect via SSH without passwords in a built image.", "scope": "ImageFeatures", "scopeKind": "class"}, {"name": "test_all_users_can_connect_via_ssh_without_password(self)", "description": "Verifies that all users, including root, cannot connect via SSH without passwords (except tester).", "scope": "ImageFeatures", "scopeKind": "class"}, {"name": "test_wayland_support_in_image(self)", "description": "Checks if Wayland support can be built and installed in the image.", "scope": "ImageFeatures", "scopeKind": "class"}, {"name": "test_bmap(self)", "description": "Verifies bmap support and sparse image creation.", "scope": "ImageFeatures", "scopeKind": "class"}, {"name": "test_hypervisor_fmts(self)", "description": "Tests support for multiple hypervisor image formats and validates with qemu-img.", "scope": "ImageFeatures", "scopeKind": "class"}, {"name": "test_long_chain_conversion(self)", "description": "Checks building images with chained conversions and associated sha256sum validation.", "scope": "ImageFeatures", "scopeKind": "class"}, {"name": "test_image_fstypes(self)", "description": "Ensures images of various supported file system types can be built.", "scope": "ImageFeatures", "scopeKind": "class"}, {"name": "test_useradd_static(self)", "description": "Tests static user addition extension during image build.", "scope": "ImageFeatures", "scopeKind": "class"}, {"name": "test_no_busybox_base_utils(self)", "description": "Verifies that BusyBox is replaced by core-utils in the build.", "scope": "ImageFeatures", "scopeKind": "class"}, {"name": "test_image_gen_debugfs(self)", "description": "Checks if debug filesystem is generated correctly with debug symbols.", "scope": "ImageFeatures", "scopeKind": "class"}, {"name": "test_empty_image(self)", "description": "Tests creation of an image with no packages and verifies its manifest is empty.", "scope": "ImageFeatures", "scopeKind": "class"}], "calls": ["oeqa.utils.commands.runCmd", "oeqa.utils.sshcontrol.SSHControl.run", "oeqa.utils.commands.gzip -t", "oeqa.utils.commands.sha256sum -c", "oeqa.selftest.case.OESelftestTestCase.write_config", "bitbake", "oeqa.utils.commands.runqemu", "oeqa.utils.commands.get_bb_var", "os.path.join", "glob.glob", "os.stat", "oeqa.utils.commands.runCmd", "self.assertEqual", "self.assertNotEqual", "self.assertTrue", "self.assertGreater", "self.skipTest", "self.fail"], "search-terms": ["ImageFeatures", "ssh-connectivity", "wayland", "bmap", "hypervisor", "conversion chain", "image types", "useradd", "busybox", "debugfs", "empty image"], "state": 2, "file_id": 1941, "knowledge_revision": 15092, "git_revision": "", "ctags": [{"_type": "tag", "name": "ImageFeatures", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/imagefeatures.py", "pattern": "/^class ImageFeatures(OESelftestTestCase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "root_user", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/imagefeatures.py", "pattern": "/^    root_user = 'root'$/", "language": "Python", "kind": "variable", "scope": "ImageFeatures", "scopeKind": "class"}, {"_type": "tag", "name": "test_all_users_can_connect_via_ssh_without_password", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/imagefeatures.py", "pattern": "/^    def test_all_users_can_connect_via_ssh_without_password(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "ImageFeatures", "scopeKind": "class"}, {"_type": "tag", "name": "test_bmap", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/imagefeatures.py", "pattern": "/^    def test_bmap(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "ImageFeatures", "scopeKind": "class"}, {"_type": "tag", "name": "test_empty_image", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/imagefeatures.py", "pattern": "/^    def test_empty_image(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "ImageFeatures", "scopeKind": "class"}, {"_type": "tag", "name": "test_hypervisor_fmts", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/imagefeatures.py", "pattern": "/^    def test_hypervisor_fmts(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "ImageFeatures", "scopeKind": "class"}, {"_type": "tag", "name": "test_image_fstypes", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/imagefeatures.py", "pattern": "/^    def test_image_fstypes(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "ImageFeatures", "scopeKind": "class"}, {"_type": "tag", "name": "test_image_gen_debugfs", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/imagefeatures.py", "pattern": "/^    def test_image_gen_debugfs(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "ImageFeatures", "scopeKind": "class"}, {"_type": "tag", "name": "test_long_chain_conversion", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/imagefeatures.py", "pattern": "/^    def test_long_chain_conversion(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "ImageFeatures", "scopeKind": "class"}, {"_type": "tag", "name": "test_no_busybox_base_utils", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/imagefeatures.py", "pattern": "/^    def test_no_busybox_base_utils(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "ImageFeatures", "scopeKind": "class"}, {"_type": "tag", "name": "test_non_root_user_can_connect_via_ssh_without_password", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/imagefeatures.py", "pattern": "/^    def test_non_root_user_can_connect_via_ssh_without_password(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "ImageFeatures", "scopeKind": "class"}, {"_type": "tag", "name": "test_user", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/imagefeatures.py", "pattern": "/^    test_user = 'tester'$/", "language": "Python", "kind": "variable", "scope": "ImageFeatures", "scopeKind": "class"}, {"_type": "tag", "name": "test_useradd_static", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/imagefeatures.py", "pattern": "/^    def test_useradd_static(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "ImageFeatures", "scopeKind": "class"}, {"_type": "tag", "name": "test_wayland_support_in_image", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/imagefeatures.py", "pattern": "/^    def test_wayland_support_in_image(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "ImageFeatures", "scopeKind": "class"}], "hash": "3c47d7a8bed4ec3f39e7b285064eeff2", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "openembedded-core/meta/lib/oeqa/selftest/cases/imagefeatures.py", "fields": [{"name": "root_user = 'root'", "scope": "ImageFeatures", "scopeKind": "class", "description": "unavailable"}, {"name": "test_user = 'tester'", "scope": "ImageFeatures", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"15092": ""}]}