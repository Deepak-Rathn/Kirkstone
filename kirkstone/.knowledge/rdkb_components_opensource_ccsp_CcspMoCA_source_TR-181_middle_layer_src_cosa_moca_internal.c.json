{"is_source_file": true, "format": "C", "description": "The file 'cosa_moca_internal.c' contains implementation of back-end APIs for the COSA Data Model related to MoCA (Multimedia over Coax Alliance) network management. It includes functions for creating, initializing, updating, and removing MoCA objects, handling sys events, logging, and telemetry data for MoCA devices in a network management context.", "external_files": ["cosa_moca_internal.h", "cosa_moca_network_info.h", "syscfg/syscfg.h", "safec_lib_common.h", "webconfig_framework.h", "sysevent/sysevent.h", "sys/inotify.h", "sys/stat.h"], "external_methods": ["sysevent_setnotification", "sysevent_getnotification", "sysevent_open", "CosaDmlMocaInit", "CosaDmlMocaGetCfg", "CosaDmlMocaGetNumberOfIfs", "CosaDmlMocaIfGetEntry", "CosaDmlMocaIfGetDinfo", "CosaDmlMocaIfGetAssocDevices", "CosaDmlMocaIfSetCfg", "CosaDmlMocaGetLogStatus", "CosaMocaTelemetryxOpsLogSettingsSync", "syscfg_get"], "published": ["CosaMoCACreate", "CosaMoCAInitialize", "CosaMoCARemove", "CosaMoCAUpdate", "CosaMoCALogger", "CosaMoCATelemetryInit"], "classes": [], "methods": [{"name": "ANSC_HANDLE CosaMoCACreate(VOID)", "description": "Creates and initializes a new instance of the MoCA data model object, sets up frameworks, and returns its handle.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaMoCAInitialize(ANSC_HANDLE hThisObject)", "description": "Initializes the MoCA data model object, retrieves configuration, sets up sys events, starts device synchronization, telemetry, and logging threads.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaMoCARemove(ANSC_HANDLE hThisObject)", "description": "Cleans up and frees resources associated with the MoCA object.", "scope": "", "scopeKind": ""}, {"name": "void CosaMoCAUpdate()", "description": "Handles sys event notification for MOCA updates.", "scope": "", "scopeKind": ""}, {"name": "void CosaMoCALogger()", "description": "Creates and manages logging threads for MoCA device data.", "scope": "", "scopeKind": ""}, {"name": "int CosaMoCATelemetryInit()", "description": "Initializes telemetry collection and reporting threads for MoCA devices.", "scope": "", "scopeKind": ""}, {"name": "unsigned char CosaMoCAIsCMHighSplitDiplexerMode(void)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int IsFileExists(char * file_name)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void * Logger_Thread(void * data)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void MoCA_Log()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void * MocaTelemetryLoggingThread()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void MocaTelemetryPush()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void * MocaTelemetryxOpsLogSettingsEventThread()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void * Moca_sysevent_handler(void * data)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char * get_formatted_time(char * time)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void read_updated_log_interval()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void write_to_file(const char * file_name,char * fmt,...)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["sysevent_setnotification", "sysevent_getnotification", "sysevent_open", "CosaDmlMocaInit", "CosaDmlMocaGetCfg", "CosaDmlMocaGetNumberOfIfs", "CosaDmlMocaIfGetEntry", "CosaDmlMocaIfGetDinfo", "CosaDmlMocaIfGetAssocDevices", "CosaDmlMocaIfSetCfg", "CosaDmlMocaGetLogStatus", "CosaMocaTelemetryxOpsLogSettingsSync", "syscfg_get"], "search-terms": ["MoCA", "cosa_moca_internal", "sysevent", "telemetry", "logging", "device synchronization", "network info", "CosaMoCA", "webconfig", "HighSplit", "power control", "syscfg"], "state": 2, "file_id": 9560, "knowledge_revision": 22573, "git_revision": "", "ctags": [{"_type": "tag", "name": "BUF_LEN", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMoCA/source/TR-181/middle_layer_src/cosa_moca_internal.c", "pattern": "/^#define BUF_LEN /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "CosaMoCACreate", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMoCA/source/TR-181/middle_layer_src/cosa_moca_internal.c", "pattern": "/^CosaMoCACreate$/", "language": "C", "typeref": "typename:ANSC_HANDLE", "kind": "function", "signature": "(VOID)"}, {"_type": "tag", "name": "CosaMoCAInitialize", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMoCA/source/TR-181/middle_layer_src/cosa_moca_internal.c", "pattern": "/^CosaMoCAInitialize$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hThisObject)"}, {"_type": "tag", "name": "CosaMoCAIsCMHighSplitDiplexerMode", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMoCA/source/TR-181/middle_layer_src/cosa_moca_internal.c", "pattern": "/^unsigned char CosaMoCAIsCMHighSplitDiplexerMode( void )$/", "language": "C", "typeref": "typename:unsigned char", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "CosaMoCALogger", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMoCA/source/TR-181/middle_layer_src/cosa_moca_internal.c", "pattern": "/^void CosaMoCALogger()$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "CosaMoCARemove", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMoCA/source/TR-181/middle_layer_src/cosa_moca_internal.c", "pattern": "/^CosaMoCARemove$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hThisObject)"}, {"_type": "tag", "name": "CosaMoCATelemetryInit", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMoCA/source/TR-181/middle_layer_src/cosa_moca_internal.c", "pattern": "/^int CosaMoCATelemetryInit()$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "CosaMoCAUpdate", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMoCA/source/TR-181/middle_layer_src/cosa_moca_internal.c", "pattern": "/^void CosaMoCAUpdate()$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "IsFileExists", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMoCA/source/TR-181/middle_layer_src/cosa_moca_internal.c", "pattern": "/^static int IsFileExists(char *file_name)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(char * file_name)"}, {"_type": "tag", "name": "Logger_Thread", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMoCA/source/TR-181/middle_layer_src/cosa_moca_internal.c", "pattern": "/^void * Logger_Thread(void *data)$/", "language": "C", "typeref": "typename:void *", "kind": "function", "signature": "(void * data)"}, {"_type": "tag", "name": "MAX_GETFORMAT_TIME_SIZE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMoCA/source/TR-181/middle_layer_src/cosa_moca_internal.c", "pattern": "/^#define MAX_GETFORMAT_TIME_SIZE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MOCA_LOG_FILE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMoCA/source/TR-181/middle_layer_src/cosa_moca_internal.c", "pattern": "/^#define MOCA_LOG_FILE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MoCA_Log", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMoCA/source/TR-181/middle_layer_src/cosa_moca_internal.c", "pattern": "/^void MoCA_Log()$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "MocaTelemetryLoggingThread", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMoCA/source/TR-181/middle_layer_src/cosa_moca_internal.c", "pattern": "/^void* MocaTelemetryLoggingThread()$/", "language": "C", "typeref": "typename:void *", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "MocaTelemetryPush", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMoCA/source/TR-181/middle_layer_src/cosa_moca_internal.c", "pattern": "/^static void MocaTelemetryPush()$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "MocaTelemetryxOpsLogSettingsEventThread", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMoCA/source/TR-181/middle_layer_src/cosa_moca_internal.c", "pattern": "/^void*  MocaTelemetryxOpsLogSettingsEventThread()$/", "language": "C", "typeref": "typename:void *", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "Moca_sysevent_handler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMoCA/source/TR-181/middle_layer_src/cosa_moca_internal.c", "pattern": "/^static void *Moca_sysevent_handler (void *data)$/", "file": true, "language": "C", "typeref": "typename:void *", "kind": "function", "signature": "(void * data)"}, {"_type": "tag", "name": "cond", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMoCA/source/TR-181/middle_layer_src/cosa_moca_internal.c", "pattern": "/^pthread_cond_t cond = PTHREAD_COND_INITIALIZER;$/", "language": "C", "typeref": "typename:pthread_cond_t", "kind": "variable"}, {"_type": "tag", "name": "gMoCALogEnable", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMoCA/source/TR-181/middle_layer_src/cosa_moca_internal.c", "pattern": "/^static char gMoCALogEnable[7] = {0};$/", "file": true, "language": "C", "typeref": "typename:char[7]", "kind": "variable"}, {"_type": "tag", "name": "gMoCALogInterval", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMoCA/source/TR-181/middle_layer_src/cosa_moca_internal.c", "pattern": "/^static unsigned int gMoCALogInterval;$/", "file": true, "language": "C", "typeref": "typename:unsigned int", "kind": "variable"}, {"_type": "tag", "name": "get_formatted_time", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMoCA/source/TR-181/middle_layer_src/cosa_moca_internal.c", "pattern": "/^static char *get_formatted_time(char *time)$/", "file": true, "language": "C", "typeref": "typename:char *", "kind": "function", "signature": "(char * time)"}, {"_type": "tag", "name": "moca_telemetry_log", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMoCA/source/TR-181/middle_layer_src/cosa_moca_internal.c", "pattern": "/^static const char *moca_telemetry_log = \"\\/rdklogs\\/logs\\/moca_telemetry.txt\";$/", "file": true, "language": "C", "typeref": "typename:const char *", "kind": "variable"}, {"_type": "tag", "name": "mutex", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMoCA/source/TR-181/middle_layer_src/cosa_moca_internal.c", "pattern": "/^pthread_mutex_t mutex = PTHREAD_MUTEX_INITIALIZER;$/", "language": "C", "typeref": "typename:pthread_mutex_t", "kind": "variable"}, {"_type": "tag", "name": "read_updated_log_interval", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMoCA/source/TR-181/middle_layer_src/cosa_moca_internal.c", "pattern": "/^static void read_updated_log_interval()$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "sysevent_fd", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMoCA/source/TR-181/middle_layer_src/cosa_moca_internal.c", "pattern": "/^static int sysevent_fd;$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "variable"}, {"_type": "tag", "name": "sysevent_fd_cm", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMoCA/source/TR-181/middle_layer_src/cosa_moca_internal.c", "pattern": "/^static int sysevent_fd_cm;$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "variable"}, {"_type": "tag", "name": "sysevent_tid", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMoCA/source/TR-181/middle_layer_src/cosa_moca_internal.c", "pattern": "/^static pthread_t sysevent_tid;$/", "file": true, "language": "C", "typeref": "typename:pthread_t", "kind": "variable"}, {"_type": "tag", "name": "sysevent_token", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMoCA/source/TR-181/middle_layer_src/cosa_moca_internal.c", "pattern": "/^static token_t sysevent_token;$/", "file": true, "language": "C", "typeref": "typename:token_t", "kind": "variable"}, {"_type": "tag", "name": "sysevent_token_cm", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMoCA/source/TR-181/middle_layer_src/cosa_moca_internal.c", "pattern": "/^static token_t sysevent_token_cm;$/", "file": true, "language": "C", "typeref": "typename:token_t", "kind": "variable"}, {"_type": "tag", "name": "write_to_file", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMoCA/source/TR-181/middle_layer_src/cosa_moca_internal.c", "pattern": "/^static void write_to_file(const char *file_name, char *fmt, ...)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(const char * file_name,char * fmt,...)"}], "hash": "6f38f0fbe5575f9b7d14e3d6048afae5", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/CcspMoCA/source/TR-181/middle_layer_src/cosa_moca_internal.c", "fields": [{"name": "pthread_cond_t cond", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char[7] gMoCALogEnable", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "unsigned int gMoCALogInterval", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const char * moca_telemetry_log", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pthread_mutex_t mutex", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int sysevent_fd", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int sysevent_fd_cm", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pthread_t sysevent_tid", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "token_t sysevent_token", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "token_t sysevent_token_cm", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"22573": ""}]}