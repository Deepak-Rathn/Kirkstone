{"is_source_file": true, "format": "Shell script", "description": "This file is a shell script designed for managing crash dump uploads, including locking mechanisms, logging, file handling, compression, and uploading to a remote crash portal. It contains functions for setting device-specific information, archiving dump files, and managing the upload process.", "external_files": ["/lib/rdk/t2Shared_api.sh", "/etc/common.properties", "/etc/device.properties", "/etc/include.properties", "${RDK_PATH}/utils.sh", "${RDK_PATH}/commonUtils.sh", "/version.txt"], "external_methods": ["stat", "tr181", "getMacAddressOnly", "sha1sum", "head", "grep", "sed", "log_std_out", "t2CountNotify"], "published": ["ud_initialize", "ud_check_log_file", "ud_set_mac_address", "ud_set_sha1_sum", "ud_set_model_num", "ud_upload_dumps"], "classes": [], "methods": [{"name": "exit_impl", "description": "Exits script execution with a provided status code."}, {"name": "log_info", "description": "Logs informational messages with timestamp and process ID."}, {"name": "log_error", "description": "Logs error messages with timestamp and process ID."}, {"name": "log_fatal", "description": "Logs a fatal error message and exits."}, {"name": "log_std_out", "description": "Reads lines from stdin and logs each line."}, {"name": "at_exit", "description": "Handles cleanup and logging on script exit."}, {"name": "unlock", "description": "Removes lock directory and releases lock trap."}, {"name": "try_lock", "description": "Creates a lock directory to prevent concurrent script runs."}, {"name": "get_last_modified_time_of_file", "description": "Returns the last modified timestamp of a file."}, {"name": "is_file_size_changing", "description": "Checks if a file's size is still changing."}, {"name": "ud_initialize", "description": "Initializes script parameters and environment variables based on input arguments."}, {"name": "ud_compose_filename", "description": "Constructs a filename for dump archive based on device info."}, {"name": "ud_get_file_timestamp", "description": "Gets the last modification timestamp of a file, with a default fallback."}, {"name": "ud_check_log_file", "description": "Ensures the log file and directory are set up properly."}, {"name": "ud_set_mac_address", "description": "Determines and sets the device's MAC address."}, {"name": "ud_set_sha1_sum", "description": "Calculates and sets the SHA1 hash of the receiver path."}, {"name": "ud_set_model_num", "description": "Extracts and sets the model number from version info."}, {"name": "ud_backup_dump_file_if_needed", "description": "Backs up dump files if required based on mode."}, {"name": "ud_create_dump_archive", "description": "Creates a compressed archive (.tgz) of dump and log files."}, {"name": "ud_upload_dump_archive", "description": "Uploads the archive file to the remote crash portal via SCP."}, {"name": "ud_cleanup", "description": "Removes archive and dump files to clean up."}, {"name": "ud_set_dump_file", "description": "Sets the dump file path and timestamp after validating size stability."}, {"name": "ud_upload_dumps", "description": "Main process to upload all dump files from the working directory."}], "search-terms": ["crashupload", "upload-dumps", "minidumps", "scp", "lock", "lockfile", "dump", "archive", "log", "mac address", "sha1", "crash portal", "rdk", "device info", "timestamp"], "state": 2, "file_id": 12796, "knowledge_revision": 25700, "git_revision": "", "hash": "a68b26bec55f1a40e584dda3ae5a7f5f", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdk/components/generic/crashupload/upload-dumps-2/uploadDumps2.sh", "revision_history": [{"25700": ""}]}