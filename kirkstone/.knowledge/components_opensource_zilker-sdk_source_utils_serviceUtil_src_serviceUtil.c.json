{"is_source_file": true, "format": "C", "description": "This C source file implements a command-line utility for managing iControl services via a watchdog IPC mechanism. It provides functionalities such as listing services, starting, stopping, and restarting services or groups of services. The code includes argument parsing, IPC communication with services, detailed status printing, and utility functions for logging and cleanup.", "external_files": ["<stdlib.h>", "<stdio.h>", "<string.h>", "<unistd.h>", "<inttypes.h>", "<stdbool.h>", "icBuildtime.h", "icLog/logging.h", "icIpc/ipcMessage.h", "icIpc/ipcStockMessages.h", "icUtil/stringUtils.h", "icTypes/icSortedLinkedList.h", "icSystem/runtimeAttributes.h", "watchdog/watchdogService_ipc.h", "commMgr/commService_ipc.h", "propsMgr/propsService_ipc.h", "propsMgr/commonProperties.h", "propsMgr/propsHelper.h", "icTime/timeUtils.h"], "external_methods": ["initIcLogger()", "setIcLogPriorityFilter()", "waitForServiceAvailable()", "watchdogService_request_START_SERVICE()", "watchdogService_request_START_GROUP()", "watchdogService_request_STOP_SERVICE_timeout()", "watchdogService_request_STOP_GROUP_timeout()", "watchdogService_request_SHUTDOWN_ALL_SERVICES_timeout()", "watchdogService_request_RESTART_SERVICE()", "watchdogService_request_RESTART_GROUP()", "watchdogService_request_RESTART_ALL_SERVICES()", "create_shutdownOptions()", "destroy_shutdownOptions()", "create_processInfo()", "destroy_processInfo()", "create_allServiceNames()", "destroy_allServiceNames()", "getServiceStatus()", "linkedListIteratorCreate()", "linkedListIteratorHasNext()", "linkedListIteratorGetNext()", "linkedListIteratorDestroy()", "hashMapIteratorCreate()", "hashMapIteratorHasNext()", "hashMapIteratorGetNext()", "hashMapGet()", "hashMapCount()", "hashMapDestroy()", "sortedLinkedListCreate()", "linkedListIteratorCreate()", "linkedListIteratorHasNext()", "linkedListIteratorGetNext()", "linkedListIteratorDestroy()", "convertUnixTimeMillisToTime_t()"], "published": ["main"], "classes": [], "methods": [{"name": "void doCleanup(char * value)", "description": "Frees memory allocated for a string resource.", "scope": "", "scopeKind": ""}, {"name": "void printUsage()", "description": "Outputs the usage information for the command-line utility.", "scope": "", "scopeKind": ""}, {"name": "void printList(cliTarget filter,char * serviceName,outputFormat format)", "description": "Retrieves and prints a list of service information based on filters and format.", "scope": "", "scopeKind": ""}, {"name": "icHashMap * getProcessStatus(processInfo * info)", "description": "Fetches the current status information for a given process info structure.", "scope": "", "scopeKind": ""}, {"name": "int8_t sortStatusMapKeys(void * left,void * right)", "description": "Comparator function for alphabetically sorting status map keys.", "scope": "", "scopeKind": ""}, {"name": "void printStatusHashMap(icHashMap * map)", "description": "Prints all key-value pairs in a service's status hashmap, sorted alphabetically.", "scope": "", "scopeKind": ""}, {"name": "void printService(processInfo * info,outputFormat format)", "description": "Outputs detailed information for a specific service info structure.", "scope": "", "scopeKind": ""}, {"name": "void printBool(short flag)", "description": "Prints 'yes' or 'NO' depending on a flag.", "scope": "", "scopeKind": ""}, {"name": "void printDate(uint64_t time)", "description": "Formats and prints a timestamp in human-readable form.", "scope": "", "scopeKind": ""}, {"name": "int main(int argc,char * argv[])", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["initIcLogger()", "setIcLogPriorityFilter()", "waitForServiceAvailable()", "watchdogService_request_START_SERVICE()", "watchdogService_request_START_GROUP()", "watchdogService_request_STOP_SERVICE_timeout()", "watchdogService_request_STOP_GROUP_timeout()", "watchdogService_request_SHUTDOWN_ALL_SERVICES_timeout()", "watchdogService_request_RESTART_SERVICE()", "watchdogService_request_RESTART_GROUP()", "watchdogService_request_RESTART_ALL_SERVICES()", "create_shutdownOptions()", "destroy_shutdownOptions()", "create_processInfo()", "destroy_processInfo()", "create_allServiceNames()", "destroy_allServiceNames()", "getServiceStatus()", "linkedListIteratorCreate()", "linkedListIteratorHasNext()", "linkedListIteratorGetNext()", "linkedListIteratorDestroy()", "hashMapIteratorCreate()", "hashMapIteratorHasNext()", "hashMapIteratorGetNext()", "hashMapGet()", "hashMapCount()", "hashMapDestroy()", "sortedLinkedListCreate()", "convertUnixTimeMillisToTime_t()"], "search-terms": ["service management", "watchdog IPC", "service list", "service start", "service stop", "service restart", "group management", "serviceUtil.c", "command line utility", "service status"], "state": 2, "file_id": 932, "knowledge_revision": 14094, "git_revision": "", "ctags": [{"_type": "tag", "name": "ALL_TARGET", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/utils/serviceUtil/src/serviceUtil.c", "pattern": "/^    ALL_TARGET$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon3a386ca50203", "scopeKind": "enum"}, {"_type": "tag", "name": "GROUP_TARGET", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/utils/serviceUtil/src/serviceUtil.c", "pattern": "/^    GROUP_TARGET,$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon3a386ca50203", "scopeKind": "enum"}, {"_type": "tag", "name": "LIST_ACTION", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/utils/serviceUtil/src/serviceUtil.c", "pattern": "/^    LIST_ACTION,$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon3a386ca50103", "scopeKind": "enum"}, {"_type": "tag", "name": "NO_ACTION", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/utils/serviceUtil/src/serviceUtil.c", "pattern": "/^    NO_ACTION,$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon3a386ca50103", "scopeKind": "enum"}, {"_type": "tag", "name": "NO_TARGET", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/utils/serviceUtil/src/serviceUtil.c", "pattern": "/^    NO_TARGET,$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon3a386ca50203", "scopeKind": "enum"}, {"_type": "tag", "name": "PRINT_NORMAL", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/utils/serviceUtil/src/serviceUtil.c", "pattern": "/^    PRINT_NORMAL,$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon3a386ca50303", "scopeKind": "enum"}, {"_type": "tag", "name": "PRINT_SUMMARY", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/utils/serviceUtil/src/serviceUtil.c", "pattern": "/^    PRINT_SUMMARY,$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon3a386ca50303", "scopeKind": "enum"}, {"_type": "tag", "name": "PRINT_VERBOSE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/utils/serviceUtil/src/serviceUtil.c", "pattern": "/^    PRINT_VERBOSE$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon3a386ca50303", "scopeKind": "enum"}, {"_type": "tag", "name": "RESTART_ACTION", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/utils/serviceUtil/src/serviceUtil.c", "pattern": "/^    RESTART_ACTION      \\/\\/ cliTarget required$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon3a386ca50103", "scopeKind": "enum"}, {"_type": "tag", "name": "SERVICE_TARGET", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/utils/serviceUtil/src/serviceUtil.c", "pattern": "/^    SERVICE_TARGET,$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon3a386ca50203", "scopeKind": "enum"}, {"_type": "tag", "name": "START_ACTION", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/utils/serviceUtil/src/serviceUtil.c", "pattern": "/^    START_ACTION,       \\/\\/ cliTarget required$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon3a386ca50103", "scopeKind": "enum"}, {"_type": "tag", "name": "STOP_ACTION", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/utils/serviceUtil/src/serviceUtil.c", "pattern": "/^    STOP_ACTION,        \\/\\/ cliTarget required$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon3a386ca50103", "scopeKind": "enum"}, {"_type": "tag", "name": "SUMMARY_LIST_ACTION", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/utils/serviceUtil/src/serviceUtil.c", "pattern": "/^    SUMMARY_LIST_ACTION,$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon3a386ca50103", "scopeKind": "enum"}, {"_type": "tag", "name": "__anon3a386ca50103", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/utils/serviceUtil/src/serviceUtil.c", "pattern": "/^{$/", "file": true, "language": "C", "kind": "enum"}, {"_type": "tag", "name": "__anon3a386ca50203", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/utils/serviceUtil/src/serviceUtil.c", "pattern": "/^{$/", "file": true, "language": "C", "kind": "enum"}, {"_type": "tag", "name": "__anon3a386ca50303", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/utils/serviceUtil/src/serviceUtil.c", "pattern": "/^{$/", "file": true, "language": "C", "kind": "enum"}, {"_type": "tag", "name": "cliAction", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/utils/serviceUtil/src/serviceUtil.c", "pattern": "/^} cliAction;$/", "file": true, "language": "C", "typeref": "enum:__anon3a386ca50103", "kind": "typedef"}, {"_type": "tag", "name": "cliTarget", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/utils/serviceUtil/src/serviceUtil.c", "pattern": "/^} cliTarget;$/", "file": true, "language": "C", "typeref": "enum:__anon3a386ca50203", "kind": "typedef"}, {"_type": "tag", "name": "doCleanup", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/utils/serviceUtil/src/serviceUtil.c", "pattern": "/^static void doCleanup(char *value)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(char * value)"}, {"_type": "tag", "name": "getProcessStatus", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/utils/serviceUtil/src/serviceUtil.c", "pattern": "/^static icHashMap *getProcessStatus(processInfo *info)$/", "file": true, "language": "C", "typeref": "typename:icHashMap *", "kind": "function", "signature": "(processInfo * info)"}, {"_type": "tag", "name": "main", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/utils/serviceUtil/src/serviceUtil.c", "pattern": "/^int main(int argc, char *argv[])$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(int argc,char * argv[])"}, {"_type": "tag", "name": "outputFormat", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/utils/serviceUtil/src/serviceUtil.c", "pattern": "/^} outputFormat;$/", "file": true, "language": "C", "typeref": "enum:__anon3a386ca50303", "kind": "typedef"}, {"_type": "tag", "name": "printBool", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/utils/serviceUtil/src/serviceUtil.c", "pattern": "/^static void printBool(short flag)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(short flag)"}, {"_type": "tag", "name": "printDate", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/utils/serviceUtil/src/serviceUtil.c", "pattern": "/^static void printDate(uint64_t time)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(uint64_t time)"}, {"_type": "tag", "name": "printList", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/utils/serviceUtil/src/serviceUtil.c", "pattern": "/^static void printList(cliTarget filter, char *serviceName, outputFormat format)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(cliTarget filter,char * serviceName,outputFormat format)"}, {"_type": "tag", "name": "printService", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/utils/serviceUtil/src/serviceUtil.c", "pattern": "/^static void printService(processInfo *info, outputFormat format)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(processInfo * info,outputFormat format)"}, {"_type": "tag", "name": "printStatusHashMap", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/utils/serviceUtil/src/serviceUtil.c", "pattern": "/^static void printStatusHashMap(icHashMap *map)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(icHashMap * map)"}, {"_type": "tag", "name": "printUsage", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/utils/serviceUtil/src/serviceUtil.c", "pattern": "/^static void printUsage()$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "sortStatusMapKeys", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/utils/serviceUtil/src/serviceUtil.c", "pattern": "/^static int8_t sortStatusMapKeys(void *left, void *right)$/", "file": true, "language": "C", "typeref": "typename:int8_t", "kind": "function", "signature": "(void * left,void * right)"}], "hash": "68d6f4ab66d0ae2c20db16c419403a61", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "components/opensource/zilker-sdk/source/utils/serviceUtil/src/serviceUtil.c", "revision_history": [{"14094": ""}]}