{"is_source_file": true, "format": "C", "description": "This file contains unit tests for the Zigbee subsystem, including tests for firmware cleanup and device detail serialization/deserialization. It includes setup helpers for creating dummy devices and firmware files, as well as mocked functions for dependencies.", "external_files": ["subsystems/zigbee/zigbeeSubsystem.h", "device/icDevice.h", "deviceModelHelper.h", "commonDeviceDefs.h", "resourceTypes.h", "deviceDriver.h", "subsystems/zigbee/zigbeeSubsystem.h", "zhal/zhal.h", "<icLog/logging.h>"], "external_methods": ["__wrap_deviceServiceGetDevicesBySubsystem", "__wrap_deviceServiceGetDeviceDescriptorForDevice", "__wrap_getDynamicPath"], "published": ["zigbeeSubsystemCleanupFirmwareFiles", "icDiscoveredDeviceDetailsToJson", "icDiscoveredDeviceDetailsFromJson"], "classes": [], "methods": [{"name": "DeviceDescriptor * __wrap_deviceServiceGetDeviceDescriptorForDevice(icDevice * device)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "icLinkedList * __wrap_deviceServiceGetDevicesBySubsystem(const char * subsystem)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char * __wrap_getDynamicPath()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "DeviceDescriptor * createDeviceDescriptor(const char * manufacturer,const char * model,const char * hardwareVersion,const char * firmwareVersion)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "icDevice * createDummyDevice(const char * manufacturer,const char * model,const char * hardwareVersion,const char * firmwareVersion)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void createDummyFirmwareFile(DeviceFirmwareType firmwareType)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int dynamicDirSetup(void ** state)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int dynamicDirTeardown(void ** state)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char * getDummyFirmwareFilePath(DeviceFirmwareType firmwareType)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int main(int argc,const char ** argv)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void test_encodeDecodeIcDiscoveredDeviceDetails(void ** state)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void test_zigbeeSubsystemCleanupFirmwareFiles(void ** state)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void test_zigbeeSubsystemCleanupFirmwareFilesDoNothingIfFirmwareNeeded(void ** state)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["linkedListCreate", "linkedListAppend", "createDevice", "createDeviceResource", "freeIcDiscoveredDeviceDetails", "icDiscoveredDeviceDetailsToJson", "icDiscoveredDeviceDetailsFromJson", "system", "assert_non_null", "assert_string_equal", "assert_true", "assert_int_not_equal", "assert_return_code", "stat", "free", "strdup"], "search-terms": ["zigbeeSubsystemTest", "firmware cleanup", "device descriptor", "dummy firmware files", "json serialization", "unit tests", "mocked dependencies"], "state": 2, "file_id": 950, "knowledge_revision": 14105, "git_revision": "", "ctags": [{"_type": "tag", "name": "DUMMY_OTA_FIRMWARE_FILE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/test/src/subsystems/zigbee/zigbeeSubsystemTest.c", "pattern": "/^#define DUMMY_OTA_FIRMWARE_FILE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "LEGACY_FIRMWARE_FILE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/test/src/subsystems/zigbee/zigbeeSubsystemTest.c", "pattern": "/^#define LEGACY_FIRMWARE_FILE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "LOG_TAG", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/test/src/subsystems/zigbee/zigbeeSubsystemTest.c", "pattern": "/^#define LOG_TAG /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "__wrap_deviceServiceGetDeviceDescriptorForDevice", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/test/src/subsystems/zigbee/zigbeeSubsystemTest.c", "pattern": "/^DeviceDescriptor *__wrap_deviceServiceGetDeviceDescriptorForDevice(icDevice *device)$/", "language": "C", "typeref": "typename:DeviceDescriptor *", "kind": "function", "signature": "(icDevice * device)"}, {"_type": "tag", "name": "__wrap_deviceServiceGetDevicesBySubsystem", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/test/src/subsystems/zigbee/zigbeeSubsystemTest.c", "pattern": "/^icLinkedList *__wrap_deviceServiceGetDevicesBySubsystem(const char *subsystem)$/", "language": "C", "typeref": "typename:icLinkedList *", "kind": "function", "signature": "(const char * subsystem)"}, {"_type": "tag", "name": "__wrap_getDynamicPath", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/test/src/subsystems/zigbee/zigbeeSubsystemTest.c", "pattern": "/^char *__wrap_getDynamicPath()$/", "language": "C", "typeref": "typename:char *", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "counter", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/test/src/subsystems/zigbee/zigbeeSubsystemTest.c", "pattern": "/^static int counter = 0;$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "variable"}, {"_type": "tag", "name": "createDeviceDescriptor", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/test/src/subsystems/zigbee/zigbeeSubsystemTest.c", "pattern": "/^static DeviceDescriptor *createDeviceDescriptor(const char *manufacturer, const char *model, con/", "file": true, "language": "C", "typeref": "typename:DeviceDescriptor *", "kind": "function", "signature": "(const char * manufacturer,const char * model,const char * hardwareVersion,const char * firmwareVersion)"}, {"_type": "tag", "name": "createDummyDevice", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/test/src/subsystems/zigbee/zigbeeSubsystemTest.c", "pattern": "/^static icDevice *createDummyDevice(const char *manufacturer, const char *model, const char *hard/", "file": true, "language": "C", "typeref": "typename:icDevice *", "kind": "function", "signature": "(const char * manufacturer,const char * model,const char * hardwareVersion,const char * firmwareVersion)"}, {"_type": "tag", "name": "createDummyFirmwareFile", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/test/src/subsystems/zigbee/zigbeeSubsystemTest.c", "pattern": "/^static void createDummyFirmwareFile(DeviceFirmwareType firmwareType)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(DeviceFirmwareType firmwareType)"}, {"_type": "tag", "name": "dynamicDir", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/test/src/subsystems/zigbee/zigbeeSubsystemTest.c", "pattern": "/^static char *dynamicDir;$/", "file": true, "language": "C", "typeref": "typename:char *", "kind": "variable"}, {"_type": "tag", "name": "dynamicDirSetup", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/test/src/subsystems/zigbee/zigbeeSubsystemTest.c", "pattern": "/^static int dynamicDirSetup(void **state)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(void ** state)"}, {"_type": "tag", "name": "dynamicDirTeardown", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/test/src/subsystems/zigbee/zigbeeSubsystemTest.c", "pattern": "/^static int dynamicDirTeardown(void **state)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(void ** state)"}, {"_type": "tag", "name": "getDummyFirmwareFilePath", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/test/src/subsystems/zigbee/zigbeeSubsystemTest.c", "pattern": "/^static char *getDummyFirmwareFilePath(DeviceFirmwareType firmwareType)$/", "file": true, "language": "C", "typeref": "typename:char *", "kind": "function", "signature": "(DeviceFirmwareType firmwareType)"}, {"_type": "tag", "name": "main", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/test/src/subsystems/zigbee/zigbeeSubsystemTest.c", "pattern": "/^int main(int argc, const char ** argv)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(int argc,const char ** argv)"}, {"_type": "tag", "name": "templateTempDir", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/test/src/subsystems/zigbee/zigbeeSubsystemTest.c", "pattern": "/^static char templateTempDir[255] = \"\\/tmp\\/testDirXXXXXX\";$/", "file": true, "language": "C", "typeref": "typename:char[255]", "kind": "variable"}, {"_type": "tag", "name": "test_encodeDecodeIcDiscoveredDeviceDetails", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/test/src/subsystems/zigbee/zigbeeSubsystemTest.c", "pattern": "/^static void test_encodeDecodeIcDiscoveredDeviceDetails(void **state)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void ** state)"}, {"_type": "tag", "name": "test_zigbeeSubsystemCleanupFirmwareFiles", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/test/src/subsystems/zigbee/zigbeeSubsystemTest.c", "pattern": "/^static void test_zigbeeSubsystemCleanupFirmwareFiles(void **state)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void ** state)"}, {"_type": "tag", "name": "test_zigbeeSubsystemCleanupFirmwareFilesDoNothingIfFirmwareNeeded", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/test/src/subsystems/zigbee/zigbeeSubsystemTest.c", "pattern": "/^static void test_zigbeeSubsystemCleanupFirmwareFilesDoNothingIfFirmwareNeeded(void **state)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void ** state)"}], "hash": "203a106aa14699f7fdf25b9876ce2d4f", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "components/opensource/zilker-sdk/source/services/device/core/test/src/subsystems/zigbee/zigbeeSubsystemTest.c", "fields": [{"name": "int counter", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char * dynamicDir", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char[255] templateTempDir", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"14105": ""}]}