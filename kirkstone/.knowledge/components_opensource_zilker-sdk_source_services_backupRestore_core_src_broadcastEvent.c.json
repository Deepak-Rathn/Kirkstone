{"is_source_file": true, "format": "C", "description": "This file is a C source file responsible for generating and broadcasting backup restore events to other processes using IPC mechanisms. It includes functions to initialize and shut down an event producer, as well as to broadcast restore step events as JSON messages.", "external_files": ["icLog/logging.h", "icIpc/eventProducer.h", "backup/backupRestoreService_event.h", "broadcastEvent.h", "common.h", "<stdio.h>", "<stdlib.h>", "<string.h>", "<pthread.h>"], "external_methods": ["initEventProducer", "shutdownEventProducer", "create_restoreStepEvent", "setEventId", "setEventTimeToNow", "encode_restoreStepEvent_toJSON", "broadcastEvent", "destroy_restoreStepEvent"], "published": ["startBackupRestoreEventProducer", "stopBackupRestoreEventProducer", "broadcastRestoreEvent"], "classes": [], "methods": [{"name": "void startBackupRestoreEventProducer()", "description": "Initializes the event producer for backup restore events if it is not already initialized.", "scope": "", "scopeKind": ""}, {"name": "void stopBackupRestoreEventProducer()", "description": "Shuts down and cleans up the event producer for backup restore events.", "scope": "", "scopeKind": ""}, {"name": "void broadcastRestoreEvent(uint32_t stepNum,const char * stepName,bool stepSuccess)", "description": "Broadcasts a restore step event as a JSON message to listeners. It prepares an event structure, populates it, converts it to JSON, and sends it via IPC.", "scope": "", "scopeKind": ""}], "calls": ["initEventProducer", "shutdownEventProducer", "create_restoreStepEvent", "setEventId", "setEventTimeToNow", "encode_restoreStepEvent_toJSON", "broadcastEvent", "destroy_restoreStepEvent"], "search-terms": ["backuprestore", "broadcast", "restoreStepEvent", "eventProducer", "restoreEvent", "json", "IPC", "libicIpc"], "state": 2, "file_id": 1202, "knowledge_revision": 14353, "git_revision": "", "ctags": [{"_type": "tag", "name": "EVENT_MTX", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/backupRestore/core/src/broadcastEvent.c", "pattern": "/^static pthread_mutex_t EVENT_MTX = PTHREAD_MUTEX_INITIALIZER;     \\/\\/ mutex for the event produ/", "file": true, "language": "C", "typeref": "typename:pthread_mutex_t", "kind": "variable"}, {"_type": "tag", "name": "broadcastRestoreEvent", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/backupRestore/core/src/broadcastEvent.c", "pattern": "/^void broadcastRestoreEvent(uint32_t stepNum, const char *stepName, bool stepSuccess)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(uint32_t stepNum,const char * stepName,bool stepSuccess)"}, {"_type": "tag", "name": "producer", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/backupRestore/core/src/broadcastEvent.c", "pattern": "/^static EventProducer producer = NULL;$/", "file": true, "language": "C", "typeref": "typename:EventProducer", "kind": "variable"}, {"_type": "tag", "name": "startBackupRestoreEventProducer", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/backupRestore/core/src/broadcastEvent.c", "pattern": "/^void startBackupRestoreEventProducer()$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "stopBackupRestoreEventProducer", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/backupRestore/core/src/broadcastEvent.c", "pattern": "/^void stopBackupRestoreEventProducer()$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}], "hash": "138f2fa67c238c9f3edb6d718fde9171", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "components/opensource/zilker-sdk/source/services/backupRestore/core/src/broadcastEvent.c", "fields": [{"name": "pthread_mutex_t EVENT_MTX", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "EventProducer producer", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"14353": ""}]}