{"is_source_file": true, "format": "C", "description": "This file implements a state machine for managing GPON link status, including initialization, transition, and operational states for a GPON interface. It includes functions to configure, enable, disable, and monitor the interface's status, as well as a threaded state machine loop.", "external_files": ["gponmgr_dml_data.h", "gponmgr_dml_hal.h", "gponmgr_link_state_machine.h", "gponmgr_dml_eth_iface.h"], "external_methods": ["GponHal_get_veip", "Gponmgr_eth_addInterface", "Gponmgr_eth_setEnableInterface", "CosaDmlGponSetPhyStatusForWanManager", "GponMgrDml_GetData_locked", "GponMgrDml_GetData_release"], "published": ["GponMgr_Link_StateMachine_Start", "GponMgr_Link_SM_Cleanup", "GponMgr_Link_SM_Init", "GponMgr_Link_StateMachine_Start"], "classes": [], "methods": [{"name": "ANSC_STATUS gpon_controller_init(GPON_LINK_SM_CTRL_T * gpon_sm_ctrl)", "description": "Initializes the GPON link state machine control structure with default values.", "scope": "", "scopeKind": ""}, {"name": "bool check_gpon_physical_media_alarm_los(GPON_LINK_SM_CTRL_T * gpon_sm_ctrl)", "description": "Checks if any physical media layer has a LOS alarm.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS check_gpon_veip_interface_enabled(GPON_LINK_SM_CTRL_T * gpon_sm_ctrl)", "description": "Verifies if the VEIP interface is in an enabled state.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS check_gpon_veip_interface_up(GPON_LINK_SM_CTRL_T * gpon_sm_ctrl)", "description": "Checks if the VEIP interface is operational and if there's no LOS alarm in physical media.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS gpon_config_veip_interface(GPON_LINK_SM_CTRL_T * gpon_sm_ctrl)", "description": "Configures and enables the VEIP interface.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS gpon_disable_veip_interface(GPON_LINK_SM_CTRL_T * gpon_sm_ctrl)", "description": "Disables the VEIP interface.", "scope": "", "scopeKind": ""}, {"name": "GPON_LINK_STATE_MACHINE_T gpon_sm_transition_Start(GPON_LINK_SM_CTRL_T * gpon_sm_ctrl)", "description": "Transition to start the GPON link state machine.", "scope": "", "scopeKind": ""}, {"name": "GPON_LINK_STATE_MACHINE_T gpon_sm_transition_LinkDown_to_LinkUp(GPON_LINK_SM_CTRL_T * gpon_sm_ctrl)", "description": "Handles transition from link down to link up by configuring the VEIP interface.", "scope": "", "scopeKind": ""}, {"name": "GPON_LINK_STATE_MACHINE_T gpon_sm_transition_LinkUp_to_LinkDown(GPON_LINK_SM_CTRL_T * gpon_sm_ctrl)", "description": "Handles transition from link up to down by disabling the VEIP interface.", "scope": "", "scopeKind": ""}, {"name": "GPON_LINK_STATE_MACHINE_T gpon_sm_transition_Exit(GPON_LINK_SM_CTRL_T * gpon_sm_ctrl)", "description": "Stops the state machine.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS GSM_Operational_State_Handler(GPON_LINK_SM_CTRL_T * gpon_sm_ctrl)", "description": "Handles operational state activities, currently a placeholder.", "scope": "", "scopeKind": ""}, {"name": "GPON_LINK_STATE_MACHINE_T Gpon_Link_Down_State(GPON_LINK_SM_CTRL_T * gpon_sm_ctrl)", "description": "State handler for when the link is down, checks interface and transitions.", "scope": "", "scopeKind": ""}, {"name": "GPON_LINK_STATE_MACHINE_T Gpon_Link_Up_State(GPON_LINK_SM_CTRL_T * gpon_sm_ctrl)", "description": "State handler for when the link is up, monitors interface status.", "scope": "", "scopeKind": ""}, {"name": "GPON_LINK_SM_CTRL_T * GponMgr_Link_SM_Init(void)", "description": "Allocates and initializes the link state machine control structure.", "scope": "", "scopeKind": ""}, {"name": "void GponMgr_Link_SM_Cleanup(GPON_LINK_SM_CTRL_T * gpon_sm_ctrl)", "description": "Cleans up resources and finalizes the control structure.", "scope": "", "scopeKind": ""}, {"name": "void * GponMgr_Link_SM_Thread(void * arg)", "description": "Main thread function implementing the state machine loop.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS GponMgr_Link_StateMachine_Start(DML_VEIP * pGponVeip)", "description": "Creates and starts the GPON link state machine in a separate thread.", "scope": "", "scopeKind": ""}], "calls": ["GponHal_get_veip", "Gponmgr_eth_addInterface", "Gponmgr_eth_setEnableInterface", "CosaDmlGponSetPhyStatusForWanManager", "GponMgrDml_GetData_locked", "GponMgrDml_GetData_release"], "search-terms": ["GponManager", "GPON_LINK_SM_CTRL_T", "gpon_link_state_machine", "veip_interface_management", "state_machine_thread", "link_state_transitions"], "state": 2, "file_id": 9404, "knowledge_revision": 22422, "git_revision": "", "ctags": [{"_type": "tag", "name": "GPON_LINK_SM_LOOP_TIMEOUT", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkGponManager/source/GponManager/gponmgr_link_state_machine.c", "pattern": "/^#define GPON_LINK_SM_LOOP_TIMEOUT /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "GSM_Operational_State_Handler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkGponManager/source/GponManager/gponmgr_link_state_machine.c", "pattern": "/^ANSC_STATUS GSM_Operational_State_Handler(GPON_LINK_SM_CTRL_T* gpon_sm_ctrl)$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(GPON_LINK_SM_CTRL_T * gpon_sm_ctrl)"}, {"_type": "tag", "name": "GponMgr_Link_SM_Cleanup", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkGponManager/source/GponManager/gponmgr_link_state_machine.c", "pattern": "/^void GponMgr_Link_SM_Cleanup(GPON_LINK_SM_CTRL_T* gpon_sm_ctrl)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(GPON_LINK_SM_CTRL_T * gpon_sm_ctrl)"}, {"_type": "tag", "name": "GponMgr_Link_SM_Init", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkGponManager/source/GponManager/gponmgr_link_state_machine.c", "pattern": "/^GPON_LINK_SM_CTRL_T* GponMgr_Link_SM_Init(void)$/", "language": "C", "typeref": "typename:GPON_LINK_SM_CTRL_T *", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "GponMgr_Link_SM_Thread", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkGponManager/source/GponManager/gponmgr_link_state_machine.c", "pattern": "/^void* GponMgr_Link_SM_Thread(void *arg)$/", "language": "C", "typeref": "typename:void *", "kind": "function", "signature": "(void * arg)"}, {"_type": "tag", "name": "GponMgr_Link_StateMachine_Start", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkGponManager/source/GponManager/gponmgr_link_state_machine.c", "pattern": "/^ANSC_STATUS GponMgr_Link_StateMachine_Start(DML_VEIP* pGponVeip)$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(DML_VEIP * pGponVeip)"}, {"_type": "tag", "name": "Gpon_Link_Down_State", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkGponManager/source/GponManager/gponmgr_link_state_machine.c", "pattern": "/^GPON_LINK_STATE_MACHINE_T Gpon_Link_Down_State(GPON_LINK_SM_CTRL_T* gpon_sm_ctrl)$/", "language": "C", "typeref": "typename:GPON_LINK_STATE_MACHINE_T", "kind": "function", "signature": "(GPON_LINK_SM_CTRL_T * gpon_sm_ctrl)"}, {"_type": "tag", "name": "Gpon_Link_Up_State", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkGponManager/source/GponManager/gponmgr_link_state_machine.c", "pattern": "/^GPON_LINK_STATE_MACHINE_T Gpon_Link_Up_State(GPON_LINK_SM_CTRL_T* gpon_sm_ctrl)$/", "language": "C", "typeref": "typename:GPON_LINK_STATE_MACHINE_T", "kind": "function", "signature": "(GPON_LINK_SM_CTRL_T * gpon_sm_ctrl)"}, {"_type": "tag", "name": "check_gpon_physical_media_alarm_los", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkGponManager/source/GponManager/gponmgr_link_state_machine.c", "pattern": "/^bool check_gpon_physical_media_alarm_los(GPON_LINK_SM_CTRL_T* gpon_sm_ctrl)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(GPON_LINK_SM_CTRL_T * gpon_sm_ctrl)"}, {"_type": "tag", "name": "check_gpon_veip_interface_enabled", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkGponManager/source/GponManager/gponmgr_link_state_machine.c", "pattern": "/^ANSC_STATUS check_gpon_veip_interface_enabled(GPON_LINK_SM_CTRL_T* gpon_sm_ctrl)$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(GPON_LINK_SM_CTRL_T * gpon_sm_ctrl)"}, {"_type": "tag", "name": "check_gpon_veip_interface_up", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkGponManager/source/GponManager/gponmgr_link_state_machine.c", "pattern": "/^ANSC_STATUS check_gpon_veip_interface_up(GPON_LINK_SM_CTRL_T* gpon_sm_ctrl)$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(GPON_LINK_SM_CTRL_T * gpon_sm_ctrl)"}, {"_type": "tag", "name": "gpon_config_veip_interface", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkGponManager/source/GponManager/gponmgr_link_state_machine.c", "pattern": "/^ANSC_STATUS gpon_config_veip_interface(GPON_LINK_SM_CTRL_T* gpon_sm_ctrl)$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(GPON_LINK_SM_CTRL_T * gpon_sm_ctrl)"}, {"_type": "tag", "name": "gpon_controller_init", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkGponManager/source/GponManager/gponmgr_link_state_machine.c", "pattern": "/^ANSC_STATUS gpon_controller_init(GPON_LINK_SM_CTRL_T* gpon_sm_ctrl)$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(GPON_LINK_SM_CTRL_T * gpon_sm_ctrl)"}, {"_type": "tag", "name": "gpon_disable_veip_interface", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkGponManager/source/GponManager/gponmgr_link_state_machine.c", "pattern": "/^ANSC_STATUS gpon_disable_veip_interface(GPON_LINK_SM_CTRL_T* gpon_sm_ctrl)$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(GPON_LINK_SM_CTRL_T * gpon_sm_ctrl)"}, {"_type": "tag", "name": "gpon_sm_transition_Exit", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkGponManager/source/GponManager/gponmgr_link_state_machine.c", "pattern": "/^GPON_LINK_STATE_MACHINE_T gpon_sm_transition_Exit(GPON_LINK_SM_CTRL_T* gpon_sm_ctrl)$/", "language": "C", "typeref": "typename:GPON_LINK_STATE_MACHINE_T", "kind": "function", "signature": "(GPON_LINK_SM_CTRL_T * gpon_sm_ctrl)"}, {"_type": "tag", "name": "gpon_sm_transition_LinkDown_to_LinkUp", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkGponManager/source/GponManager/gponmgr_link_state_machine.c", "pattern": "/^GPON_LINK_STATE_MACHINE_T gpon_sm_transition_LinkDown_to_LinkUp(GPON_LINK_SM_CTRL_T* gpon_sm_ctr/", "language": "C", "typeref": "typename:GPON_LINK_STATE_MACHINE_T", "kind": "function", "signature": "(GPON_LINK_SM_CTRL_T * gpon_sm_ctrl)"}, {"_type": "tag", "name": "gpon_sm_transition_LinkUp_to_LinkDown", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkGponManager/source/GponManager/gponmgr_link_state_machine.c", "pattern": "/^GPON_LINK_STATE_MACHINE_T gpon_sm_transition_LinkUp_to_LinkDown(GPON_LINK_SM_CTRL_T* gpon_sm_ctr/", "language": "C", "typeref": "typename:GPON_LINK_STATE_MACHINE_T", "kind": "function", "signature": "(GPON_LINK_SM_CTRL_T * gpon_sm_ctrl)"}, {"_type": "tag", "name": "gpon_sm_transition_Start", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkGponManager/source/GponManager/gponmgr_link_state_machine.c", "pattern": "/^GPON_LINK_STATE_MACHINE_T gpon_sm_transition_Start(GPON_LINK_SM_CTRL_T* gpon_sm_ctrl)$/", "language": "C", "typeref": "typename:GPON_LINK_STATE_MACHINE_T", "kind": "function", "signature": "(GPON_LINK_SM_CTRL_T * gpon_sm_ctrl)"}], "hash": "f096edcaad21eff01d11eca126c0884b", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/RdkGponManager/source/GponManager/gponmgr_link_state_machine.c", "revision_history": [{"22422": ""}]}