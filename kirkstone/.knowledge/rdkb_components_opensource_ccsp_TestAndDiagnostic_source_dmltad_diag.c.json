{"is_source_file": true, "format": "C", "description": "The file 'diag.c' contains the implementation of diagnostics API functions for network tests such as ping and traceroute, including initialization, start, stop, configuration management, and utility functions related to network interfaces and system events.", "external_files": ["diag_inter.h", "ccsp_base_api.h", "safec_lib_common.h", "ccsp_trace.h", "/sysevent/sysevent.h", "/syscfg/syscfg.h"], "external_methods": ["sysevent_open", "sysevent_set", "sysevent_get", "sysevent_close", "g_GetParamValueByPathNameProc", "syscfg_get", "getPartnerId", "sysevent_close"], "published": ["diag_start", "diag_stop", "diag_setcfg", "diag_getcfg", "diag_getstatis", "diag_getstate", "diag_geterr", "diag_pingtest_init"], "classes": [], "methods": [{"name": "diag_err_t __diag_stop(diag_obj_t * diag)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const char * assign_iface(const char * host,char * buf,size_t size)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int commonSyseventGet(char * key,char * value,int valLen)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int commonSyseventSet(char * key,char * value)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "diag_err_t diag_getcfg(diag_mode_t mode,diag_cfg_t * cfg)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "diag_err_t diag_geterr(diag_mode_t mode,diag_err_t * error)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "diag_err_t diag_getstate(diag_mode_t mode,diag_state_t * state)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "diag_err_t diag_getstatis(diag_mode_t mode,diag_stat_t * stat)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "diag_err_t diag_init(void)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "diag_err_t diag_init_blocksize(void)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "diag_pingtest_device_details_t * diag_pingtest_getdevicedetails(void)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "diag_err_t diag_pingtest_init(void)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "diag_err_t diag_setcfg(diag_mode_t mode,const diag_cfg_t * cfg)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "diag_err_t diag_start(diag_mode_t mode)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "diag_err_t diag_stop(diag_mode_t mode)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void * diag_task(void * arg)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "diag_err_t diag_term(void)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int getIPbyInterfaceName(char * interface,char * ip,size_t len)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "diag_obj_t * get_diag_by_mode(diag_mode_t mode)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool inet6_nexthop_not_def(const struct in6_addr * addr)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int inet_is_local(const struct in_addr * addr)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int inet_is_onlink(const struct in_addr * addr)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int inet_is_same_net(uint32_t addr1,uint32_t addr2,uint32_t mask)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "BOOL isDSLiteEnabled(void)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "BOOL isIPv4Host(const char * host)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool is_IPv6(const char * host)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool is_MAPT()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int is_empty(const char * line)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool is_ipv6_same(const struct in6_addr * addr1,const struct in6_addr * addr2)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool is_prefix_equal(const struct in6_addr * addrs1,const struct in6_addr * addrs2,unsigned int prefixlen)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int openCommonSyseventConnection()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void trim(char * line)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["commonSyseventOpen", "sysevent_open", "sysevent_set", "sysevent_get", "sysevent_close", "getPartnerId", "syscfg_get", "inet_pton", "inet_ntoa", "popen", "pclose", "fgets", "strtok_r", "strcmp", "strchr", "strcpy_s", "memmove", "memset_s", "fprintf", "atoi", "strcasecmp", "strdup", "close", "socket", "ioctl"], "search-terms": ["diag.c", "diagnostics API", "network ping", "traceroute", "system event", "socket interface", "syscfg", "system initialization"], "state": 2, "file_id": 9045, "knowledge_revision": 22067, "git_revision": "", "ctags": [{"_type": "tag", "name": "MAPT_INTERFACE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^#define MAPT_INTERFACE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "SE_IP_ADDR", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^#define SE_IP_ADDR /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "SE_PROG_NAME", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^#define SE_PROG_NAME /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "__diag_stop", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^static diag_err_t __diag_stop(diag_obj_t *diag)$/", "file": true, "language": "C", "typeref": "typename:diag_err_t", "kind": "function", "signature": "(diag_obj_t * diag)"}, {"_type": "tag", "name": "assign_iface", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^static const char *assign_iface(const char *host, char *buf, size_t size)$/", "file": true, "language": "C", "typeref": "typename:const char *", "kind": "function", "signature": "(const char * host,char * buf,size_t size)"}, {"_type": "tag", "name": "commonSyseventFd", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^int commonSyseventFd = -1;$/", "language": "C", "typeref": "typename:int", "kind": "variable"}, {"_type": "tag", "name": "commonSyseventGet", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^int commonSyseventGet(char* key, char* value, int valLen){$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(char * key,char * value,int valLen)"}, {"_type": "tag", "name": "commonSyseventSet", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^int commonSyseventSet(char* key, char* value){$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(char * key,char * value)"}, {"_type": "tag", "name": "commonSyseventToken", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^token_t commonSyseventToken;$/", "language": "C", "typeref": "typename:token_t", "kind": "variable"}, {"_type": "tag", "name": "diag_getcfg", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^diag_err_t diag_getcfg(diag_mode_t mode, diag_cfg_t *cfg)$/", "language": "C", "typeref": "typename:diag_err_t", "kind": "function", "signature": "(diag_mode_t mode,diag_cfg_t * cfg)"}, {"_type": "tag", "name": "diag_geterr", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^diag_err_t diag_geterr(diag_mode_t mode, diag_err_t *error)$/", "language": "C", "typeref": "typename:diag_err_t", "kind": "function", "signature": "(diag_mode_t mode,diag_err_t * error)"}, {"_type": "tag", "name": "diag_getstate", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^diag_err_t diag_getstate(diag_mode_t mode, diag_state_t *state)$/", "language": "C", "typeref": "typename:diag_err_t", "kind": "function", "signature": "(diag_mode_t mode,diag_state_t * state)"}, {"_type": "tag", "name": "diag_getstatis", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^diag_err_t diag_getstatis(diag_mode_t mode, diag_stat_t *stat)$/", "language": "C", "typeref": "typename:diag_err_t", "kind": "function", "signature": "(diag_mode_t mode,diag_stat_t * stat)"}, {"_type": "tag", "name": "diag_init", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^diag_err_t diag_init(void)$/", "language": "C", "typeref": "typename:diag_err_t", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "diag_init_blocksize", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^static diag_err_t diag_init_blocksize (void)$/", "file": true, "language": "C", "typeref": "typename:diag_err_t", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "diag_ping", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^static diag_obj_t *diag_ping;$/", "file": true, "language": "C", "typeref": "typename:diag_obj_t *", "kind": "variable"}, {"_type": "tag", "name": "diag_pingtest_getdevicedetails", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^diag_pingtest_device_details_t* diag_pingtest_getdevicedetails(void)$/", "language": "C", "typeref": "typename:diag_pingtest_device_details_t *", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "diag_pingtest_init", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^diag_err_t diag_pingtest_init( void )$/", "language": "C", "typeref": "typename:diag_err_t", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "diag_pingtest_stat", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^diag_pingtest_stat_t diag_pingtest_stat;$/", "language": "C", "typeref": "typename:diag_pingtest_stat_t", "kind": "variable"}, {"_type": "tag", "name": "diag_setcfg", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^diag_err_t diag_setcfg(diag_mode_t mode, const diag_cfg_t *cfg)$/", "language": "C", "typeref": "typename:diag_err_t", "kind": "function", "signature": "(diag_mode_t mode,const diag_cfg_t * cfg)"}, {"_type": "tag", "name": "diag_start", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^diag_err_t diag_start(diag_mode_t mode)$/", "language": "C", "typeref": "typename:diag_err_t", "kind": "function", "signature": "(diag_mode_t mode)"}, {"_type": "tag", "name": "diag_stop", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^diag_err_t diag_stop(diag_mode_t mode)$/", "language": "C", "typeref": "typename:diag_err_t", "kind": "function", "signature": "(diag_mode_t mode)"}, {"_type": "tag", "name": "diag_task", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^static void *diag_task(void *arg)$/", "file": true, "language": "C", "typeref": "typename:void *", "kind": "function", "signature": "(void * arg)"}, {"_type": "tag", "name": "diag_term", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^diag_err_t diag_term(void)$/", "language": "C", "typeref": "typename:diag_err_t", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "diag_tracert", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^static diag_obj_t *diag_tracert;$/", "file": true, "language": "C", "typeref": "typename:diag_obj_t *", "kind": "variable"}, {"_type": "tag", "name": "getIPbyInterfaceName", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^int getIPbyInterfaceName (char *interface, char *ip, size_t len)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(char * interface,char * ip,size_t len)"}, {"_type": "tag", "name": "get_diag_by_mode", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^static diag_obj_t *get_diag_by_mode(diag_mode_t mode)$/", "file": true, "language": "C", "typeref": "typename:diag_obj_t *", "kind": "function", "signature": "(diag_mode_t mode)"}, {"_type": "tag", "name": "inet6_nexthop_not_def", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^static bool inet6_nexthop_not_def(const struct in6_addr *addr)$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(const struct in6_addr * addr)"}, {"_type": "tag", "name": "inet_is_local", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^static int inet_is_local(const struct in_addr *addr)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const struct in_addr * addr)"}, {"_type": "tag", "name": "inet_is_onlink", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^static int inet_is_onlink(const struct in_addr *addr)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const struct in_addr * addr)"}, {"_type": "tag", "name": "inet_is_same_net", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^static int inet_is_same_net(uint32_t addr1, uint32_t addr2, uint32_t mask)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(uint32_t addr1,uint32_t addr2,uint32_t mask)"}, {"_type": "tag", "name": "isDSLiteEnabled", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^BOOL isDSLiteEnabled (void)$/", "language": "C", "typeref": "typename:BOOL", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "isIPv4Host", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^BOOL isIPv4Host (const char *host)$/", "language": "C", "typeref": "typename:BOOL", "kind": "function", "signature": "(const char * host)"}, {"_type": "tag", "name": "is_IPv6", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^static bool is_IPv6(const char *host)$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(const char * host)"}, {"_type": "tag", "name": "is_MAPT", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^static bool is_MAPT()$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "is_empty", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^static int is_empty(const char *line)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const char * line)"}, {"_type": "tag", "name": "is_ipv6_same", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^static bool is_ipv6_same(const struct in6_addr *addr1,$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(const struct in6_addr * addr1,const struct in6_addr * addr2)"}, {"_type": "tag", "name": "is_prefix_equal", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^static bool is_prefix_equal(const struct in6_addr *addrs1,$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(const struct in6_addr * addrs1,const struct in6_addr * addrs2,unsigned int prefixlen)"}, {"_type": "tag", "name": "openCommonSyseventConnection", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^static int openCommonSyseventConnection() {$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "trim", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "pattern": "/^static void trim(char *line)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(char * line)"}], "hash": "b9765b18609ebf017a738138cde48963", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/TestAndDiagnostic/source/dmltad/diag.c", "fields": [{"name": "int commonSyseventFd", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "token_t commonSyseventToken", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "diag_obj_t * diag_ping", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "diag_pingtest_stat_t diag_pingtest_stat", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "diag_obj_t * diag_tracert", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"22067": ""}]}