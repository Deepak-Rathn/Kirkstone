{"is_source_file": true, "format": "shell script / bash", "description": "This file is a shell script that manages GRE (Generic Routing Encapsulation) tunnel interfaces and hotspots on a network device. It handles creating and destroying tunnels, configuring bridges, managing SSIDs, and reacting to system events related to GRE endpoints and hotspot status.", "external_files": ["/etc/utopia/service.d/ut_plat.sh", "/etc/utopia/service.d/log_capture_path.sh", "/etc/device.properties", "/lib/rdk/t2Shared_api.sh", "/proc/driver/flowmgr/cmd"], "external_methods": ["psmcli get", "dmcli eRT retv", "sysevent get", "sysevent set", "sysevent async", "brctl show", "brctl addif", "ifconfig", "ip link add", "ip link set", "ip link delete", "vconfig add", "vconfig set", "killall"], "published": ["GRE_IFNAME", "handle_gre.sh", "create_tunnel", "destroy_tunnel", "hotspot_down", "hotspot_up", "check_ssids", "set_ssids_enabled", "set_wecb_bridges", "hotspot-restart"], "classes": [], "methods": [{"name": "wait_for_erouter0_ready", "description": "Waits until the WAN interface 'erouter0' is ready."}, {"name": "init_snooper_sysevents", "description": "Initializes system events for snooper circuit and remote enablement."}, {"name": "read_greInst", "description": "Reads GRE interface instances and sets up bridge instances accordingly."}, {"name": "create_tunnel", "description": "Creates a GRE tunnel to a remote endpoint with the specified interface name."}, {"name": "destroy_tunnel", "description": "Deletes the specified GRE tunnel interface."}, {"name": "gre_preproc", "description": "Performs pre-processing tasks related to GRE instances, including querying PSM data."}, {"name": "init_keepalive_sysevents", "description": "Initializes system events for keepalive parameters."}, {"name": "bInst_to_bNames", "description": "Converts bridge instance data into bridge names and sysevent variables."}, {"name": "read_init_params", "description": "Reads initial configuration parameters for GRE instances from PSM and system properties."}, {"name": "read_tunnel_params", "description": "Reads tunnel parameters such as key and checksum settings for a GRE instance."}, {"name": "update_bridge_config", "description": "Updates bridge configurations for a GRE interface."}, {"name": "remove_bridge_config", "description": "Removes bridge configuration rules from sysevent."}, {"name": "update_bridge_frag_config", "description": "Updates fragment configuration for GRE interface bridges."}, {"name": "get_ssids", "description": "Retrieves SSID instances and their associated radios for a GRE instance."}, {"name": "set_ssids_enabled", "description": "Enables or disables SSID broadcasts and online status."}, {"name": "set_apisolation", "description": "Enables isolation mode on SSIDs for a given GRE instance."}, {"name": "kick_clients", "description": "Kicks clients off SSIDs associated with a GRE instance."}, {"name": "kill_procs", "description": "Kills hotspot and ARP monitor processes for cleanup."}, {"name": "hotspot_down", "description": "Performs steps to bring down hotspot services and interfaces."}, {"name": "hotspot_up", "description": "Sets up and starts hotspot services and configurations for a specified instance."}, {"name": "check_ssids", "description": "Checks SSID status and triggers client kick or enablement based on WAN status."}, {"name": "set_wecb_bridges", "description": "Configures WECB bridge instances based on PSM data."}], "calls": ["sysevent get", "sysevent set", "psmcli get", "dmcli eRT retv", "brctl show", "brctl addif", "ifconfig", "ip link add", "ip link set", "ip link del", "vconfig add", "vconfig set", "killall", "sleep", "echo", "brctl show", "brctl addif", "cyclic ip link commands", "sysevent async"], "search-terms": ["handle_gre.sh", "GRE_create_tunnel", "GRE_destroy_tunnel", "Hotspot_management", "Bridge_configuration", "SSIDs_control", "System_event_integration", "PSM_GET", "Firewall_rules", "IPv4_ipv6_gretap"], "state": 2, "file_id": 7563, "knowledge_revision": 20642, "git_revision": "", "hash": "74ed897138b580adf3ffaeccb5fe1d57", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/Utopia/source/scripts/init/service.d/service_multinet/handle_gre.sh", "revision_history": [{"20642": ""}]}