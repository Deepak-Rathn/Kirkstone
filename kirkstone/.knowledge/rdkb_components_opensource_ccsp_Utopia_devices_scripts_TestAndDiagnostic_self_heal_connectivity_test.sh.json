{"is_source_file": true, "format": "shell script", "description": "This file is a shell script that automates network connectivity testing and self-healing on a router or network device. It includes functions for resetting the device, checking DNS resolution, performing ping tests, and conditionally taking corrective actions based on test results.", "external_files": ["/nvram/syscfg.db", "syscfg", "dmcli", "sysevent"], "external_methods": ["syscfg get", "syscfg create", "removehttp", "echo_t", "dmcli simu setv", "route", "sysevent get", "sysevent set"], "published": [], "classes": [], "methods": [{"name": "getCorrectiveActionState", "description": "Retrieves the current state of the corrective action setting."}, {"name": "calcRandTimetoStartPing", "description": "Calculates a random delay before starting the ping test to avoid synchronized checks."}, {"name": "resetRouter", "description": "Reboots the device by invoking a simulated reboot command."}, {"name": "resetNeeded", "description": "Performs a reset operation if needed, specifically calling resetRouter for PING process."}, {"name": "runDNSPingTest", "description": "Performs a DNS resolution test and takes corrective action if resolution fails and settings permit."}, {"name": "runPingTest", "description": "Performs ICMP ping tests to the default gateway and triggers Reset if ping fails."}], "calls": ["syscfg get ConnTest_CorrectiveAction", "syscfg get selfheal_dns_pingtest_enable", "syscfg get selfheal_dns_pingtest_url", "removehttp", "getCorrectiveActionState", "dmcli simu setv", "route -n", "sysevent get default_router", "ping", "syscfg get selfheal_ping_DataBlockSize", "syscfg get ConnTest_NumPingsPerServer", "syscfg get ConnTest_PingRespWaitTime", "sysevent set default_router", "sleep", "echo", "echo_t"], "search-terms": ["self-healing", "ping test", "DNS resolution", "network reset", "router reboot", "connectivity check", "IPv4 ping", "DNS ping test", "selfheal_enable", "contract"], "state": 2, "file_id": 7843, "knowledge_revision": 20915, "git_revision": "", "hash": "2163dd9a64954a165f5f223f128c4c38", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/Utopia/devices/scripts/TestAndDiagnostic/self_heal_connectivity_test.sh", "revision_history": [{"20915": ""}]}