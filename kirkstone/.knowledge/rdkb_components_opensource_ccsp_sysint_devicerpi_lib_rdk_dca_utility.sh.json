{"is_source_file": true, "format": "sh (shell script)", "description": "This file is a shell script for controlling the Data Collection Agent (DCA) utility in a device. It manages telemetry data collection, configuration generation, cron scheduling, and communication with other system components. The script also handles ensuring single instance execution, cleanup, and various device-specific operations.", "external_files": ["/etc/include.properties", "/etc/device.properties", "/lib/rdk/utils.sh", "/etc/mount-utils/getConfigFile.sh", "/lib/rdk/getpartnerid.sh", "/lib/rdk/getaccountid.sh", "/lib/rdk/getFWVersion.sh", "/lib/rdk/dcaSplunkUpload.sh", "/lib/rdk/logging.sh", "/lib/rdk/xcurl.sh", "/lib/rdk/cron_utils.sh"], "external_methods": ["getConfigFile", "echo_t", "crontab", "ps", "ssh", "dmcli", "scpf", "rpcclient"], "published": ["processJsonResponse", "generateTelemetryConfig", "scheduleCron", "dcaCleanup", "dropbearRecovery", "clearTelemetryConfig"], "classes": [], "methods": [{"name": "dcaCleanup", "description": "Performs cleanup of telemetry and marker files, and notifies or resets device state."}, {"name": "getEstbMac", "description": "Retrieves the device MAC address from device management or system commands."}, {"name": "getErouterIpv4", "description": "Fetches the IPv4 address of erouter0."}, {"name": "getErouterIpv6", "description": "Fetches the IPv6 address of erouter0."}, {"name": "getSNMPUpdates", "description": "Performs SNMP walk to retrieve and sum specific MIB counter values."}, {"name": "processJsonResponse", "description": "Processes the JSON response file from the telemetry server to extract configuration settings."}, {"name": "scheduleCron", "description": "Schedules or reschedules the telemetry collection cron jobs based on configuration and diagnostic mode."}, {"name": "dropbearRecovery", "description": "Ensures Dropbear SSH server is running; restarts it if not."}, {"name": "clearTelemetryConfig", "description": "Removes telemetry configuration files and marker files to reset the telemetry state."}, {"name": "generateTelemetryConfig", "description": "Generates telemetry configuration files from a JSON profile."}], "calls": ["curl", "scp", "ssh", "dmcli", "ps", "rm", "sleep", "touch", "grep", "sed", "awk", "date", "expr", "cat", "head", "sort", "cut"], "search-terms": ["dca", "telemetry", "dcm.properties", "dcresponse", "dca_utility.sh", "dcaCleanup", "generateTelemetryConfig", "scheduleCron", "dropbearRecovery", "pcdLogFile", "RTL_LOG_FILE", "TELEMETRY_PATH", "TELEMETRY_INOTIFY_FOLDER", "DCA_BINARY", "EROUTER_IF"], "state": 2, "file_id": 7137, "knowledge_revision": 20215, "git_revision": "", "hash": "dda89c09b9a53bee2a8cadbbda61b087", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/sysint/devicerpi/lib/rdk/dca_utility.sh", "revision_history": [{"20215": ""}]}