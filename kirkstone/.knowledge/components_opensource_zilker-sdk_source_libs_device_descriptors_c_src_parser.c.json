{"is_source_file": true, "format": "C", "description": "This file contains C source code for parsing device descriptor XML files, including functions to extract device version lists, metadata, and descriptors for specific device types such as cameras and Zigbee devices. It also handles loading blacklisted UUIDs and parsing entire device descriptor lists from XML files.", "external_files": ["libxml/tree.h", "icLog/logging.h", "xmlHelper/xmlHelper.h", "deviceDescriptor.h", "icTypes/icStringHashMap.h", "icUtil/stringUtils.h", "icUtil/fileUtils.h"], "external_methods": ["getXmlNodeContentsAsString", "getXmlNodeAttributeAsString", "doesNonEmptyFileExist", "xmlParseFile", "xmlDocGetRootElement", "xmlFreeDoc", "stringHashMapCreate", "stringHashMapPut", "stringHashMapContains", "stringHashMapDestroy", "linkedListCreate", "linkedListAppend", "deviceDescriptorFree", "getTrimmedXmlNodeContentsAsString"], "published": ["parseDeviceDescriptors", "getBlacklistedUuids"], "classes": [{"name": "DeviceVersionList", "description": "Structure representing a list of device versions, with format, list type, and version data."}, {"name": "DeviceDescriptor", "description": "Base structure for device descriptors, containing common device attributes like uuid, description, manufacturer, etc."}, {"name": "CameraDeviceDescriptor", "description": "Derived structure from DeviceDescriptor, specific to camera devices, including motion settings."}, {"name": "ZigbeeDeviceDescriptor", "description": "Derived structure from DeviceDescriptor, specific to Zigbee devices."}, {"name": "DeviceFirmware", "description": "Structure representing firmware details such as version, filenames, type, and checksum."}], "methods": [{"name": "void parseDeviceVersionList(xmlNodePtr node,DeviceVersionList * list)", "description": "Parses an XML node to populate a DeviceVersionList structure with version data, handling list, range, or wildcard formats.", "scope": "", "scopeKind": ""}, {"name": "void parseZigbeeDeviceVersion(xmlNodePtr node,DeviceVersionList * list,bool forceDecimal)", "description": "Parses Zigbee-specific version strings, converting hex/decimal formats and handling ranges or wildcards.", "scope": "", "scopeKind": ""}, {"name": "bool parseMetadataList(xmlNodePtr metadataNode,icStringHashMap * map)", "description": "Parses metadata list XML nodes and populates an icStringHashMap with name-value pairs.", "scope": "", "scopeKind": ""}, {"name": "bool parseDescriptorBase(xmlNodePtr ddNode,DeviceDescriptor * dd)", "description": "Extracts common device descriptor attributes from an XML node into a DeviceDescriptor structure.", "scope": "", "scopeKind": ""}, {"name": "bool parseCameraMotionNode(xmlNodePtr motionNode,CameraDeviceDescriptor * dd)", "description": "Parses motion-related XML nodes to populate camera motion settings.", "scope": "", "scopeKind": ""}, {"name": "bool parseCameraDescriptor(xmlNodePtr cameraNode,CameraDeviceDescriptor * dd)", "description": "Parses camera-specific XML descriptors, including protocol and motion settings.", "scope": "", "scopeKind": ""}, {"name": "icStringHashMap * getBlacklistedUuids(const char * blacklistPath)", "description": "Reads an XML blacklist file to populate a hash map with blacklisted UUIDs.", "scope": "", "scopeKind": ""}, {"name": "icLinkedList * parseDeviceDescriptors(const char * whitelistPath,const char * blacklistPath)", "description": "Main function to parse device descriptor XML files, returning a list of device descriptors after filtering against a blacklist.", "scope": "", "scopeKind": ""}, {"name": "char * getTrimmedXmlNodeContentsAsString(xmlNodePtr node)", "description": "Helper to get trimmed string contents of an XML node.", "scope": "", "scopeKind": ""}, {"name": "char * versionStringToDecimalString(const char * version)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["xmlParseFile", "xmlDocGetRootElement", "stringHashMapCreate", "stringHashMapPut", "stringHashMapContains", "linkedListCreate", "linkedListAppend", "deviceDescriptorFree", "getXmlNodeContentsAsString", "getXmlNodeAttributeAsString", "doesNonEmptyFileExist", "xmlFreeDoc"], "search-terms": ["device descriptor", "XML parsing", "camera device", "zigbee device", "device firmware", "device versions", "blacklist", "device list", "parser.c"], "state": 2, "file_id": 589, "knowledge_revision": 13758, "git_revision": "", "ctags": [{"_type": "tag", "name": "ANY_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define ANY_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "BOTTOM_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define BOTTOM_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "CAMERA_DD_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define CAMERA_DD_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "DDL_ROOT_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define DDL_ROOT_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "DESCRIPTION_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define DESCRIPTION_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "DETECTION_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define DETECTION_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "ENABLED_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define ENABLED_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "FIRMWARE_VERSIONS_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define FIRMWARE_VERSIONS_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "FROM_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define FROM_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "HARDWARE_VERSIONS_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define HARDWARE_VERSIONS_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "HEIGHT_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define HEIGHT_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "HIGH_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define HIGH_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "LATEST_FIRMWARE_CHECKSUM_ATTRIBUTE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define LATEST_FIRMWARE_CHECKSUM_ATTRIBUTE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "LATEST_FIRMWARE_FILENAME_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define LATEST_FIRMWARE_FILENAME_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "LATEST_FIRMWARE_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define LATEST_FIRMWARE_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "LATEST_FIRMWARE_TYPE_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define LATEST_FIRMWARE_TYPE_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "LATEST_FIRMWARE_TYPE_ZIGBEE_LEGACY", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define LATEST_FIRMWARE_TYPE_ZIGBEE_LEGACY /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "LATEST_FIRMWARE_TYPE_ZIGBEE_OTA", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define LATEST_FIRMWARE_TYPE_ZIGBEE_OTA /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "LATEST_FIRMWARE_VERSION_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define LATEST_FIRMWARE_VERSION_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "LEFT_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define LEFT_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "LIST_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define LIST_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "LOG_TAG", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define LOG_TAG /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "LOW_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define LOW_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MANUFACTURER_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define MANUFACTURER_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MEDIUM_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define MEDIUM_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "METADATA_LIST_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define METADATA_LIST_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "METADATA_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define METADATA_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MIN_FIRMWARE_VERSIONS_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define MIN_FIRMWARE_VERSIONS_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MODEL_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define MODEL_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MOTION_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define MOTION_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "NAME_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define NAME_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "PROTOCOL_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define PROTOCOL_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "RANGE_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define RANGE_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "REGION_OF_INTEREST_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define REGION_OF_INTEREST_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "RIGHT_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define RIGHT_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "SENSITIVITY_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define SENSITIVITY_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "TOP_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define TOP_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "TO_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define TO_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "UUID_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define UUID_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "VALUE_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define VALUE_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "VERSION_LIST_FORMAT", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define VERSION_LIST_FORMAT /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "WIDTH_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define WIDTH_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "ZIGBEE_DD_NODE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^#define ZIGBEE_DD_NODE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "getBlacklistedUuids", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^icStringHashMap *getBlacklistedUuids(const char *blacklistPath)$/", "language": "C", "typeref": "typename:icStringHashMap *", "kind": "function", "signature": "(const char * blacklistPath)"}, {"_type": "tag", "name": "getTrimmedXmlNodeContentsAsString", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^static char *getTrimmedXmlNodeContentsAsString(xmlNodePtr node)$/", "file": true, "language": "C", "typeref": "typename:char *", "kind": "function", "signature": "(xmlNodePtr node)"}, {"_type": "tag", "name": "parseCameraDescriptor", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^static bool parseCameraDescriptor(xmlNodePtr cameraNode, CameraDeviceDescriptor *dd)$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(xmlNodePtr cameraNode,CameraDeviceDescriptor * dd)"}, {"_type": "tag", "name": "parseCameraMotionNode", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^static bool parseCameraMotionNode(xmlNodePtr motionNode, CameraDeviceDescriptor *dd)$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(xmlNodePtr motionNode,CameraDeviceDescriptor * dd)"}, {"_type": "tag", "name": "parseDescriptorBase", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^static bool parseDescriptorBase(xmlNodePtr ddNode, DeviceDescriptor *dd)$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(xmlNodePtr ddNode,DeviceDescriptor * dd)"}, {"_type": "tag", "name": "parseDeviceDescriptors", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^icLinkedList *parseDeviceDescriptors(const char *whitelistPath, const char *blacklistPath)$/", "language": "C", "typeref": "typename:icLinkedList *", "kind": "function", "signature": "(const char * whitelistPath,const char * blacklistPath)"}, {"_type": "tag", "name": "parseDeviceVersionList", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^static void parseDeviceVersionList(xmlNodePtr node, DeviceVersionList *list)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(xmlNodePtr node,DeviceVersionList * list)"}, {"_type": "tag", "name": "parseMetadataList", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^static bool parseMetadataList(xmlNodePtr metadataNode, icStringHashMap *map)$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(xmlNodePtr metadataNode,icStringHashMap * map)"}, {"_type": "tag", "name": "parseZigbeeDeviceVersion", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^static void parseZigbeeDeviceVersion(xmlNodePtr node, DeviceVersionList *list, bool forceDecimal/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(xmlNodePtr node,DeviceVersionList * list,bool forceDecimal)"}, {"_type": "tag", "name": "versionStringToDecimalString", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "pattern": "/^static char * versionStringToDecimalString(const char* version)$/", "file": true, "language": "C", "typeref": "typename:char *", "kind": "function", "signature": "(const char * version)"}], "hash": "01e48fb989505915bb78db41c7b47bf9", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "components/opensource/zilker-sdk/source/libs/device/descriptors/c/src/parser.c", "revision_history": [{"13758": ""}]}