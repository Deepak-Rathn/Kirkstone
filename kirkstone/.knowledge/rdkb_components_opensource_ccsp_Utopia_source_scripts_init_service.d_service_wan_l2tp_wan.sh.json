{"is_source_file": true, "format": "Shell script", "description": "A shell script that manages the setup and teardown of a L2TP WAN connection, including configuring firewall rules, setting up configuration files, and responding to network state changes.", "external_files": ["/etc/utopia/service.d/ulog_functions.sh", "/etc/utopia/service.d/log_capture_path.sh", "/etc/utopia/service.d/service_wan/ppp_helpers.sh", "/lib/rdk/t2Shared_api.sh", "/etc/utopia/service.d/service_wan/ppp_helpers.sh", "/lib/rdk/t2Shared_api.sh"], "external_methods": ["sysevent get", "sysevent set", "sysevent setunique", "syscfg get", "t2CountNotify"], "published": ["service_wan/l2tp_wan.sh"], "classes": [], "methods": [{"name": "unregister_firewall_hooks", "description": "Removes previously registered firewall rules associated with the L2TP connection."}, {"name": "register_firewall_hooks", "description": "Sets up firewall rules necessary for L2TP operation."}, {"name": "prepare_l2tp", "description": "Configures the L2TP connection by creating configuration files and scripts."}, {"name": "bring_wan_down", "description": "Tears down the WAN connection, disables forwarding, and cleans up rules."}, {"name": "bring_wan_up", "description": "Initializes and brings up the L2TP WAN connection, including firewall setup and configuration."}], "calls": ["sysevent get desired_ipv4_wan_state", "sysevent get current_ipv4_wan_state", "sysevent get current_ipv4_link_state", "sysevent get wan_ifname", "sysevent get current_wan_ipaddr", "sysevent get current_wan_subnet", "sysevent set current_wan_ipaddr", "sysevent set current_wan_subnet", "sysevent set current_wan_ifname", "sysevent set wan-status", "sysevent set pppd_current_wan_ipaddr", "sysevent set pppd_current_wan_subnet", "sysevent set pppd_current_wan_ifname", "sysevent set firewall-restart", "t2CountNotify"], "search-terms": ["l2tp", "wan", "firewall", "service_wan", "service_d", "script"], "state": 2, "file_id": 7618, "knowledge_revision": 20683, "git_revision": "", "hash": "1dd75d130b99b8a24f8237250e6e257e", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/Utopia/source/scripts/init/service.d/service_wan/l2tp_wan.sh", "revision_history": [{"20683": ""}]}