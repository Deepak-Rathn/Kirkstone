{"is_source_file": true, "format": "C", "description": "This source file implements functions related to managing Wi-Fi survey cache data, including storing samples, calculating averages, cleaning, freeing, and initializing cache data structures for Wi-Fi survey reports. It interacts with external modules for memory management, doubly-linked list handling, hash maps, and Wi-Fi utility functions.", "external_files": ["sm_cache.h", "sm_utils.h", "wifi_util.h", "<opensync/dpp_survey.h>"], "external_methods": ["ds_dlist_ifirst", "ds_dlist_inext", "ds_dlist_iremove", "ds_dlist_insert_tail", "ds_dlist_foreach", "get_ds_dlist_len", "hash_map_create", "hash_map_put", "hash_map_get", "hash_map_remove", "hash_map_destroy", "hash_map_get_first", "hash_map_get_next", "strdup", "malloc", "free", "memset", "snprintf", "strcpy", "strncpy", "hash_map_clear"], "published": ["sm_survey_sample_store", "sm_survey_cache_clean", "sm_survey_cache_free", "sm_survey_cache_init", "sm_survey_cache_deinit", "sm_survey_get_scan_data"], "classes": [], "methods": [{"name": "void survey_samples_free(ds_dlist_t * samples)", "description": "Frees all sample records in the specified doubly-linked list.", "scope": "", "scopeKind": ""}, {"name": "int survey_id_get(const unsigned int radio_index,const unsigned int channel,sm_survey_id_t id)", "description": "Generates a survey ID string based on radio index and channel number.", "scope": "", "scopeKind": ""}, {"name": "void survey_clean(sm_survey_cache_t * cache,sm_survey_t * survey,survey_type_t survey_type)", "description": "Cleans the survey scan data, freeing old samples and resetting stats.", "scope": "", "scopeKind": ""}, {"name": "void survey_free(sm_survey_cache_t * cache,sm_survey_t * survey)", "description": "Removes and frees a survey from the cache.", "scope": "", "scopeKind": ""}, {"name": "sm_survey_t * survey_alloc(sm_survey_cache_t * cache,sm_survey_id_t survey_id)", "description": "Allocates and initializes a new survey object.", "scope": "", "scopeKind": ""}, {"name": "sm_survey_t * survey_get_or_alloc(sm_survey_cache_t * cache,sm_survey_id_t survey_id)", "description": "Gets an existing survey from the cache or allocates a new one if not present.", "scope": "", "scopeKind": ""}, {"name": "void survery_result_extra_calc(survey_type_t survey_type,dpp_survey_record_t * result)", "description": "Adjusts survey result parameters based on product-specific logic.", "scope": "", "scopeKind": ""}, {"name": "int survey_convert_hal_to_sample(unsigned int radio_index,survey_type_t survey_type,radio_chan_data_t * old,radio_chan_data_t * new,dpp_survey_record_t * result)", "description": "Converts HAL survey data into a sample record.", "scope": "", "scopeKind": ""}, {"name": "int survey_sample_add(sm_survey_cache_t * cache,survey_type_t survey_type,unsigned int radio_index,radio_chan_data_t * stats)", "description": "Adds a survey sample to the cache based on hardware data.", "scope": "", "scopeKind": ""}, {"name": "int sm_survey_sample_store(unsigned int radio_index,survey_type_t survey_type,radio_chan_data_t * stats)", "description": "Public API to store a survey sample for a radio.", "scope": "", "scopeKind": ""}, {"name": "int sm_survey_samples_calc_average(ds_dlist_t * samples,dpp_survey_record_avg_t * result)", "description": "Calculates the average of a list of survey samples.", "scope": "", "scopeKind": ""}, {"name": "void sm_survey_cache_clean(sm_survey_cache_t * cache,survey_type_t survey_type)", "description": "Cleans cache for a specific survey type, removing samples.", "scope": "", "scopeKind": ""}, {"name": "void sm_survey_cache_free(sm_survey_cache_t * cache)", "description": "Frees all survey data in the cache.", "scope": "", "scopeKind": ""}, {"name": "void sm_survey_cache_init(sm_survey_cache_t * cache)", "description": "Initializes the survey cache.", "scope": "", "scopeKind": ""}, {"name": "void sm_survey_cache_deinit(sm_survey_cache_t * cache)", "description": "Deinitializes and frees the survey cache.", "scope": "", "scopeKind": ""}, {"name": "sm_survey_scan_t * sm_survey_get_scan_data(sm_survey_t * survey,survey_type_t survey_type)", "description": "Retrieves scan data from a survey object based on survey type.", "scope": "", "scopeKind": ""}], "calls": ["ds_dlist_ifirst", "ds_dlist_inext", "ds_dlist_iremove", "ds_dlist_insert_tail", "ds_dlist_foreach", "get_ds_dlist_len", "hash_map_create", "hash_map_put", "hash_map_get", "hash_map_remove", "hash_map_destroy", "hash_map_get_first", "hash_map_get_next", "strdup", "malloc", "free", "memset", "snprintf", "hash_map_clear"], "search-terms": ["sm_survey_sample_store", "survey_id_get", "survey_clean", "survey_samples_free", "hash_map", "sm_survey_cache", "csv_survey", "survey_type_on_channel", "sm_survey_get_scan_data"], "state": 2, "file_id": 6057, "knowledge_revision": 19159, "git_revision": "", "ctags": [{"_type": "tag", "name": "CALC_AVERAGE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_survey_cache.c", "pattern": "/^#define CALC_AVERAGE(/", "file": true, "language": "C", "kind": "macro", "signature": "(X)"}, {"_type": "tag", "name": "DELTA", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_survey_cache.c", "pattern": "/^#define DELTA(/", "file": true, "language": "C", "kind": "macro", "signature": "(X)"}, {"_type": "tag", "name": "PERCENT", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_survey_cache.c", "pattern": "/^#define PERCENT(/", "file": true, "language": "C", "kind": "macro", "signature": "(A,B)"}, {"_type": "tag", "name": "sm_survey_cache_clean", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_survey_cache.c", "pattern": "/^void sm_survey_cache_clean(sm_survey_cache_t *cache, survey_type_t survey_type)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(sm_survey_cache_t * cache,survey_type_t survey_type)"}, {"_type": "tag", "name": "sm_survey_cache_deinit", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_survey_cache.c", "pattern": "/^void sm_survey_cache_deinit(sm_survey_cache_t *cache)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(sm_survey_cache_t * cache)"}, {"_type": "tag", "name": "sm_survey_cache_free", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_survey_cache.c", "pattern": "/^void sm_survey_cache_free(sm_survey_cache_t *cache)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(sm_survey_cache_t * cache)"}, {"_type": "tag", "name": "sm_survey_cache_init", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_survey_cache.c", "pattern": "/^void sm_survey_cache_init(sm_survey_cache_t *cache)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(sm_survey_cache_t * cache)"}, {"_type": "tag", "name": "sm_survey_get_scan_data", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_survey_cache.c", "pattern": "/^sm_survey_scan_t* sm_survey_get_scan_data(sm_survey_t *survey, survey_type_t survey_type)$/", "language": "C", "typeref": "typename:sm_survey_scan_t *", "kind": "function", "signature": "(sm_survey_t * survey,survey_type_t survey_type)"}, {"_type": "tag", "name": "sm_survey_sample_store", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_survey_cache.c", "pattern": "/^int sm_survey_sample_store(unsigned int radio_index, survey_type_t survey_type, radio_chan_data_/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(unsigned int radio_index,survey_type_t survey_type,radio_chan_data_t * stats)"}, {"_type": "tag", "name": "sm_survey_samples_calc_average", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_survey_cache.c", "pattern": "/^int sm_survey_samples_calc_average(ds_dlist_t *samples, dpp_survey_record_avg_t *result)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(ds_dlist_t * samples,dpp_survey_record_avg_t * result)"}, {"_type": "tag", "name": "survery_result_extra_calc", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_survey_cache.c", "pattern": "/^static void survery_result_extra_calc(survey_type_t survey_type, dpp_survey_record_t *result)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(survey_type_t survey_type,dpp_survey_record_t * result)"}, {"_type": "tag", "name": "survey_alloc", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_survey_cache.c", "pattern": "/^static sm_survey_t* survey_alloc(sm_survey_cache_t *cache, sm_survey_id_t survey_id)$/", "file": true, "language": "C", "typeref": "typename:sm_survey_t *", "kind": "function", "signature": "(sm_survey_cache_t * cache,sm_survey_id_t survey_id)"}, {"_type": "tag", "name": "survey_clean", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_survey_cache.c", "pattern": "/^static void survey_clean(sm_survey_cache_t *cache, sm_survey_t *survey, survey_type_t survey_typ/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(sm_survey_cache_t * cache,sm_survey_t * survey,survey_type_t survey_type)"}, {"_type": "tag", "name": "survey_convert_hal_to_sample", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_survey_cache.c", "pattern": "/^static int survey_convert_hal_to_sample(unsigned int radio_index, survey_type_t survey_type, rad/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(unsigned int radio_index,survey_type_t survey_type,radio_chan_data_t * old,radio_chan_data_t * new,dpp_survey_record_t * result)"}, {"_type": "tag", "name": "survey_free", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_survey_cache.c", "pattern": "/^static void survey_free(sm_survey_cache_t *cache, sm_survey_t *survey)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(sm_survey_cache_t * cache,sm_survey_t * survey)"}, {"_type": "tag", "name": "survey_get_or_alloc", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_survey_cache.c", "pattern": "/^static sm_survey_t* survey_get_or_alloc(sm_survey_cache_t *cache, sm_survey_id_t survey_id)$/", "file": true, "language": "C", "typeref": "typename:sm_survey_t *", "kind": "function", "signature": "(sm_survey_cache_t * cache,sm_survey_id_t survey_id)"}, {"_type": "tag", "name": "survey_id_get", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_survey_cache.c", "pattern": "/^static int survey_id_get(const unsigned int radio_index, const unsigned int channel, sm_survey_i/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const unsigned int radio_index,const unsigned int channel,sm_survey_id_t id)"}, {"_type": "tag", "name": "survey_sample_add", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_survey_cache.c", "pattern": "/^static int survey_sample_add(sm_survey_cache_t *cache, survey_type_t survey_type,$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(sm_survey_cache_t * cache,survey_type_t survey_type,unsigned int radio_index,radio_chan_data_t * stats)"}, {"_type": "tag", "name": "survey_samples_free", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_survey_cache.c", "pattern": "/^static void survey_samples_free(ds_dlist_t *samples)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(ds_dlist_t * samples)"}], "hash": "42880a04ce05e2c14322b3c50cb5a4e5", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_survey_cache.c", "revision_history": [{"19159": ""}]}