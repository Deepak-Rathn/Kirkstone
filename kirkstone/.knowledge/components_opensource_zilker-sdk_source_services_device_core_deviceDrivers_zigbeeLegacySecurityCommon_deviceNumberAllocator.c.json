{"is_source_file": true, "format": "C", "description": "This file implements device number allocation for Zigbee legacy devices, including functions to allocate device numbers, retrieve device numbers for devices, convert device numbers to EUI64 identifiers, manage temporary device numbers, and set device number metadata. It interacts with device service databases and manages synchronization with mutexes.", "external_files": ["deviceService.h", "deviceServicePrivate.h", "icLog/logging.h", "deviceModelHelper.h", "subsystems/zigbee/zigbeeSubsystem.h"], "external_methods": ["deviceServiceGetDevicesByMetadata", "linkedListIteratorCreate", "linkedListIteratorHasNext", "linkedListIteratorGetNext", "linkedListIteratorDestroy", "linkedListDestroy", "deviceDestroy", "getDeviceNumberForDevice", "setDeviceNumberForDevice", "createDeviceMetadata", "getMetadataUri", "deviceServiceGetMetadata", "zigbeeSubsystemIdToEui64"], "published": ["allocateDeviceNumber", "getDeviceNumberForDevice", "getEui64ForDeviceNumber", "clearTemporaryDeviceNumbers", "setDeviceNumberForDevice"], "classes": [], "methods": [{"name": "uint8_t allocateDeviceNumber(icDevice * device)", "description": "Allocates a unique device number for a given device, ensuring it is not already in use or temporarily allocated.", "scope": "", "scopeKind": ""}, {"name": "uint8_t getDeviceNumberForDevice(const char * uuid)", "description": "Retrieves the device number associated with a device identified by its UUID.", "scope": "", "scopeKind": ""}, {"name": "bool getEui64ForDeviceNumber(uint8_t devNum,uint64_t * eui64)", "description": "Converts a device number to its corresponding EUI64 address, if available.", "scope": "", "scopeKind": ""}, {"name": "void clearTemporaryDeviceNumbers()", "description": "Clears the list of temporarily allocated device numbers.", "scope": "", "scopeKind": ""}, {"name": "bool setDeviceNumberForDevice(icDevice * device,uint8_t deviceNumber)", "description": "Associates a device number with a device by updating its metadata.", "scope": "", "scopeKind": ""}], "calls": ["deviceServiceGetDevicesByMetadata", "linkedListIteratorCreate", "linkedListIteratorHasNext", "linkedListIteratorGetNext", "linkedListIteratorDestroy", "linkedListDestroy", "deviceDestroy", "getDeviceNumberForDevice", "setDeviceNumberForDevice", "createDeviceMetadata", "getMetadataUri", "deviceServiceGetMetadata", "zigbeeSubsystemIdToEui64"], "search-terms": ["deviceNumberAllocator", "legacy device number", "Zigbee device", "allocateDeviceNumber", "deviceService", "metadata", "device UUID", "EUI64 conversion", "temporary device numbers"], "state": 2, "file_id": 1028, "knowledge_revision": 14178, "git_revision": "", "ctags": [{"_type": "tag", "name": "DEVICE_NUMBER_METADATA", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/zigbeeLegacySecurityCommon/deviceNumberAllocator.c", "pattern": "/^#define DEVICE_NUMBER_METADATA /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "LOG_TAG", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/zigbeeLegacySecurityCommon/deviceNumberAllocator.c", "pattern": "/^#define LOG_TAG /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MAX_LEGACY_DEVICE_NUM", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/zigbeeLegacySecurityCommon/deviceNumberAllocator.c", "pattern": "/^#define MAX_LEGACY_DEVICE_NUM /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "allocateDeviceNumber", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/zigbeeLegacySecurityCommon/deviceNumberAllocator.c", "pattern": "/^uint8_t allocateDeviceNumber(icDevice *device)$/", "language": "C", "typeref": "typename:uint8_t", "kind": "function", "signature": "(icDevice * device)"}, {"_type": "tag", "name": "allocatorMtx", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/zigbeeLegacySecurityCommon/deviceNumberAllocator.c", "pattern": "/^static pthread_mutex_t allocatorMtx = PTHREAD_MUTEX_INITIALIZER;$/", "file": true, "language": "C", "typeref": "typename:pthread_mutex_t", "kind": "variable"}, {"_type": "tag", "name": "clearTemporaryDeviceNumbers", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/zigbeeLegacySecurityCommon/deviceNumberAllocator.c", "pattern": "/^void clearTemporaryDeviceNumbers()$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getDeviceNumberForDevice", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/zigbeeLegacySecurityCommon/deviceNumberAllocator.c", "pattern": "/^uint8_t getDeviceNumberForDevice(const char *uuid)$/", "language": "C", "typeref": "typename:uint8_t", "kind": "function", "signature": "(const char * uuid)"}, {"_type": "tag", "name": "getEui64ForDeviceNumber", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/zigbeeLegacySecurityCommon/deviceNumberAllocator.c", "pattern": "/^bool getEui64ForDeviceNumber(uint8_t devNum, uint64_t *eui64)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(uint8_t devNum,uint64_t * eui64)"}, {"_type": "tag", "name": "setDeviceNumberForDevice", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/zigbeeLegacySecurityCommon/deviceNumberAllocator.c", "pattern": "/^bool setDeviceNumberForDevice(icDevice *device, uint8_t deviceNumber)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(icDevice * device,uint8_t deviceNumber)"}, {"_type": "tag", "name": "tempDevNums", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/zigbeeLegacySecurityCommon/deviceNumberAllocator.c", "pattern": "/^static uint64_t tempDevNums = 0;$/", "file": true, "language": "C", "typeref": "typename:uint64_t", "kind": "variable"}], "hash": "3dcdcdf3d82b3131d12c4befb771488d", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/zigbeeLegacySecurityCommon/deviceNumberAllocator.c", "fields": [{"name": "pthread_mutex_t allocatorMtx", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "uint64_t tempDevNums", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"14178": ""}]}