{"is_source_file": true, "format": "C", "description": "This file implements peer neighbor cache management for Wi-Fi scanning and monitoring, including functions to add, retrieve, clean, and free neighbor samples and cache structures, as well as converting BSSID information and maintaining neighbor states.", "external_files": ["sm_cache.h", "sm_utils.h", "wifi_util.h", "<opensync/dpp_neighbor.h>"], "external_methods": ["hash_map_create", "hash_map_destroy", "hash_map_put", "hash_map_get", "hash_map_get_first", "hash_map_get_next", "hash_map_remove", "dpp_neighbor_record_free", "dpp_neighbor_record_alloc"], "published": ["sm_neighbor_cache_t", "sm_neighbor_t", "sm_neighbor_scan_t", "sm_neighbor_sample_store", "sm_neighbor_cache_clean", "sm_neighbor_cache_free", "sm_neighbor_cache_init", "sm_neighbor_cache_deinit", "sm_neighbor_get_scan_data"], "classes": [], "methods": [{"name": "void neighbor_samples_free(ds_dlist_t * samples)", "description": "Frees samples in the provided list and associated resources.", "scope": "", "scopeKind": ""}, {"name": "int neighbor_id_get(const unsigned int radio_index,radio_bssid_t bssid,sm_neighbor_id_t id)", "description": "Generates a neighbor ID string based on radio index and BSSID.", "scope": "", "scopeKind": ""}, {"name": "void neighbor_clean(sm_neighbor_cache_t * cache,sm_neighbor_t * neighbor,survey_type_t survey_type)", "description": "Cleans neighbor scan data samples and resets old stats.", "scope": "", "scopeKind": ""}, {"name": "void neighbor_free(sm_neighbor_cache_t * cache,sm_neighbor_t * neighbor)", "description": "Removes and frees a neighbor from the cache.", "scope": "", "scopeKind": ""}, {"name": "sm_neighbor_t * neighbor_alloc(sm_neighbor_cache_t * cache,sm_neighbor_id_t neighbor_id)", "description": "Allocates and initializes a new neighbor entry.", "scope": "", "scopeKind": ""}, {"name": "sm_neighbor_t * neighbor_get_or_alloc(sm_neighbor_cache_t * cache,sm_neighbor_id_t neighbor_id)", "description": "Retrieves existing neighbor or allocates a new one if not present.", "scope": "", "scopeKind": ""}, {"name": "int neighbor_convert_hal_to_sample(unsigned int radio_index,wifi_neighbor_ap2_t * hal,dpp_neighbor_record_list_t * result)", "description": "Converts HAL neighbor info into internal sample format.", "scope": "", "scopeKind": ""}, {"name": "int neighbor_sample_add(sm_neighbor_cache_t * cache,survey_type_t survey_type,unsigned int radio_index,wifi_neighbor_ap2_t * stats)", "description": "Adds a neighbor sample to cache, updating relevant neighbor data.", "scope": "", "scopeKind": ""}, {"name": "int sm_neighbor_sample_store(unsigned int radio_index,survey_type_t survey_type,wifi_neighbor_ap2_t * stats)", "description": "Public API to store a neighbor sample from scan data.", "scope": "", "scopeKind": ""}, {"name": "void sm_neighbor_cache_clean(sm_neighbor_cache_t * cache,survey_type_t survey_type)", "description": "Cleans all neighbor entries in cache for a specific survey type.", "scope": "", "scopeKind": ""}, {"name": "void sm_neighbor_cache_free(sm_neighbor_cache_t * cache)", "description": "Frees all neighbor entries and destroys cache.", "scope": "", "scopeKind": ""}, {"name": "void sm_neighbor_cache_init(sm_neighbor_cache_t * cache)", "description": "Initializes neighbor cache.", "scope": "", "scopeKind": ""}, {"name": "void sm_neighbor_cache_deinit(sm_neighbor_cache_t * cache)", "description": "Deinitializes and frees neighbor cache.", "scope": "", "scopeKind": ""}, {"name": "sm_neighbor_scan_t * sm_neighbor_get_scan_data(sm_neighbor_t * neighbor,survey_type_t survey_type)", "description": "Retrieves scan data associated with a neighbor for a specific survey type.", "scope": "", "scopeKind": ""}], "calls": ["ds_dlist_ifirst", "ds_dlist_inext", "ds_dlist_iremove", "hash_map_put", "hash_map_get", "hash_map_remove", "hash_map_create", "hash_map_destroy", "time NULL", "strncpy", "memset", "snprintf", "calloc", "free", "strdup"], "search-terms": ["neighbor cache", "Wi-Fi neighbor scan", "dpp_neighbor_record", "sm_neighbor_id", "sm_neighbor_cache", "neighbor_samples", "hash_map", "neighbor_convert_hal_to_sample"], "state": 2, "file_id": 6061, "knowledge_revision": 19172, "git_revision": "", "ctags": [{"_type": "tag", "name": "neighbor_alloc", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_neighbor_cache.c", "pattern": "/^static sm_neighbor_t* neighbor_alloc(sm_neighbor_cache_t *cache, sm_neighbor_id_t neighbor_id)$/", "file": true, "language": "C", "typeref": "typename:sm_neighbor_t *", "kind": "function", "signature": "(sm_neighbor_cache_t * cache,sm_neighbor_id_t neighbor_id)"}, {"_type": "tag", "name": "neighbor_clean", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_neighbor_cache.c", "pattern": "/^static void neighbor_clean(sm_neighbor_cache_t *cache, sm_neighbor_t *neighbor, survey_type_t su/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(sm_neighbor_cache_t * cache,sm_neighbor_t * neighbor,survey_type_t survey_type)"}, {"_type": "tag", "name": "neighbor_convert_hal_to_sample", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_neighbor_cache.c", "pattern": "/^static int neighbor_convert_hal_to_sample(unsigned int radio_index, wifi_neighbor_ap2_t *hal, dp/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(unsigned int radio_index,wifi_neighbor_ap2_t * hal,dpp_neighbor_record_list_t * result)"}, {"_type": "tag", "name": "neighbor_free", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_neighbor_cache.c", "pattern": "/^static void neighbor_free(sm_neighbor_cache_t *cache, sm_neighbor_t *neighbor)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(sm_neighbor_cache_t * cache,sm_neighbor_t * neighbor)"}, {"_type": "tag", "name": "neighbor_get_or_alloc", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_neighbor_cache.c", "pattern": "/^static sm_neighbor_t* neighbor_get_or_alloc(sm_neighbor_cache_t *cache, sm_neighbor_id_t neighbo/", "file": true, "language": "C", "typeref": "typename:sm_neighbor_t *", "kind": "function", "signature": "(sm_neighbor_cache_t * cache,sm_neighbor_id_t neighbor_id)"}, {"_type": "tag", "name": "neighbor_id_get", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_neighbor_cache.c", "pattern": "/^static int neighbor_id_get(const unsigned int radio_index, radio_bssid_t bssid, sm_neighbor_id_t/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const unsigned int radio_index,radio_bssid_t bssid,sm_neighbor_id_t id)"}, {"_type": "tag", "name": "neighbor_sample_add", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_neighbor_cache.c", "pattern": "/^static int neighbor_sample_add(sm_neighbor_cache_t *cache, survey_type_t survey_type,$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(sm_neighbor_cache_t * cache,survey_type_t survey_type,unsigned int radio_index,wifi_neighbor_ap2_t * stats)"}, {"_type": "tag", "name": "neighbor_samples_free", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_neighbor_cache.c", "pattern": "/^static void neighbor_samples_free(ds_dlist_t *samples)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(ds_dlist_t * samples)"}, {"_type": "tag", "name": "sm_neighbor_cache_clean", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_neighbor_cache.c", "pattern": "/^void sm_neighbor_cache_clean(sm_neighbor_cache_t *cache, survey_type_t survey_type)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(sm_neighbor_cache_t * cache,survey_type_t survey_type)"}, {"_type": "tag", "name": "sm_neighbor_cache_deinit", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_neighbor_cache.c", "pattern": "/^void sm_neighbor_cache_deinit(sm_neighbor_cache_t *cache)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(sm_neighbor_cache_t * cache)"}, {"_type": "tag", "name": "sm_neighbor_cache_free", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_neighbor_cache.c", "pattern": "/^void sm_neighbor_cache_free(sm_neighbor_cache_t *cache)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(sm_neighbor_cache_t * cache)"}, {"_type": "tag", "name": "sm_neighbor_cache_init", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_neighbor_cache.c", "pattern": "/^void sm_neighbor_cache_init(sm_neighbor_cache_t *cache)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(sm_neighbor_cache_t * cache)"}, {"_type": "tag", "name": "sm_neighbor_get_scan_data", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_neighbor_cache.c", "pattern": "/^sm_neighbor_scan_t* sm_neighbor_get_scan_data(sm_neighbor_t *neighbor, survey_type_t survey_type/", "language": "C", "typeref": "typename:sm_neighbor_scan_t *", "kind": "function", "signature": "(sm_neighbor_t * neighbor,survey_type_t survey_type)"}, {"_type": "tag", "name": "sm_neighbor_sample_store", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_neighbor_cache.c", "pattern": "/^int sm_neighbor_sample_store(unsigned int radio_index, survey_type_t survey_type, wifi_neighbor_/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(unsigned int radio_index,survey_type_t survey_type,wifi_neighbor_ap2_t * stats)"}], "hash": "f51b065050d5f2eebce8829aea3accd1", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_neighbor_cache.c", "revision_history": [{"19172": ""}]}