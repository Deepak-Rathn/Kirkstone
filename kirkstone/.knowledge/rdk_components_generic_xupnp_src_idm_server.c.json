{"is_source_file": true, "format": "C", "description": "This file contains the implementation of an IDM server using UPnP and GUPnP libraries, managing device identity information, XML configuration, and UPnP service callbacks.", "external_files": ["<libgupnp/gupnp.h>", "<stdio.h>", "<stdlib.h>", "<gmodule.h>", "<stdbool.h>", "<memory.h>", "<libxml/tree.h>", "<libxml/parser.h>", "<string.h>", "secure_wrapper.h", "xdevice.h", "<net/if.h>", "<sys/types.h>", "<sys/socket.h>", "<sys/ioctl.h>", "<ifaddrs.h>", "<libgupnp/gupnp-control-point.h>", "<systemd/sd-daemon.h>"], "external_methods": ["getipaddress()", "getserialnum()", "getAccountId()", "check_null_idm()", "check_empty_idm()"], "published": ["get_bcastmacaddress_cb", "query_bcastmacaddress_cb", "get_client_ip_cb", "query_client_ip_cb", "get_gwyipv6_cb", "query_gwyipv6_cb", "get_account_id_cb", "query_account_id_cb", "updatexmldata", "idm_server_start", "free_server_memory"], "classes": [], "methods": [{"name": "xmlDoc * open_document(const char * file_name)", "description": "Reads and parses an XML document from a file.", "scope": "", "scopeKind": ""}, {"name": "xmlNode * get_node_by_name(xmlNode * node,const char * node_name)", "description": "Recursively searches an XML node for a child with a specific name.", "scope": "", "scopeKind": ""}, {"name": "int set_content(xmlDoc * doc,const char * node_name,const char * new_value)", "description": "Sets the content of a specified XML node.", "scope": "", "scopeKind": ""}, {"name": "BOOL updatexmldata(const char * xmlfilename,const char * struuid,const char * serialno)", "description": "Updates specific fields (UDN, serialNumber) in an XML device description file.", "scope": "", "scopeKind": ""}, {"name": "BOOL getUidfromRecvId()", "description": "Parses broadcast MAC address to generate a UUID string.", "scope": "", "scopeKind": ""}, {"name": "BOOL getUUID(char * outValue)", "description": "Retrieves the UUID based on received ID token.", "scope": "", "scopeKind": ""}, {"name": "int idm_server_start(char * Interface,char * base_mac)", "description": "Initializes and starts the IDM server, configuring UPnP contexts, device XML, and setting up service callbacks.", "scope": "", "scopeKind": ""}, {"name": "void free_server_memory()", "description": "Cleans up and releases resources used by the server.", "scope": "", "scopeKind": ""}, {"name": "BOOL check_empty_idm(char * str)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool check_null_idm(char * str)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "G_MODULE_EXPORT void get_account_id_cb(GUPnPService * service,GUPnPServiceAction * action,gpointer user_data)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "G_MODULE_EXPORT void get_bcastmacaddress_cb(GUPnPService * service,GUPnPServiceAction * action,gpointer user_data)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "G_MODULE_EXPORT void get_client_ip_cb(GUPnPService * service,GUPnPServiceAction * action,gpointer user_data)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "G_MODULE_EXPORT void get_gwyipv6_cb(GUPnPService * service,GUPnPServiceAction * action,gpointer user_data)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "G_MODULE_EXPORT void query_account_id_cb(GUPnPService * service,char * variable,GValue * value,gpointer user_data)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "G_MODULE_EXPORT void query_bcastmacaddress_cb(GUPnPService * service,char * variable,GValue * value,gpointer user_data)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "G_MODULE_EXPORT void query_client_ip_cb(GUPnPService * service,char * variable,GValue * value,gpointer user_data)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "G_MODULE_EXPORT void query_gwyipv6_cb(GUPnPService * service,char * variable,GValue * value,gpointer user_data)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["gupnp_service_action_set", "gupnp_service_action_return", "g_value_init", "g_value_set_string", "g_message", "xmlReadFile", "xmlDocGetRootElement", "get_node_by_name", "xmlNodeSetContent", "fopen", "xmlDocFormatDump", "fclose", "xmlFreeDoc", "xmlCleanupParser", "g_strsplit_set", "g_strstrip", "g_string_printf", "getipaddress", "getserialnum", "getAccountId", "access", "gupnp_context_new_s", "gupnp_root_device_new", "gupnp_root_device_set_available", "gupnp_device_info_get_service", "g_signal_connect", "g_strconcat", "g_strfreev", "g_message", "g_clear_object"], "search-terms": ["IDM", "UPnP", "gupnp", "X1IDM", "XML configuration", "device identity", "uuid", "device description", "g_signal_connect", "idm_server_start"], "state": 2, "file_id": 13003, "knowledge_revision": 25900, "git_revision": "", "ctags": [{"_type": "tag", "name": "ACCOUNTID_SIZE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^#define ACCOUNTID_SIZE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "DEVICE_PROTECTION_CONTEXT_PORT", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^#define DEVICE_PROTECTION_CONTEXT_PORT /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "IDM_CA_FILE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^#define IDM_CA_FILE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "IDM_CERT_FILE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^#define IDM_CERT_FILE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "IDM_DP_SERVICE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^#define IDM_DP_SERVICE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "IDM_KEY_FILE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^#define IDM_KEY_FILE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "IDM_SERVICE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^#define IDM_SERVICE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "IPv4_ADDR_SIZE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^#define IPv4_ADDR_SIZE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "IPv6_ADDR_SIZE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^#define IPv6_ADDR_SIZE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MAC_ADDR_SIZE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^#define MAC_ADDR_SIZE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "SERVER_CONTEXT_PORT", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^#define SERVER_CONTEXT_PORT /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "SSL_FILE_LEN", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^#define SSL_FILE_LEN /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "_GNU_SOURCE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^ #define _GNU_SOURCE$/", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "accountId", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^char clientIp[IPv4_ADDR_SIZE],bcastMacaddress[MAC_ADDR_SIZE],gwyIpv6[IPv6_ADDR_SIZE],interface[I/", "language": "C", "typeref": "typename:char[]", "kind": "variable"}, {"_type": "tag", "name": "bcastMacaddress", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^char clientIp[IPv4_ADDR_SIZE],bcastMacaddress[MAC_ADDR_SIZE],gwyIpv6[IPv6_ADDR_SIZE],interface[I/", "language": "C", "typeref": "typename:char[]", "kind": "variable"}, {"_type": "tag", "name": "bcastmacaddress", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^GString *bcastmacaddress,*serial_num,*recv_id;$/", "language": "C", "typeref": "typename:GString *", "kind": "variable"}, {"_type": "tag", "name": "check_empty_idm", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^BOOL check_empty_idm(char *str)$/", "language": "C", "typeref": "typename:BOOL", "kind": "function", "signature": "(char * str)"}, {"_type": "tag", "name": "check_null_idm", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^bool check_null_idm(char *str)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(char * str)"}, {"_type": "tag", "name": "clientIp", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^char clientIp[IPv4_ADDR_SIZE],bcastMacaddress[MAC_ADDR_SIZE],gwyIpv6[IPv6_ADDR_SIZE],interface[I/", "language": "C", "typeref": "typename:char[]", "kind": "variable"}, {"_type": "tag", "name": "free_server_memory", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^void free_server_memory()$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getUUID", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^BOOL getUUID(char *outValue)$/", "language": "C", "typeref": "typename:BOOL", "kind": "function", "signature": "(char * outValue)"}, {"_type": "tag", "name": "getUidfromRecvId", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^BOOL getUidfromRecvId()$/", "language": "C", "typeref": "typename:BOOL", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "get_account_id_cb", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^get_account_id_cb (GUPnPService *service, GUPnPServiceAction *action, gpointer user_data)$/", "language": "C", "typeref": "typename:G_MODULE_EXPORT void", "kind": "function", "signature": "(GUPnPService * service,GUPnPServiceAction * action,gpointer user_data)"}, {"_type": "tag", "name": "get_bcastmacaddress_cb", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^get_bcastmacaddress_cb (GUPnPService *service, GUPnPServiceAction *action, gpointer user_data)$/", "language": "C", "typeref": "typename:G_MODULE_EXPORT void", "kind": "function", "signature": "(GUPnPService * service,GUPnPServiceAction * action,gpointer user_data)"}, {"_type": "tag", "name": "get_client_ip_cb", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^get_client_ip_cb (GUPnPService *service, GUPnPServiceAction *action, gpointer user_data)$/", "language": "C", "typeref": "typename:G_MODULE_EXPORT void", "kind": "function", "signature": "(GUPnPService * service,GUPnPServiceAction * action,gpointer user_data)"}, {"_type": "tag", "name": "get_gwyipv6_cb", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^get_gwyipv6_cb (GUPnPService *service, GUPnPServiceAction *action, gpointer user_data)$/", "language": "C", "typeref": "typename:G_MODULE_EXPORT void", "kind": "function", "signature": "(GUPnPService * service,GUPnPServiceAction * action,gpointer user_data)"}, {"_type": "tag", "name": "get_node_by_name", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^static xmlNode * get_node_by_name(xmlNode * node, const char *node_name)$/", "file": true, "language": "C", "typeref": "typename:xmlNode *", "kind": "function", "signature": "(xmlNode * node,const char * node_name)"}, {"_type": "tag", "name": "gwyIpv6", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^char clientIp[IPv4_ADDR_SIZE],bcastMacaddress[MAC_ADDR_SIZE],gwyIpv6[IPv6_ADDR_SIZE],interface[I/", "language": "C", "typeref": "typename:char[]", "kind": "variable"}, {"_type": "tag", "name": "idm_server_start", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^int idm_server_start(char* Interface, char * base_mac)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(char * Interface,char * base_mac)"}, {"_type": "tag", "name": "interface", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^char clientIp[IPv4_ADDR_SIZE],bcastMacaddress[MAC_ADDR_SIZE],gwyIpv6[IPv6_ADDR_SIZE],interface[I/", "language": "C", "typeref": "typename:char[]", "kind": "variable"}, {"_type": "tag", "name": "open_document", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^xmlDoc * open_document(const char * file_name)$/", "language": "C", "typeref": "typename:xmlDoc *", "kind": "function", "signature": "(const char * file_name)"}, {"_type": "tag", "name": "query_account_id_cb", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^query_account_id_cb (GUPnPService *service, char *variable, GValue *value, gpointer user_data)$/", "language": "C", "typeref": "typename:G_MODULE_EXPORT void", "kind": "function", "signature": "(GUPnPService * service,char * variable,GValue * value,gpointer user_data)"}, {"_type": "tag", "name": "query_bcastmacaddress_cb", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^query_bcastmacaddress_cb (GUPnPService *service, char *variable, GValue *value, gpointer user_da/", "language": "C", "typeref": "typename:G_MODULE_EXPORT void", "kind": "function", "signature": "(GUPnPService * service,char * variable,GValue * value,gpointer user_data)"}, {"_type": "tag", "name": "query_client_ip_cb", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^query_client_ip_cb (GUPnPService *service, char *variable, GValue *value, gpointer user_data)$/", "language": "C", "typeref": "typename:G_MODULE_EXPORT void", "kind": "function", "signature": "(GUPnPService * service,char * variable,GValue * value,gpointer user_data)"}, {"_type": "tag", "name": "query_gwyipv6_cb", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^query_gwyipv6_cb (GUPnPService *service, char *variable, GValue *value, gpointer user_data)$/", "language": "C", "typeref": "typename:G_MODULE_EXPORT void", "kind": "function", "signature": "(GUPnPService * service,char * variable,GValue * value,gpointer user_data)"}, {"_type": "tag", "name": "recv_id", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^GString *bcastmacaddress,*serial_num,*recv_id;$/", "language": "C", "typeref": "typename:GString *", "kind": "variable"}, {"_type": "tag", "name": "serial_num", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^GString *bcastmacaddress,*serial_num,*recv_id;$/", "language": "C", "typeref": "typename:GString *", "kind": "variable"}, {"_type": "tag", "name": "server_upnpContext", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^GUPnPContext *server_upnpContext,*server_upnpContextDeviceProtect;$/", "language": "C", "typeref": "typename:GUPnPContext *", "kind": "variable"}, {"_type": "tag", "name": "server_upnpContextDeviceProtect", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^GUPnPContext *server_upnpContext,*server_upnpContextDeviceProtect;$/", "language": "C", "typeref": "typename:GUPnPContext *", "kind": "variable"}, {"_type": "tag", "name": "set_content", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^int set_content(xmlDoc* doc, const char * node_name, const char * new_value)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(xmlDoc * doc,const char * node_name,const char * new_value)"}, {"_type": "tag", "name": "uUid", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^char clientIp[IPv4_ADDR_SIZE],bcastMacaddress[MAC_ADDR_SIZE],gwyIpv6[IPv6_ADDR_SIZE],interface[I/", "language": "C", "typeref": "typename:char[256]", "kind": "variable"}, {"_type": "tag", "name": "updatexmldata", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/xupnp/src/idm_server.c", "pattern": "/^BOOL updatexmldata(const char* xmlfilename, const char* struuid,const char* serialno)$/", "language": "C", "typeref": "typename:BOOL", "kind": "function", "signature": "(const char * xmlfilename,const char * struuid,const char * serialno)"}], "hash": "00e022aa09410c2405688f57b061a430", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdk/components/generic/xupnp/src/idm_server.c", "fields": [{"name": "char[] accountId", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char[] bcastMacaddress", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "GString * bcastmacaddress", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char[] clientIp", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char[] gwyIpv6", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char[] interface", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "GString * recv_id", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "GString * serial_num", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "GUPnPContext * server_upnpContext", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "GUPnPContext * server_upnpContextDeviceProtect", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char[256] uUid", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"25900": ""}]}