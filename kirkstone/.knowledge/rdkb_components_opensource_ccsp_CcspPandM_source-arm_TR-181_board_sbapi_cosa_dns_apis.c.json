{"is_source_file": true, "format": "C", "description": "This file implements back-end APIs for DNS configuration, including DNS client enablement, server management, relay status, and server list handling for different environments (simulation, hardware platforms). It contains functions for retrieving, setting, adding, and deleting DNS servers and relays, as well as managing client status.", "external_files": ["cosa_dns_internal.h", "safec_lib_common.h", "utctx/utctx_api.h", "utapi.h", "utapi_util.h", "ulog/ulog.h", "syscfg/syscfg.h", "sys/types.h", "sys/socket.h", "arpa/inet.h", "cosa_x_cisco_com_devicecontrol_apis.h"], "external_methods": ["AnscAllocateMemory", "AnscCopyMemory", "Utopia_Init", "Utopia_GetDNSServer", "Utopia_RawSet", "Utopia_Free", "inet_pton", "CosaDmlDcSetWanNameServer", "SUCCESS"], "published": ["CosaDmlDnsInit", "CosaDmlDnsEnableClient", "CosaDmlIpDnsGetClientStatus", "CosaDmlDnsClientGetServers", "CosaDmlDnsClientSetServerValues", "CosaDmlDnsClientAddServer", "CosaDmlDnsClientDelServer", "CosaDmlDnsClientSetServer", "CosaDmlDnsClientGetServer", "CosaDmlDnsEnableRelay", "CosaDmlIpDnsGetRelayStatus", "CosaDmlDnsRelayGetServers", "CosaDmlDnsRelaySetServerValues", "CosaDmlDnsRelayAddServer", "CosaDmlDnsRelayDelServer", "CosaDmlDnsRelaySetServer", "CosaDmlDnsRelayGetServer"], "classes": [], "methods": [{"name": "ANSC_STATUS CosaDmlDnsInit(ANSC_HANDLE hDml,PANSC_HANDLE phContext)", "description": "Initializes the DNS backend, enabling management of DNS settings based on the environment.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaDmlDnsEnableClient(ANSC_HANDLE hContext,BOOLEAN bEnabled)", "description": "Enables or disables the DNS client.", "scope": "", "scopeKind": ""}, {"name": "COSA_DML_DNS_STATUS CosaDmlIpDnsGetClientStatus(ANSC_HANDLE hContext)", "description": "Retrieves the current status (enabled/disabled) of the DNS client.", "scope": "", "scopeKind": ""}, {"name": "PCOSA_DML_DNS_CLIENT_SERVER CosaDmlDnsClientGetServers(ANSC_HANDLE hContext,PULONG pulCount)", "description": "Retrieves the list of DNS servers configured for the DNS client.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaDmlDnsClientSetServerValues(ANSC_HANDLE hContext,ULONG ulIndex,ULONG ulInstanceNumber,char * pAlias)", "description": "Sets specific values (instance, alias) for a DNS server at a given index.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaDmlDnsClientAddServer(ANSC_HANDLE hContext,PCOSA_DML_DNS_CLIENT_SERVER pEntry)", "description": "Adds a new DNS server entry to the DNS client configuration.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaDmlDnsClientDelServer(ANSC_HANDLE hContext,ULONG ulInstanceNumber)", "description": "Deletes a DNS server entry identified by instance number.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaDmlDnsClientSetServer(ANSC_HANDLE hContext,PCOSA_DML_DNS_CLIENT_SERVER pEntry)", "description": "Modifies an existing DNS server entry.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaDmlDnsClientGetServer(ANSC_HANDLE hContext,PCOSA_DML_DNS_CLIENT_SERVER pEntry)", "description": "Retrieves the configuration of a specific DNS server.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaDmlDnsEnableRelay(ANSC_HANDLE hContext,BOOLEAN bEnabled)", "description": "Enables or disables the DNS relay.", "scope": "", "scopeKind": ""}, {"name": "COSA_DML_DNS_STATUS CosaDmlIpDnsGetRelayStatus(ANSC_HANDLE hContext)", "description": "Returns the current status of DNS relay (enabled/disabled).", "scope": "", "scopeKind": ""}, {"name": "PCOSA_DML_DNS_RELAY_ENTRY CosaDmlDnsRelayGetServers(ANSC_HANDLE hContext,PULONG pulCount)", "description": "Gets the list of DNS relay servers configured.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaDmlDnsRelaySetServerValues(ANSC_HANDLE hContext,ULONG ulIndex,ULONG ulInstanceNumber,char * pAlias)", "description": "Sets specific values for a DNS relay server at an index.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaDmlDnsRelayAddServer(ANSC_HANDLE hContext,PCOSA_DML_DNS_RELAY_ENTRY pEntry)", "description": "Adds a DNS relay server entry.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaDmlDnsRelayDelServer(ANSC_HANDLE hContext,ULONG ulInstanceNumber)", "description": "Deletes a DNS relay server by instance number.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaDmlDnsRelaySetServer(ANSC_HANDLE hContext,PCOSA_DML_DNS_RELAY_ENTRY pEntry)", "description": "Modifies an existing relay server configuration.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaDmlDnsRelayGetServer(ANSC_HANDLE hContext,PCOSA_DML_DNS_RELAY_ENTRY pEntry)", "description": "Retrieves a specific relay server configuration.", "scope": "", "scopeKind": ""}, {"name": "int CHECK_V4_V6(char * str)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["AnscAllocateMemory", "AnscCopyMemory", "Utopia_Init", "Utopia_GetDNSServer", "Utopia_RawSet", "Utopia_Free", "inet_pton", "CosaDmlDcSetWanNameServer", "sprintf_s", "ERR_CHK", "memcpy"], "search-terms": ["DNS", "DnsClient", "DnsServer", "DnsRelay", "COSA_DML_DNS_CLIENT_SERVER", "COSA_DML_DNS_RELAY_ENTRY", "EnableClient", "GetServers", "AddServer", "DelServer", "SetServer", "GetServer", "EnableRelay", "GetRelayStatus"], "state": 2, "file_id": 8520, "knowledge_revision": 21556, "git_revision": "", "ctags": [{"_type": "tag", "name": "CHECK_V4_V6", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspPandM/source-arm/TR-181/board_sbapi/cosa_dns_apis.c", "pattern": "/^static int CHECK_V4_V6(char *str){$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(char * str)"}, {"_type": "tag", "name": "CosaDmlDnsClientAddServer", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspPandM/source-arm/TR-181/board_sbapi/cosa_dns_apis.c", "pattern": "/^CosaDmlDnsClientAddServer$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hContext,PCOSA_DML_DNS_CLIENT_SERVER pEntry)"}, {"_type": "tag", "name": "CosaDmlDnsClientDelServer", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspPandM/source-arm/TR-181/board_sbapi/cosa_dns_apis.c", "pattern": "/^CosaDmlDnsClientDelServer$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hContext,ULONG ulInstanceNumber)"}, {"_type": "tag", "name": "CosaDmlDnsClientGetServer", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspPandM/source-arm/TR-181/board_sbapi/cosa_dns_apis.c", "pattern": "/^CosaDmlDnsClientGetServer$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hContext,PCOSA_DML_DNS_CLIENT_SERVER pEntry)"}, {"_type": "tag", "name": "CosaDmlDnsClientGetServers", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspPandM/source-arm/TR-181/board_sbapi/cosa_dns_apis.c", "pattern": "/^CosaDmlDnsClientGetServers$/", "language": "C", "typeref": "typename:PCOSA_DML_DNS_CLIENT_SERVER", "kind": "function", "signature": "(ANSC_HANDLE hContext,PULONG pulCount)"}, {"_type": "tag", "name": "CosaDmlDnsClientSetServer", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspPandM/source-arm/TR-181/board_sbapi/cosa_dns_apis.c", "pattern": "/^CosaDmlDnsClientSetServer$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hContext,PCOSA_DML_DNS_CLIENT_SERVER pEntry)"}, {"_type": "tag", "name": "CosaDmlDnsClientSetServerValues", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspPandM/source-arm/TR-181/board_sbapi/cosa_dns_apis.c", "pattern": "/^CosaDmlDnsClientSetServerValues$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hContext,ULONG ulIndex,ULONG ulInstanceNumber,char * pAlias)"}, {"_type": "tag", "name": "CosaDmlDnsEnableClient", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspPandM/source-arm/TR-181/board_sbapi/cosa_dns_apis.c", "pattern": "/^CosaDmlDnsEnableClient$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hContext,BOOLEAN bEnabled)"}, {"_type": "tag", "name": "CosaDmlDnsEnableRelay", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspPandM/source-arm/TR-181/board_sbapi/cosa_dns_apis.c", "pattern": "/^CosaDmlDnsEnableRelay$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hContext,BOOLEAN bEnabled)"}, {"_type": "tag", "name": "CosaDmlDnsInit", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspPandM/source-arm/TR-181/board_sbapi/cosa_dns_apis.c", "pattern": "/^CosaDmlDnsInit$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hDml,PANSC_HANDLE phContext)"}, {"_type": "tag", "name": "CosaDmlDnsRelayAddServer", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspPandM/source-arm/TR-181/board_sbapi/cosa_dns_apis.c", "pattern": "/^CosaDmlDnsRelayAddServer$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hContext,PCOSA_DML_DNS_RELAY_ENTRY pEntry)"}, {"_type": "tag", "name": "CosaDmlDnsRelayDelServer", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspPandM/source-arm/TR-181/board_sbapi/cosa_dns_apis.c", "pattern": "/^CosaDmlDnsRelayDelServer$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hContext,ULONG ulInstanceNumber)"}, {"_type": "tag", "name": "CosaDmlDnsRelayGetServer", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspPandM/source-arm/TR-181/board_sbapi/cosa_dns_apis.c", "pattern": "/^CosaDmlDnsRelayGetServer$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hContext,PCOSA_DML_DNS_RELAY_ENTRY pEntry)"}, {"_type": "tag", "name": "CosaDmlDnsRelayGetServers", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspPandM/source-arm/TR-181/board_sbapi/cosa_dns_apis.c", "pattern": "/^CosaDmlDnsRelayGetServers$/", "language": "C", "typeref": "typename:PCOSA_DML_DNS_RELAY_ENTRY", "kind": "function", "signature": "(ANSC_HANDLE hContext,PULONG pulCount)"}, {"_type": "tag", "name": "CosaDmlDnsRelaySetServer", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspPandM/source-arm/TR-181/board_sbapi/cosa_dns_apis.c", "pattern": "/^CosaDmlDnsRelaySetServer$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hContext,PCOSA_DML_DNS_RELAY_ENTRY pEntry)"}, {"_type": "tag", "name": "CosaDmlDnsRelaySetServerValues", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspPandM/source-arm/TR-181/board_sbapi/cosa_dns_apis.c", "pattern": "/^CosaDmlDnsRelaySetServerValues$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hContext,ULONG ulIndex,ULONG ulInstanceNumber,char * pAlias)"}, {"_type": "tag", "name": "CosaDmlIpDnsGetClientStatus", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspPandM/source-arm/TR-181/board_sbapi/cosa_dns_apis.c", "pattern": "/^CosaDmlIpDnsGetClientStatus$/", "language": "C", "typeref": "typename:COSA_DML_DNS_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hContext)"}, {"_type": "tag", "name": "CosaDmlIpDnsGetRelayStatus", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspPandM/source-arm/TR-181/board_sbapi/cosa_dns_apis.c", "pattern": "/^CosaDmlIpDnsGetRelayStatus$/", "language": "C", "typeref": "typename:COSA_DML_DNS_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hContext)"}, {"_type": "tag", "name": "DNS_FAMILY_IPV4", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspPandM/source-arm/TR-181/board_sbapi/cosa_dns_apis.c", "pattern": "/^    DNS_FAMILY_IPV4,$/", "file": true, "language": "C", "kind": "enumerator", "scope": "dns_family", "scopeKind": "enum"}, {"_type": "tag", "name": "DNS_FAMILY_IPV6", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspPandM/source-arm/TR-181/board_sbapi/cosa_dns_apis.c", "pattern": "/^    DNS_FAMILY_IPV6$/", "file": true, "language": "C", "kind": "enumerator", "scope": "dns_family", "scopeKind": "enum"}, {"_type": "tag", "name": "DNS_FAMILY_NONE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspPandM/source-arm/TR-181/board_sbapi/cosa_dns_apis.c", "pattern": "/^    DNS_FAMILY_NONE = 0,$/", "file": true, "language": "C", "kind": "enumerator", "scope": "dns_family", "scopeKind": "enum"}, {"_type": "tag", "name": "dns_family", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspPandM/source-arm/TR-181/board_sbapi/cosa_dns_apis.c", "pattern": "/^typedef enum dns_family{$/", "file": true, "language": "C", "kind": "enum"}, {"_type": "tag", "name": "dns_family_t", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspPandM/source-arm/TR-181/board_sbapi/cosa_dns_apis.c", "pattern": "/^}dns_family_t;$/", "file": true, "language": "C", "typeref": "enum:dns_family", "kind": "typedef"}, {"_type": "tag", "name": "g_ClientEnable", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspPandM/source-arm/TR-181/board_sbapi/cosa_dns_apis.c", "pattern": "/^BOOLEAN g_ClientEnable = TRUE; $/", "language": "C", "typeref": "typename:BOOLEAN", "kind": "variable"}, {"_type": "tag", "name": "g_DnsRelayFull", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspPandM/source-arm/TR-181/board_sbapi/cosa_dns_apis.c", "pattern": "/^COSA_DML_DNS_RELAY_ENTRY  g_DnsRelayFull[10] =$/", "language": "C", "typeref": "typename:COSA_DML_DNS_RELAY_ENTRY[10]", "kind": "variable"}, {"_type": "tag", "name": "g_DnsServerFull", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspPandM/source-arm/TR-181/board_sbapi/cosa_dns_apis.c", "pattern": "/^COSA_DML_DNS_CLIENT_SERVER  g_DnsServerFull[10] =$/", "language": "C", "typeref": "typename:COSA_DML_DNS_CLIENT_SERVER[10]", "kind": "variable"}, {"_type": "tag", "name": "g_NumOfDnsRelays", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspPandM/source-arm/TR-181/board_sbapi/cosa_dns_apis.c", "pattern": "/^ULONG g_NumOfDnsRelays = 1;$/", "language": "C", "typeref": "typename:ULONG", "kind": "variable"}, {"_type": "tag", "name": "g_NumOfDnsServers", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspPandM/source-arm/TR-181/board_sbapi/cosa_dns_apis.c", "pattern": "/^ULONG g_NumOfDnsServers = 1;$/", "language": "C", "typeref": "typename:ULONG", "kind": "variable"}, {"_type": "tag", "name": "g_ReplyEnable", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspPandM/source-arm/TR-181/board_sbapi/cosa_dns_apis.c", "pattern": "/^BOOLEAN g_ReplyEnable = TRUE;$/", "language": "C", "typeref": "typename:BOOLEAN", "kind": "variable"}], "hash": "6c3c47b807b78a4d3b6423bb5cad4d9f", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/CcspPandM/source-arm/TR-181/board_sbapi/cosa_dns_apis.c", "fields": [{"name": "BOOLEAN g_ClientEnable", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "COSA_DML_DNS_RELAY_ENTRY[10] g_DnsRelayFull", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "COSA_DML_DNS_CLIENT_SERVER[10] g_DnsServerFull", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ULONG g_NumOfDnsRelays", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ULONG g_NumOfDnsServers", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "BOOLEAN g_ReplyEnable", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"21556": ""}]}