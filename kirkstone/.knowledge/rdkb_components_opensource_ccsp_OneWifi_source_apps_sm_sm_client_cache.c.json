{"is_source_file": true, "format": "C", "description": "This file implements client cache management for Wi-Fi clients, including functions for adding, calculating statistics, freeing samples, and managing the cache. It manages client samples and statistics, interacts with data structures representing clients and samples, and provides API functions for storing client samples and initializing/deinitializing cache.", "external_files": ["sm_cache.h", "sm_utils.h", "wifi_mgr.h", "wifi_util.h", "<const.h>"], "external_methods": ["hash_map_put", "hash_map_get", "hash_map_get_first", "hash_map_get_next", "hash_map_create", "hash_map_destroy", "ds_dlist_tail", "ds_dlist_head", "ds_dlist_is_empty", "ds_dlist_ifirst", "ds_dlist_inext", "ds_dlist_iremove", "ds_dlist_insert_tail", "ds_dlist_foreach", "hash_map_remove", "get_ds_dlist_len", "to_mac_str", "roundf", "memset", "memcpy", "snprintf", "strncpy", "strdup", "calloc", "free", "strcmp"], "published": ["sm_client_cache_init", "sm_client_cache_deinit", "sm_client_sample_store", "sm_client_cache_free"], "classes": [], "methods": [{"name": "bool is_client_alive(sm_client_t * client)", "description": "Checks if a client is considered alive based on its last sample status and update flag.", "scope": "", "scopeKind": ""}, {"name": "int client_id_get(const mac_address_t mac,const unsigned int vap_index,sm_client_id_t id)", "description": "Generates a client ID string based on MAC address and vap index.", "scope": "", "scopeKind": ""}, {"name": "sm_client_t * client_alloc(sm_client_cache_t * cache,sm_client_id_t client_id)", "description": "Allocates and initializes a new client structure, inserting it into the cache.", "scope": "", "scopeKind": ""}, {"name": "sm_client_t * client_get_or_alloc(sm_client_cache_t * cache,sm_client_id_t client_id)", "description": "Retrieves an existing client from cache or allocates a new one if it doesn't exist.", "scope": "", "scopeKind": ""}, {"name": "void client_samples_free(ds_dlist_t * samples,free_samples_type type)", "description": "Frees samples in a list, with an option to keep the last sample.", "scope": "", "scopeKind": ""}, {"name": "int client_hal_to_sample(unsigned int radio_index,ssid_t ssid,if_name_t ifname,wifi_associated_dev3_t * dev3,sm_client_conn_t * conn_info,dpp_client_record_t * result)", "description": "Converts hardware data (dev3) into a sample record for the client.", "scope": "", "scopeKind": ""}, {"name": "int client_sample_add(sm_client_cache_t * cache,unsigned int radio_index,unsigned int vap_index,ssid_t ssid,if_name_t ifname,wifi_associated_dev3_t * dev3,sm_client_conn_t * conn_info)", "description": "Adds a new sample to a client's sample list in the cache.", "scope": "", "scopeKind": ""}, {"name": "int sm_client_samples_calc_total(ds_dlist_t * samples,dpp_client_record_t * result)", "description": "Calculates total statistics over a list of samples for a client.", "scope": "", "scopeKind": ""}, {"name": "int sm_client_sample_store(unsigned int radio_index,unsigned int vap_index,wifi_associated_dev3_t * dev3,sm_client_conn_t * conn_info)", "description": "Stores a client sample into the cache, creating or updating client entries.", "scope": "", "scopeKind": ""}, {"name": "void sm_client_cache_free(sm_client_cache_t * cache)", "description": "Frees all client data from the cache, removing and cleaning up clients.", "scope": "", "scopeKind": ""}, {"name": "void sm_client_cache_init(sm_client_cache_t * cache)", "description": "Initializes the client cache.", "scope": "", "scopeKind": ""}, {"name": "void sm_client_cache_deinit(sm_client_cache_t * cache)", "description": "Deinitializes the client cache, freeing all resources.", "scope": "", "scopeKind": ""}], "calls": ["hash_map_put", "hash_map_get", "hash_map_get_first", "hash_map_get_next", "hash_map_create", "hash_map_destroy", "ds_dlist_tail", "ds_dlist_head", "ds_dlist_is_empty", "ds_dlist_ifirst", "ds_dlist_inext", "ds_dlist_iremove", "ds_dlist_insert_tail", "ds_dlist_foreach", "get_ds_dlist_len", "to_mac_str", "roundf", "memset", "memcpy", "snprintf", "strncpy", "strdup", "calloc", "free", "strcmp", "get_wifimgr_obj", "get_ssid_from_vap_index", "convert_apindex_to_ifname", "wifi_util_dbg_print", "wifi_util_error_print"], "search-terms": ["client cache", "sample statistics", "client sample add", "client alive check", "Wi-Fi client cache", "sample calculation", "client ID generation", "client cache init", "client cache deinit"], "state": 2, "file_id": 6059, "knowledge_revision": 19166, "git_revision": "", "ctags": [{"_type": "tag", "name": "CLIENT_STATS_PRINT", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_client_cache.c", "pattern": "/^#define CLIENT_STATS_PRINT(/", "file": true, "language": "C", "kind": "macro", "signature": "(S,M)"}, {"_type": "tag", "name": "DELTA", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_client_cache.c", "pattern": "/^#define DELTA(/", "file": true, "language": "C", "kind": "macro", "signature": "(X)"}, {"_type": "tag", "name": "DELTA_CONN_STATS", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_client_cache.c", "pattern": "/^#define DELTA_CONN_STATS(/", "file": true, "language": "C", "kind": "macro", "signature": "(PREV_CONNECTED,X)"}, {"_type": "tag", "name": "DELTA_STATS", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_client_cache.c", "pattern": "/^#define DELTA_STATS(/", "file": true, "language": "C", "kind": "macro", "signature": "(X)"}, {"_type": "tag", "name": "DURATION_MS_NO_DISCONNECTS", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_client_cache.c", "pattern": "/^#define DURATION_MS_NO_DISCONNECTS /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "FREE_SAMPLE_ALL", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_client_cache.c", "pattern": "/^    FREE_SAMPLE_ALL,$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon48c97c1f0103", "scopeKind": "enum"}, {"_type": "tag", "name": "FREE_SAMPLE_ALL_EXCEPT_LAST", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_client_cache.c", "pattern": "/^    FREE_SAMPLE_ALL_EXCEPT_LAST$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon48c97c1f0103", "scopeKind": "enum"}, {"_type": "tag", "name": "ROUNDF", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_client_cache.c", "pattern": "/^#define ROUNDF(/", "file": true, "language": "C", "kind": "macro", "signature": "(X)"}, {"_type": "tag", "name": "TS_DEFAULT", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_client_cache.c", "pattern": "/^#define TS_DEFAULT /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "__anon48c97c1f0103", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_client_cache.c", "pattern": "/^typedef enum {$/", "file": true, "language": "C", "kind": "enum"}, {"_type": "tag", "name": "client_alloc", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_client_cache.c", "pattern": "/^static inline sm_client_t* client_alloc(sm_client_cache_t *cache, sm_client_id_t client_id)$/", "file": true, "language": "C", "typeref": "typename:sm_client_t *", "kind": "function", "signature": "(sm_client_cache_t * cache,sm_client_id_t client_id)"}, {"_type": "tag", "name": "client_get_or_alloc", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_client_cache.c", "pattern": "/^static inline sm_client_t* client_get_or_alloc(sm_client_cache_t *cache, sm_client_id_t client_i/", "file": true, "language": "C", "typeref": "typename:sm_client_t *", "kind": "function", "signature": "(sm_client_cache_t * cache,sm_client_id_t client_id)"}, {"_type": "tag", "name": "client_hal_to_sample", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_client_cache.c", "pattern": "/^static int client_hal_to_sample(unsigned int radio_index, ssid_t ssid, if_name_t ifname,$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(unsigned int radio_index,ssid_t ssid,if_name_t ifname,wifi_associated_dev3_t * dev3,sm_client_conn_t * conn_info,dpp_client_record_t * result)"}, {"_type": "tag", "name": "client_id_get", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_client_cache.c", "pattern": "/^static int client_id_get(const mac_address_t mac, const unsigned int vap_index, sm_client_id_t i/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const mac_address_t mac,const unsigned int vap_index,sm_client_id_t id)"}, {"_type": "tag", "name": "client_sample_add", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_client_cache.c", "pattern": "/^static int client_sample_add(sm_client_cache_t *cache,$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(sm_client_cache_t * cache,unsigned int radio_index,unsigned int vap_index,ssid_t ssid,if_name_t ifname,wifi_associated_dev3_t * dev3,sm_client_conn_t * conn_info)"}, {"_type": "tag", "name": "client_samples_free", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_client_cache.c", "pattern": "/^static void client_samples_free(ds_dlist_t *samples, free_samples_type type)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(ds_dlist_t * samples,free_samples_type type)"}, {"_type": "tag", "name": "free_samples_type", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_client_cache.c", "pattern": "/^} free_samples_type;$/", "file": true, "language": "C", "typeref": "enum:__anon48c97c1f0103", "kind": "typedef"}, {"_type": "tag", "name": "is_client_alive", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_client_cache.c", "pattern": "/^static bool is_client_alive(sm_client_t *client)$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(sm_client_t * client)"}, {"_type": "tag", "name": "sm_client_cache_deinit", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_client_cache.c", "pattern": "/^void sm_client_cache_deinit(sm_client_cache_t *cache)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(sm_client_cache_t * cache)"}, {"_type": "tag", "name": "sm_client_cache_free", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_client_cache.c", "pattern": "/^void sm_client_cache_free(sm_client_cache_t *cache)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(sm_client_cache_t * cache)"}, {"_type": "tag", "name": "sm_client_cache_init", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_client_cache.c", "pattern": "/^void sm_client_cache_init(sm_client_cache_t *cache)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(sm_client_cache_t * cache)"}, {"_type": "tag", "name": "sm_client_sample_store", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_client_cache.c", "pattern": "/^int sm_client_sample_store(unsigned int radio_index, unsigned int vap_index,$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(unsigned int radio_index,unsigned int vap_index,wifi_associated_dev3_t * dev3,sm_client_conn_t * conn_info)"}, {"_type": "tag", "name": "sm_client_samples_calc_total", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_client_cache.c", "pattern": "/^int sm_client_samples_calc_total(ds_dlist_t *samples, dpp_client_record_t *result)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(ds_dlist_t * samples,dpp_client_record_t * result)"}], "hash": "a12e94f47968ccd886915812c6a7c2f0", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/OneWifi/source/apps/sm/sm_client_cache.c", "revision_history": [{"19166": ""}]}