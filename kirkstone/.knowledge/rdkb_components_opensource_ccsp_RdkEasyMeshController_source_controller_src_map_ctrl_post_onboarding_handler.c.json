{"is_source_file": true, "format": "C", "description": "This file appears to be a source implementation file in C for handling map controller onboarding, policy configuration, and channel selection in a network management context. It includes functions for building and sending policy configurations, handling onboarding timers, managing channel selection retries, and handling associated callbacks.", "external_files": ["map_ctrl_post_onboarding_handler.h", "map_ctrl_onboarding_handler.h", "map_ctrl_defines.h", "map_ctrl_cmdu_tx.h", "map_ctrl_tlv_helper.h", "map_ctrl_utils.h", "map_info.h", "map_timer_handler.h"], "external_methods": ["WFA_CERT()", "map_cfg_get()", "map_is_channel_selection_enabled()", "map_agent_handle_channel_selection()", "map_send_autoconfig_renew_ucast()", "map_send_topology_query()", "map_send_policy_config_request()", "map_fill_default_8021q_settings_tlv()", "map_fill_traffic_separation_policy_tlv()", "map_fill_empty_traffic_separation_policy_tlv()", "map_recompute_radio_state_and_update_ale_state()", "map_send_channel_scan_request()", "map_is_timer_registered()", "map_timer_restart_callback()", "map_timer_register_callback()", "map_unregister_retry()", "map_register_retry()", "map_dm_foreach_radio()", "map_dm_get_ale_timer_id()", "map_dm_get_radio_timer_id()", "acu_get_timestamp_sec()", "log_ctrl_i()", "log_ctrl_e()", "map_send_channel_preference_query()", "map_cleanup_retry_args()", "map_start_onboarding_status_check_timer()", "map_build_and_send_policy_config()", "map_handle_policy_config_sent()", "map_build_and_send_initial_channel_scan_req()", "map_handle_initial_channel_scan_request_sent()"], "published": ["map_build_and_send_policy_config", "map_handle_policy_config_sent", "map_build_and_send_initial_channel_scan_req", "map_handle_initial_channel_scan_request_sent", "map_start_onboarding_status_check_timer", "map_agent_handle_channel_selection", "map_agent_cancel_channel_selection"], "classes": [], "methods": [{"name": "bool is_policy_config_required(void)", "description": "Checks whether policy configuration is required based on WFA certification status.", "scope": "", "scopeKind": ""}, {"name": "bool is_initial_channel_scan_required(void)", "description": "Determines if an initial channel scan should be performed.", "scope": "", "scopeKind": ""}, {"name": "int chan_sel_query_compl_cb(int status,void * args,UNUSED void * opaque_cmdu)", "description": "Callback for channel preference query completion, triggers channel selection if enabled.", "scope": "", "scopeKind": ""}, {"name": "uint8_t onboarding_status_check_timer_cb(UNUSED char * timer_id,void * ale_object)", "description": "Timer callback to check onboarding status and send renewals or topology queries as needed.", "scope": "", "scopeKind": ""}, {"name": "int map_build_and_send_policy_config(void * args,uint16_t * mid)", "description": "Builds and sends a policy configuration request to an ALE.", "scope": "", "scopeKind": ""}, {"name": "int map_handle_policy_config_sent(int status,void * args,UNUSED void * compl_user_data)", "description": "Handles the confirmation that policy configuration was successfully sent.", "scope": "", "scopeKind": ""}, {"name": "int map_build_and_send_initial_channel_scan_req(void * args,UNUSED uint16_t * mid)", "description": "Builds and sends an initial channel scan request for a radio.", "scope": "", "scopeKind": ""}, {"name": "int map_handle_initial_channel_scan_request_sent(int status,void * args,UNUSED void * compl_user_data)", "description": "Handles the event of an initial channel scan request being sent, including timeout handling.", "scope": "", "scopeKind": ""}, {"name": "int map_start_onboarding_status_check_timer(map_ale_info_t * ale)", "description": "Starts or restarts the onboarding status check timer for an ALE.", "scope": "", "scopeKind": ""}, {"name": "int map_agent_handle_channel_selection(map_ale_info_t * ale,map_radio_info_t * radio,int action)", "description": "Handles channel selection process, including retries for queries and requests.", "scope": "", "scopeKind": ""}, {"name": "int map_agent_cancel_channel_selection(map_ale_info_t * ale)", "description": "Cancels ongoing channel selection timers for an ALE.", "scope": "", "scopeKind": ""}], "calls": ["is_policy_config_required()", "map_send_autoconfig_renew_ucast()", "map_send_topology_query()", "map_send_policy_config_request()", "map_fill_default_8021q_settings_tlv()", "map_fill_traffic_separation_policy_tlv()", "map_fill_empty_traffic_separation_policy_tlv()", "map_dm_ale_set_onboard_status()", "map_send_channel_scan_request()", "map_is_timer_registered()", "map_timer_restart_callback()", "map_timer_register_callback()", "map_unregister_retry()", "map_register_retry()", "map_dm_foreach_radio()", "map_dm_get_ale_timer_id()", "map_dm_get_radio_timer_id()", "acu_get_timestamp_sec()", "log_ctrl_i()", "log_ctrl_e()", "map_send_channel_preference_query()", "map_cleanup_retry_args()"], "search-terms": ["map_ctrl_post_onboarding_handler", "policy_config", "channel_scan", "onboarding_status_timer", "channel_selection", "ALE", "MAP", "WFA_CERT", "MAP_RETRY_STATUS_SUCCESS", "MAP_RETRY_STATUS_TIMEOUT", "map_is_channel_selection_enabled", "map_build_and_send_policy_config", "map_handle_policy_config_sent", "map_start_onboarding_status_check_timer"], "state": 2, "file_id": 8556, "knowledge_revision": 21588, "git_revision": "", "ctags": [{"_type": "tag", "name": "LOG_TAG", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/controller/src/map_ctrl_post_onboarding_handler.c", "pattern": "/^#define LOG_TAG /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "chan_sel_query_compl_cb", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/controller/src/map_ctrl_post_onboarding_handler.c", "pattern": "/^static int chan_sel_query_compl_cb(int status, void *args, UNUSED void *opaque_cmdu)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(int status,void * args,UNUSED void * opaque_cmdu)"}, {"_type": "tag", "name": "is_initial_channel_scan_required", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/controller/src/map_ctrl_post_onboarding_handler.c", "pattern": "/^static bool is_initial_channel_scan_required(void)$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "is_policy_config_required", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/controller/src/map_ctrl_post_onboarding_handler.c", "pattern": "/^static bool is_policy_config_required(void)$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "map_agent_cancel_channel_selection", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/controller/src/map_ctrl_post_onboarding_handler.c", "pattern": "/^int map_agent_cancel_channel_selection(map_ale_info_t *ale)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(map_ale_info_t * ale)"}, {"_type": "tag", "name": "map_agent_handle_channel_selection", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/controller/src/map_ctrl_post_onboarding_handler.c", "pattern": "/^int map_agent_handle_channel_selection(map_ale_info_t *ale, map_radio_info_t *radio, int action)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(map_ale_info_t * ale,map_radio_info_t * radio,int action)"}, {"_type": "tag", "name": "map_build_and_send_initial_channel_scan_req", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/controller/src/map_ctrl_post_onboarding_handler.c", "pattern": "/^int map_build_and_send_initial_channel_scan_req(void *args, UNUSED uint16_t *mid)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(void * args,UNUSED uint16_t * mid)"}, {"_type": "tag", "name": "map_build_and_send_policy_config", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/controller/src/map_ctrl_post_onboarding_handler.c", "pattern": "/^int map_build_and_send_policy_config(void *args, uint16_t *mid)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(void * args,uint16_t * mid)"}, {"_type": "tag", "name": "map_handle_initial_channel_scan_request_sent", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/controller/src/map_ctrl_post_onboarding_handler.c", "pattern": "/^int map_handle_initial_channel_scan_request_sent(int status, void *args, UNUSED void *compl_user/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(int status,void * args,UNUSED void * compl_user_data)"}, {"_type": "tag", "name": "map_handle_policy_config_sent", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/controller/src/map_ctrl_post_onboarding_handler.c", "pattern": "/^int map_handle_policy_config_sent(int status, void *args, UNUSED void *compl_user_data)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(int status,void * args,UNUSED void * compl_user_data)"}, {"_type": "tag", "name": "map_start_onboarding_status_check_timer", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/controller/src/map_ctrl_post_onboarding_handler.c", "pattern": "/^int map_start_onboarding_status_check_timer(map_ale_info_t *ale)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(map_ale_info_t * ale)"}, {"_type": "tag", "name": "onboarding_status_check_timer_cb", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/controller/src/map_ctrl_post_onboarding_handler.c", "pattern": "/^static uint8_t onboarding_status_check_timer_cb(UNUSED char* timer_id, void *ale_object)$/", "file": true, "language": "C", "typeref": "typename:uint8_t", "kind": "function", "signature": "(UNUSED char * timer_id,void * ale_object)"}], "hash": "419bac376345870ef3f0a1f024300521", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/RdkEasyMeshController/source/controller/src/map_ctrl_post_onboarding_handler.c", "revision_history": [{"21588": ""}]}