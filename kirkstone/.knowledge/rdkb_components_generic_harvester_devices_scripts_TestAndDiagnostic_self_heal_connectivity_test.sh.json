{"is_source_file": true, "format": "shell script", "description": "This file is a shell script designed for testing and diagnosing network connectivity issues, including ping tests, DNS resolution, and automatic recovery actions for a router or network device.", "external_files": ["/nvram/syscfg.db", "syscfg", "awk", "date", "dmcli", "sysevent"], "external_methods": ["syscfg_create", "syscfg get", "awk", "date +%N", "echo", "removehttp", "nslookup", "getCorrectiveActionState", "sleep", "dmcli simu setv", "route", "tr", "cut", "sysevent get", "ping"], "published": [], "classes": [], "methods": [{"name": "getCorrectiveActionState", "description": "Fetches the current state of the corrective action setting from system configuration."}, {"name": "calcRandTimetoStartPing", "description": "Calculates a random delay in seconds to start ping tests to avoid synchronized network checks."}, {"name": "resetRouter", "description": "Reboots the router device via simulation command."}, {"name": "resetNeeded", "description": "Determines if a reset is needed based on process name, and resets the router if required."}, {"name": "runDNSPingTest", "description": "Performs DNS resolution test using syscfg configured URL, and triggers corrective actions if DNS resolution fails."}, {"name": "runPingTest", "description": "Conducts ping tests to the default gateway, validates connectivity, and resets device if ping fails."}], "calls": ["syscfg_create", "syscfg get", "awk", "date +%N", "removehttp", "nslookup", "getCorrectiveActionState", "dmcli simu setv", "route", "sysevent get", "ping"], "search-terms": ["selfheal_dns_pingtest", "selfheal_enable", "ConnTest_PingInterval", "ConnTest_NumPingsPerServer", "default_router", "selfheal_ping_DataBlockSize", "dns_pingtest_url", "ipv4_gateway"], "state": 2, "file_id": 5689, "knowledge_revision": 18813, "git_revision": "", "hash": "2163dd9a64954a165f5f223f128c4c38", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/generic/harvester/devices/scripts/TestAndDiagnostic/self_heal_connectivity_test.sh", "revision_history": [{"18813": ""}]}