{"is_source_file": true, "format": "Python", "description": "This file contains unit test cases for the Bitbake build tool, including tests for environment setup, recipe handling, task execution, error handling, and feature validation within the OpenEmbedded build system.", "external_files": ["oeqa.utils.ftools", "oeqa.utils.commands", "oeqa.selftest.case"], "external_methods": ["runCmd", "bitbake", "get_bb_var", "get_bb_vars"], "published": ["BitbakeTests"], "classes": [{"name": "BitbakeTests", "description": "A test case class inheriting from OESelftestTestCase, containing numerous test methods for verifying Bitbake functionalities in the OpenEmbedded build environment."}], "methods": [{"name": "getline(self, res, line)", "description": "Helper method to extract a specific line containing a substring from a command result output.", "scope": "BitbakeTests", "scopeKind": "class"}, {"name": "test_run_bitbake_from_dir_1(self)", "description": "Tests if bitbake can run from the conf directory within the build directory.", "scope": "BitbakeTests", "scopeKind": "class"}, {"name": "test_run_bitbake_from_dir_2(self)", "description": "Tests if bitbake can run from the parent directory of the build directory with environment modifications.", "scope": "BitbakeTests", "scopeKind": "class"}, {"name": "test_run_bitbake_from_dir_3(self)", "description": "Tests if bitbake can run from a system directory (/tmp/).", "scope": "BitbakeTests", "scopeKind": "class"}, {"name": "test_event_handler(self)", "description": "Checks if bitbake emits specific build event logs correctly.", "scope": "BitbakeTests", "scopeKind": "class"}, {"name": "test_local_sstate(self)", "description": "Verifies the sstate cache functionality by running bitbake for a target, cleaning, and rerunning.", "scope": "BitbakeTests", "scopeKind": "class"}, {"name": "test_bitbake_invalid_recipe(self)", "description": "Ensures bitbake reports an error when an invalid recipe is specified.", "scope": "BitbakeTests", "scopeKind": "class"}, {"name": "test_bitbake_invalid_target(self)", "description": "Checks error reporting for nonexistent build targets.", "scope": "BitbakeTests", "scopeKind": "class"}, {"name": "test_warnings_errors(self)", "description": "Verifies if warnings and errors are correctly summarized at the end of a build.", "scope": "BitbakeTests", "scopeKind": "class"}, {"name": "test_invalid_patch(self)", "description": "Tests that applying a patch fails as expected when the patch is invalid.", "scope": "BitbakeTests", "scopeKind": "class"}, {"name": "test_force_task_1(self)", "description": "Tests forcibly re-executing a task (do_package_write_rpm) after modifications.", "scope": "BitbakeTests", "scopeKind": "class"}, {"name": "test_force_task_2(self)", "description": "Ensures that specific build tasks are executed with the -C compile option.", "scope": "BitbakeTests", "scopeKind": "class"}, {"name": "test_bitbake_g(self)", "description": "Checks generation of dependency graphs via 'bitbake -g'.", "scope": "BitbakeTests", "scopeKind": "class"}, {"name": "test_image_manifest(self)", "description": "Verifies creation of image manifest symlink after building.", "scope": "BitbakeTests", "scopeKind": "class"}, {"name": "test_invalid_recipe_src_uri(self)", "description": "Tests fetch failure handling when a recipe includes an invalid source URI.", "scope": "BitbakeTests", "scopeKind": "class"}, {"name": "test_rename_downloaded_file(self)", "description": "Checks if downloaded files are properly renamed and marked as done.", "scope": "BitbakeTests", "scopeKind": "class"}, {"name": "test_environment(self)", "description": "Tests if environment variables are passed correctly into bitbake.", "scope": "BitbakeTests", "scopeKind": "class"}, {"name": "test_dry_run(self)", "description": "Verifies the dry-run (-n) mode executes without error.", "scope": "BitbakeTests", "scopeKind": "class"}, {"name": "test_just_parse(self)", "description": "Checks if parsing recipes with -p returns successfully.", "scope": "BitbakeTests", "scopeKind": "class"}, {"name": "test_version(self)", "description": "Verifies retrieval of recipe version information.", "scope": "BitbakeTests", "scopeKind": "class"}, {"name": "test_prefile(self)", "description": "Tests override of environment variables via prefile configuration.", "scope": "BitbakeTests", "scopeKind": "class"}, {"name": "test_postfile(self)", "description": "Tests override of environment variables via postfile configuration.", "scope": "BitbakeTests", "scopeKind": "class"}, {"name": "test_checkuri(self)", "description": "Ensures the checkuri task executes successfully.", "scope": "BitbakeTests", "scopeKind": "class"}, {"name": "test_continue(self)", "description": "Tests the behavior of continue on failure in build tasks.", "scope": "BitbakeTests", "scopeKind": "class"}, {"name": "test_non_gplv3(self)", "description": "Checks license filtering for non-GPLv3 licenses in build outputs.", "scope": "BitbakeTests", "scopeKind": "class"}, {"name": "test_setscene_only(self)", "description": "Verifies the --setscene-only option causes only _setscene tasks to run.", "scope": "BitbakeTests", "scopeKind": "class"}, {"name": "test_skip_setscene(self)", "description": "Tests skipping _setscene tasks with --skip-setscene and related behavior.", "scope": "BitbakeTests", "scopeKind": "class"}, {"name": "test_bbappend_order(self)", "description": "Checks if bbappend files are applied in predictable order.", "scope": "BitbakeTests", "scopeKind": "class"}, {"name": "test_git_patchtool(self)", "description": "Tests patching with PATCHTOOL=git even on non-git sources.", "scope": "BitbakeTests", "scopeKind": "class"}, {"name": "test_git_patchtool2(self)", "description": "Verifies that PATCHTOOL=git does not reinitialize repositories.", "scope": "BitbakeTests", "scopeKind": "class"}, {"name": "test_git_unpack_nonetwork(self)", "description": "Ensures network is not accessed during patch tasks with floating tags.", "scope": "BitbakeTests", "scopeKind": "class"}, {"name": "test_git_unpack_nonetwork_fail(self)", "description": "Checks error when a recipe with floating TAG/SRCREV cannot fetch upstream.", "scope": "BitbakeTests", "scopeKind": "class"}], "calls": ["runCmd", "bitbake", "get_bb_var", "get_bb_vars"], "search-terms": ["BitbakeTests", "oeqa", "build environment", "recipe", "task", "patch", "dependency graph", "license filtering", "setscene", "bbappend"], "state": 2, "file_id": 1935, "knowledge_revision": 15086, "git_revision": "", "ctags": [{"_type": "tag", "name": "BitbakeTests", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bbtests.py", "pattern": "/^class BitbakeTests(OESelftestTestCase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ftools", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bbtests.py", "pattern": "/^import oeqa.utils.ftools as ftools$/", "language": "Python", "kind": "namespace", "nameref": "module:oeqa.utils.ftools"}, {"_type": "tag", "name": "getline", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bbtests.py", "pattern": "/^    def getline(self, res, line):$/", "language": "Python", "kind": "member", "signature": "(self, res, line)", "scope": "BitbakeTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_bbappend_order", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bbtests.py", "pattern": "/^    def test_bbappend_order(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_bitbake_g", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bbtests.py", "pattern": "/^    def test_bitbake_g(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_bitbake_invalid_recipe", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bbtests.py", "pattern": "/^    def test_bitbake_invalid_recipe(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_bitbake_invalid_target", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bbtests.py", "pattern": "/^    def test_bitbake_invalid_target(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_checkuri", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bbtests.py", "pattern": "/^    def test_checkuri(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_continue", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bbtests.py", "pattern": "/^    def test_continue(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_dry_run", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bbtests.py", "pattern": "/^    def test_dry_run(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_environment", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bbtests.py", "pattern": "/^    def test_environment(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_event_handler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bbtests.py", "pattern": "/^    def test_event_handler(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_force_task_1", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bbtests.py", "pattern": "/^    def test_force_task_1(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_force_task_2", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bbtests.py", "pattern": "/^    def test_force_task_2(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_git_patchtool", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bbtests.py", "pattern": "/^    def test_git_patchtool(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_git_patchtool2", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bbtests.py", "pattern": "/^    def test_git_patchtool2(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_git_unpack_nonetwork", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bbtests.py", "pattern": "/^    def test_git_unpack_nonetwork(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_git_unpack_nonetwork_fail", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bbtests.py", "pattern": "/^    def test_git_unpack_nonetwork_fail(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_image_manifest", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bbtests.py", "pattern": "/^    def test_image_manifest(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_invalid_patch", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bbtests.py", "pattern": "/^    def test_invalid_patch(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_invalid_recipe_src_uri", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bbtests.py", "pattern": "/^    def test_invalid_recipe_src_uri(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_just_parse", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bbtests.py", "pattern": "/^    def test_just_parse(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_local_sstate", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bbtests.py", "pattern": "/^    def test_local_sstate(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_non_gplv3", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bbtests.py", "pattern": "/^    def test_non_gplv3(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_postfile", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bbtests.py", "pattern": "/^    def test_postfile(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_prefile", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bbtests.py", "pattern": "/^    def test_prefile(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_rename_downloaded_file", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bbtests.py", "pattern": "/^    def test_rename_downloaded_file(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_run_bitbake_from_dir_1", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bbtests.py", "pattern": "/^    def test_run_bitbake_from_dir_1(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_run_bitbake_from_dir_2", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bbtests.py", "pattern": "/^    def test_run_bitbake_from_dir_2(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_run_bitbake_from_dir_3", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bbtests.py", "pattern": "/^    def test_run_bitbake_from_dir_3(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_setscene_only", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bbtests.py", "pattern": "/^    def test_setscene_only(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_skip_setscene", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bbtests.py", "pattern": "/^    def test_skip_setscene(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_version", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bbtests.py", "pattern": "/^    def test_version(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_warnings_errors", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/bbtests.py", "pattern": "/^    def test_warnings_errors(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "BitbakeTests", "scopeKind": "class"}], "hash": "76a1b00112dba58bbe4aefb5894b8414", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "openembedded-core/meta/lib/oeqa/selftest/cases/bbtests.py", "revision_history": [{"15086": ""}]}