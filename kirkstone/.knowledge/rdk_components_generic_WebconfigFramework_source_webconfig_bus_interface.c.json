{"is_source_file": true, "format": "C", "description": "This file provides a C implementation for interfacing with a web configuration bus using RBUS. It includes initialization, event subscription, publication, and callback handling related to web configuration components and their communication via RBUS and potentially via CCSP support. The code manages the enabling of RBUS, subscribing/unsubscribing to events, discovering components, and handling event callbacks for resetting subdocuments.", "external_files": ["webconfig_bus_interface.h", "webconfig_logging.h"], "external_methods": ["rbus_open", "rbus_checkStatus", "rbus_discoverComponentName", "rbusEvent_Subscribe", "rbusEvent_Publish", "rbus_unregDataElements", "rbus_regDataElements", "rbus_unregDataElements", "rbus_checkStatus", "rbusObject_GetValue", "rbusValue_GetString", "rbusObject_Init", "rbusObject_SetValue", "rbusValue_Init", "rbusValue_SetString", "rbusValue_Release", "rbus_set", "rbus_invokeRemoteMethod"], "published": ["isWebCfgRbusEnabled", "sendDataToEvent", "subscribeToEvent", "UnSubscribeFromEvent", "UnregisterFromEvent", "eventRegisterSlave", "eventRegisterMaster", "sendWebConfigSignal"], "classes": [], "methods": [{"name": "void rbusInit()", "description": "Initializes RBUS handle for web config bus by opening a connection with a component-specific name.", "scope": "", "scopeKind": ""}, {"name": "int isWebCfgRbusEnabled()", "description": "Checks if RBUS is enabled and initializes it if the status indicates it is available.", "scope": "", "scopeKind": ""}, {"name": "void * subscribeSubdocForceReset(void * arg)", "description": "Background thread function that attempts discovery of a component and subscribes to a reset event via RBUS.", "scope": "", "scopeKind": ""}, {"name": "bool webcfg_rbus_discover_component(char const * pParamName)", "description": "Discovers whether a component with a given name is available on the RBUS.", "scope": "", "scopeKind": ""}, {"name": "void subdocForceReset_callbk_rbus(rbusHandle_t handle,rbusEvent_t const * event,rbusEventSubscription_t * subscription)", "description": "Callback for handling the reset event, resets subdocument versions based on event data.", "scope": "", "scopeKind": ""}, {"name": "void multiComp_callbk_rbus(rbusHandle_t handle,rbusEvent_t const * event,rbusEventSubscription_t * subscription)", "description": "Handles received RBUS events by parsing event data and dispatching to specific handlers.", "scope": "", "scopeKind": ""}, {"name": "rbusError_t eventSubHandlerWbFramework(rbusHandle_t handle,rbusEventSubAction_t action,const char * eventName,rbusFilter_t filter,int32_t interval,bool * autoPublish)", "description": "Manages RBUS event subscription and unsubscription notifications.", "scope": "", "scopeKind": ""}, {"name": "void * event_subscribe_bcast(void * arg)", "description": "Thread function to subscribe to broadcast events published by master.", "scope": "", "scopeKind": ""}, {"name": "void eventRegisterSlave()", "description": "Registers slave component to receive data from master, creates thread for broadcast subscription if RBUS is enabled.", "scope": "", "scopeKind": ""}, {"name": "void eventRegisterMaster()", "description": "Registers master component for event notifications, registers data elements with RBUS or CCSP.", "scope": "", "scopeKind": ""}, {"name": "void sendDataToEvent(char * event_name,char * eventData)", "description": "Publishes an event with associated data via RBUS or CCSP depending on RBUS enablement.", "scope": "", "scopeKind": ""}, {"name": "void EventRegister(char * EventName)", "description": "Subscribes to specific RBUS or CCSP events based on the event name.", "scope": "", "scopeKind": ""}, {"name": "void UnSubscribeFromEvent(char * EventName)", "description": "Unsubscribes from an RBUS event.", "scope": "", "scopeKind": ""}, {"name": "void UnregisterFromEvent(char * EventName)", "description": "Unregisters data elements or events from RBUS or CCSP based on the event name.", "scope": "", "scopeKind": ""}, {"name": "int subscribeToEvent(char * EventName)", "description": "Subscribes to a specific RBUS event with a callback to handle the event.", "scope": "", "scopeKind": ""}, {"name": "void sendWebConfigSignal(char * data)", "description": "Sends a web configuration signal either via RBUS or CCSP, depending on RBUS enabled status.", "scope": "", "scopeKind": ""}], "calls": ["rbus_open", "rbus_checkStatus", "rbus_discoverComponentName", "rbusEvent_Subscribe", "rbusEvent_Publish", "rbus_unregDataElements", "rbus_regDataElements", "rbusObject_GetValue", "rbusValue_GetString", "rbusObject_Init", "rbusObject_SetValue", "rbusValue_Init", "rbusValue_SetString", "rbusValue_Release", "rbus_set", "rbus_invokeRemoteMethod", "rbus_unregDataElements", "rbus_regDataElements"], "search-terms": ["RBUS", "webconfig", "subscribeSubdocForceReset", "discoverComponent", "webcfg_rbus_discover_component", "eventSubHandlerWbFramework", "multiComp_callbk_rbus", "sendWebConfigSignal", "eventRegisterMaster", "eventRegisterSlave", "sendDataToEvent", "UnregisterFromEvent"], "state": 2, "file_id": 12662, "knowledge_revision": 25568, "git_revision": "", "ctags": [{"_type": "tag", "name": "EventRegister", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_bus_interface.c", "pattern": "/^void EventRegister(char* EventName)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(char * EventName)"}, {"_type": "tag", "name": "UnSubscribeFromEvent", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_bus_interface.c", "pattern": "/^void UnSubscribeFromEvent(char* EventName)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(char * EventName)"}, {"_type": "tag", "name": "UnregisterFromEvent", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_bus_interface.c", "pattern": "/^void UnregisterFromEvent(char* EventName)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(char * EventName)"}, {"_type": "tag", "name": "bus_handle_rbus", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_bus_interface.c", "pattern": "/^static rbusHandle_t bus_handle_rbus = NULL;$/", "file": true, "language": "C", "typeref": "typename:rbusHandle_t", "kind": "variable"}, {"_type": "tag", "name": "dataElements_broadcast", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_bus_interface.c", "pattern": "/^rbusDataElement_t dataElements_broadcast[1] = {$/", "language": "C", "typeref": "typename:rbusDataElement_t[1]", "kind": "variable"}, {"_type": "tag", "name": "dataElements_master", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_bus_interface.c", "pattern": "/^rbusDataElement_t dataElements_master[1] = {$/", "language": "C", "typeref": "typename:rbusDataElement_t[1]", "kind": "variable"}, {"_type": "tag", "name": "dataElements_slave", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_bus_interface.c", "pattern": "/^rbusDataElement_t dataElements_slave[1] = {$/", "language": "C", "typeref": "typename:rbusDataElement_t[1]", "kind": "variable"}, {"_type": "tag", "name": "eventRegisterMaster", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_bus_interface.c", "pattern": "/^void eventRegisterMaster()$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "eventRegisterSlave", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_bus_interface.c", "pattern": "/^void eventRegisterSlave()$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "eventSubHandlerWbFramework", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_bus_interface.c", "pattern": "/^rbusError_t eventSubHandlerWbFramework(rbusHandle_t handle, rbusEventSubAction_t action, const c/", "language": "C", "typeref": "typename:rbusError_t", "kind": "function", "signature": "(rbusHandle_t handle,rbusEventSubAction_t action,const char * eventName,rbusFilter_t filter,int32_t interval,bool * autoPublish)"}, {"_type": "tag", "name": "event_subscribe_bcast", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_bus_interface.c", "pattern": "/^void*  event_subscribe_bcast(void* arg)$/", "language": "C", "typeref": "typename:void *", "kind": "function", "signature": "(void * arg)"}, {"_type": "tag", "name": "gBroadcastSubscribed", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_bus_interface.c", "pattern": "/^int gBroadcastSubscribed = 0;$/", "language": "C", "typeref": "typename:int", "kind": "variable"}, {"_type": "tag", "name": "gMasterSubscribed", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_bus_interface.c", "pattern": "/^int gMasterSubscribed = 0;$/", "language": "C", "typeref": "typename:int", "kind": "variable"}, {"_type": "tag", "name": "gRbusEnabled", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_bus_interface.c", "pattern": "/^static int gRbusEnabled = 0;$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "variable"}, {"_type": "tag", "name": "gSlaveSubscribed", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_bus_interface.c", "pattern": "/^int gSlaveSubscribed = 0;$/", "language": "C", "typeref": "typename:int", "kind": "variable"}, {"_type": "tag", "name": "isWebCfgRbusEnabled", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_bus_interface.c", "pattern": "/^int isWebCfgRbusEnabled()$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "multiComp_callbk_rbus", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_bus_interface.c", "pattern": "/^void multiComp_callbk_rbus(rbusHandle_t handle, rbusEvent_t const* event, rbusEventSubscription_/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(rbusHandle_t handle,rbusEvent_t const * event,rbusEventSubscription_t * subscription)"}, {"_type": "tag", "name": "rbusInit", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_bus_interface.c", "pattern": "/^void rbusInit()$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "sendDataToEvent", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_bus_interface.c", "pattern": "/^void sendDataToEvent(char* event_name , char* eventData)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(char * event_name,char * eventData)"}, {"_type": "tag", "name": "sendWebConfigSignal", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_bus_interface.c", "pattern": "/^void sendWebConfigSignal(char* data)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(char * data)"}, {"_type": "tag", "name": "subdocForceReset_callbk_rbus", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_bus_interface.c", "pattern": "/^void subdocForceReset_callbk_rbus(rbusHandle_t handle, rbusEvent_t const* event, rbusEventSubscr/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(rbusHandle_t handle,rbusEvent_t const * event,rbusEventSubscription_t * subscription)"}, {"_type": "tag", "name": "subscribeSubdocForceReset", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_bus_interface.c", "pattern": "/^void* subscribeSubdocForceReset(void* arg) {$/", "language": "C", "typeref": "typename:void *", "kind": "function", "signature": "(void * arg)"}, {"_type": "tag", "name": "subscribeToEvent", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_bus_interface.c", "pattern": "/^int subscribeToEvent(char* EventName)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(char * EventName)"}, {"_type": "tag", "name": "webcfg_rbus_discover_component", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_bus_interface.c", "pattern": "/^bool webcfg_rbus_discover_component(char const *pParamName)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(char const * pParamName)"}, {"_type": "tag", "name": "webcfg_rbus_enable", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_bus_interface.c", "pattern": "/^pthread_mutex_t webcfg_rbus_enable = PTHREAD_MUTEX_INITIALIZER;$/", "language": "C", "typeref": "typename:pthread_mutex_t", "kind": "variable"}], "hash": "6f895561489f74b9ad7888fee750e938", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdk/components/generic/WebconfigFramework/source/webconfig_bus_interface.c", "fields": [{"name": "rbusHandle_t bus_handle_rbus", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "rbusDataElement_t[1] dataElements_broadcast", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "rbusDataElement_t[1] dataElements_master", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "rbusDataElement_t[1] dataElements_slave", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int gBroadcastSubscribed", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int gMasterSubscribed", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int gRbusEnabled", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int gSlaveSubscribed", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pthread_mutex_t webcfg_rbus_enable", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"25568": ""}]}