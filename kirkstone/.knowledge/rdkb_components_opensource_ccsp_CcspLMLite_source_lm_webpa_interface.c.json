{"is_source_file": true, "format": "C", "description": "This file implements the webpa_interface component of a larger system, including functions for message passing via WebPA, Parodus initialization, device MAC address retrieval, and Rbus event handling for interface status changes. It contains external dependencies, threading, and conditional compilation for different product configurations.", "external_files": ["ssp_global.h", "ccsp_dm_api.h", "webpa_interface.h", "ccsp_lmliteLog_wrapper.h", "lm_util.h", "<sysevent/sysevent.h>", "<libparodus/libparodus.h>", "webpa_pd.h", "<math.h>", "syscfg/syscfg.h", "ccsp_memory.h", "platform_hal.h", "rbus/rbus.h", "utctx/utctx.h", "utctx/utctx_api.h", "utapi/utapi.h", "utapi/utapi_util.h", "cosa_wantraffic_api.h"], "external_methods": ["libparodus_send", "libparodus_init", "libparodus_shutdown", "get_parodus_url", "s_get_interface_mac", "platform_hal_GetBaseMacAddress", "sysevent_get", "rbus_checkStatus", "rbus_open", "rbus_get", "rbusEvent_SubscribeAsync", "rbusObject_GetValue", "rbusValue_GetString", "AnscMacToLower", "getDeviceMac"], "published": ["sendWebpaMsg", "initparodusTask", "getFullDeviceMac", "getDeviceMac", "checkRbusEnabled", "lmliteRbusInit", "get_ActiveInterface", "eventReceiveHandler", "subscribeTo_InterfaceActiveStatus_Event"], "classes": [], "methods": [{"name": "void sendWebpaMsg(char * serviceName,char * dest,char * trans_id,char * contentType,char * payload,unsigned int payload_len)", "description": "Constructs and sends a WRP message via Parodus with retries and exponential backoff.", "scope": "", "scopeKind": ""}, {"name": "void initparodusTask()", "description": "Creates and starts a thread to handle Parodus initialization and connection.", "scope": "", "scopeKind": ""}, {"name": "void * handle_parodus()", "description": "Thread function that initializes Parodus client with exponential backoff retries.", "scope": "", "scopeKind": ""}, {"name": "const char * rdk_logger_module_fetch(void)", "description": "Returns the logger module string identifier.", "scope": "", "scopeKind": ""}, {"name": "char * getFullDeviceMac()", "description": "Returns the full device MAC address, fetching device MAC if necessary.", "scope": "", "scopeKind": ""}, {"name": "char * getDeviceMac()", "description": "Retrieves the device's MAC address from HAL or syscfg, with platform-specific logic.", "scope": "", "scopeKind": ""}, {"name": "bool checkRbusEnabled()", "description": "Checks if RBUS mode is enabled and updates internal state.", "scope": "", "scopeKind": ""}, {"name": "LMLITE_STATUS lmliteRbusInit(const char * pComponentName)", "description": "Initializes RBUS handle for a given component.", "scope": "", "scopeKind": ""}, {"name": "char * get_ActiveInterface(char * interface)", "description": "Parses a string of interface statuses, extracts active ones, and updates global source string.", "scope": "", "scopeKind": ""}, {"name": "void eventReceiveHandler(rbusHandle_t rbus_handle,rbusEvent_t const * event,rbusEventSubscription_t * subscription)", "description": "Handles RBUS events indicating interface status changes, updates report source accordingly.", "scope": "", "scopeKind": ""}, {"name": "int subscribeTo_InterfaceActiveStatus_Event()", "description": "Subscribes asynchronously to RBUS event for interface active status changes.", "scope": "", "scopeKind": ""}, {"name": "void get_WanManager_ActiveInterface()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void subscribeAsyncHandler(rbusHandle_t rbus_handle,rbusEventSubscription_t * subscription,rbusError_t error)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["libparodus_send", "libparodus_init", "libparodus_shutdown", "get_parodus_url", "sysevent_get", "rbus_checkStatus", "rbus_open", "rbus_get", "rbusEvent_SubscribeAsync", "rbusObject_GetValue", "rbusValue_GetString", "AnscMacToLower", "platform_hal_GetBaseMacAddress"], "search-terms": ["webpa_interface.c", "sendWebpaMsg", "parodus", "deviceMAC", "getDeviceMac", "fullDeviceMAC", "WebPA", "RBUS", "InterfaceActiveStatus", "rbus_handle", "eventReceiveHandler", "subscribeTo_InterfaceActiveStatus_Event"], "state": 2, "file_id": 7196, "knowledge_revision": 20278, "git_revision": "", "ctags": [{"_type": "tag", "name": "ETH_WAN_STATUS_PARAM", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/webpa_interface.c", "pattern": "/^#define ETH_WAN_STATUS_PARAM /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MAX_PARAMETERNAME_LEN", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/webpa_interface.c", "pattern": "/^#define MAX_PARAMETERNAME_LEN /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "RDKB_ETHAGENT_COMPONENT_NAME", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/webpa_interface.c", "pattern": "/^#define RDKB_ETHAGENT_COMPONENT_NAME /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "RDKB_ETHAGENT_DBUS_PATH", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/webpa_interface.c", "pattern": "/^#define RDKB_ETHAGENT_DBUS_PATH /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "_GNU_SOURCE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/webpa_interface.c", "pattern": "/^#define _GNU_SOURCE$/", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "checkRbusEnabled", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/webpa_interface.c", "pattern": "/^bool checkRbusEnabled()$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "client_instance", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/webpa_interface.c", "pattern": "/^static libpd_instance_t client_instance;$/", "file": true, "language": "C", "typeref": "typename:libpd_instance_t", "kind": "variable"}, {"_type": "tag", "name": "deviceMAC", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/webpa_interface.c", "pattern": "/^static char deviceMAC[32]={'\\\\0'}; $/", "file": true, "language": "C", "typeref": "typename:char[32]", "kind": "variable"}, {"_type": "tag", "name": "eventReceiveHandler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/webpa_interface.c", "pattern": "/^static void eventReceiveHandler($/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(rbusHandle_t rbus_handle,rbusEvent_t const * event,rbusEventSubscription_t * subscription)"}, {"_type": "tag", "name": "fullDeviceMAC", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/webpa_interface.c", "pattern": "/^static char fullDeviceMAC[32]={'\\\\0'};$/", "file": true, "language": "C", "typeref": "typename:char[32]", "kind": "variable"}, {"_type": "tag", "name": "getDeviceMac", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/webpa_interface.c", "pattern": "/^char * getDeviceMac()$/", "language": "C", "typeref": "typename:char *", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getFullDeviceMac", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/webpa_interface.c", "pattern": "/^char * getFullDeviceMac()$/", "language": "C", "typeref": "typename:char *", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "get_ActiveInterface", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/webpa_interface.c", "pattern": "/^char* get_ActiveInterface(char *interface) {$/", "language": "C", "typeref": "typename:char *", "kind": "function", "signature": "(char * interface)"}, {"_type": "tag", "name": "get_WanManager_ActiveInterface", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/webpa_interface.c", "pattern": "/^void get_WanManager_ActiveInterface()$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "handle_parodus", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/webpa_interface.c", "pattern": "/^static void *handle_parodus()$/", "file": true, "language": "C", "typeref": "typename:void *", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "initparodusTask", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/webpa_interface.c", "pattern": "/^void initparodusTask()$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "isRbus", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/webpa_interface.c", "pattern": "/^static bool isRbus = false ;$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "variable"}, {"_type": "tag", "name": "lmliteRbusInit", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/webpa_interface.c", "pattern": "/^LMLITE_STATUS lmliteRbusInit(const char *pComponentName)$/", "language": "C", "typeref": "typename:LMLITE_STATUS", "kind": "function", "signature": "(const char * pComponentName)"}, {"_type": "tag", "name": "newSource", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/webpa_interface.c", "pattern": "/^char newSource[512] = { '\\\\0' };$/", "language": "C", "typeref": "typename:char[512]", "kind": "variable"}, {"_type": "tag", "name": "rbus_handle", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/webpa_interface.c", "pattern": "/^rbusHandle_t rbus_handle;$/", "language": "C", "typeref": "typename:rbusHandle_t", "kind": "variable"}, {"_type": "tag", "name": "rbus_handle", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/webpa_interface.c", "pattern": "/^static rbusHandle_t rbus_handle;$/", "file": true, "language": "C", "typeref": "typename:rbusHandle_t", "kind": "variable"}, {"_type": "tag", "name": "rdk_logger_module_fetch", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/webpa_interface.c", "pattern": "/^const char *rdk_logger_module_fetch(void)$/", "language": "C", "typeref": "typename:const char *", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "sendWebpaMsg", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/webpa_interface.c", "pattern": "/^void sendWebpaMsg(char *serviceName, char *dest, char *trans_id, char *contentType, char *payloa/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(char * serviceName,char * dest,char * trans_id,char * contentType,char * payload,unsigned int payload_len)"}, {"_type": "tag", "name": "subscribeAsyncHandler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/webpa_interface.c", "pattern": "/^static void subscribeAsyncHandler($/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(rbusHandle_t rbus_handle,rbusEventSubscription_t * subscription,rbusError_t error)"}, {"_type": "tag", "name": "subscribeTo_InterfaceActiveStatus_Event", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/webpa_interface.c", "pattern": "/^int subscribeTo_InterfaceActiveStatus_Event()$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "webpa_mutex", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspLMLite/source/lm/webpa_interface.c", "pattern": "/^static pthread_mutex_t webpa_mutex = PTHREAD_MUTEX_INITIALIZER;$/", "file": true, "language": "C", "typeref": "typename:pthread_mutex_t", "kind": "variable"}], "hash": "1ba8284dcacd2b453aa5a2751fe59e3f", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/CcspLMLite/source/lm/webpa_interface.c", "fields": [{"name": "libpd_instance_t client_instance", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char[32] deviceMAC", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char[32] fullDeviceMAC", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool isRbus", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char[512] newSource", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "rbusHandle_t rbus_handle", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pthread_mutex_t webpa_mutex", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"20278": ""}]}