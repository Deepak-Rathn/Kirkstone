{"is_source_file": true, "format": "C", "description": "This file is a C source file implementing utility functions for Mesh Agent operations, including syscfg access, sysevent interaction, service management, network interface handling, DHCP client control, and LED management.", "external_files": ["syscfg/syscfg.h", "sysevent/sysevent.h", "ccsp_trace.h", "cosa_apis_util.h", "meshagent.h", "ansc_wrapper_base.h", "secure_wrapper.h"], "external_methods": ["sysevent_get", "sysevent_set", "syscfg_get", "syscfg_set_u_commit", "syscfg_set_commit", "v_secure_popen", "v_secure_pclose", "v_secure_system", "strcpy_s", "wif_exit", "WIFEXITED", "WEXITSTATUS", "kill", "socket", "ioctl", "close", "popen", "fscanf", "fork", "waitpid", "usleep", "snprintf", "kill", "WIFEXITED", "WEXITSTATUS", "strerror"], "published": ["Mesh_SyseventGetStr", "Mesh_SyseventSetStr", "Mesh_SysCfgGetInt", "Mesh_SysCfgSetInt", "Mesh_SysCfgGetStr", "Mesh_SysCfgSetStr", "svcagt_get_service_state", "svcagt_set_service_state", "svcagt_set_service_restart", "ping_ip", "nif_ioctl", "nif_ifreq", "nif_exists", "nif_ipaddr_get", "nif_netmask_get", "get_ipaddr_subnet", "udhcpc_pid", "udhcpc_start", "udhcpc_stop", "handle_uplink_bridge", "is_eth_connected", "handle_led_status", "led_state"], "classes": [], "methods": [{"name": "int Mesh_SyseventGetStr(const char * name,unsigned char * out_value,int outbufsz)", "description": "Retrieves a string value from the sysevent subsystem for a given name.", "scope": "", "scopeKind": ""}, {"name": "int Mesh_SyseventSetStr(const char * name,unsigned char * value,int bufsz,bool toArm)", "description": "Sets a string value in the sysevent subsystem for a given name; optionally sends to ARM.", "scope": "", "scopeKind": ""}, {"name": "int Mesh_SysCfgGetInt(const char * name)", "description": "Fetches an integer value from syscfg for a given key.", "scope": "", "scopeKind": ""}, {"name": "int Mesh_SysCfgSetInt(const char * name,int int_value)", "description": "Sets an integer value in syscfg for a given key.", "scope": "", "scopeKind": ""}, {"name": "int Mesh_SysCfgGetStr(const char * name,unsigned char * out_value,int outbufsz)", "description": "Retrieves a string value from syscfg.", "scope": "", "scopeKind": ""}, {"name": "int Mesh_SysCfgSetStr(const char * name,unsigned char * str_value,bool toArm)", "description": "Sets a string value in syscfg; optionally sends to ARM.", "scope": "", "scopeKind": ""}, {"name": "int svcagt_get_service_state(const char * svc_name)", "description": "Checks whether a service is active or not using systemctl.", "scope": "", "scopeKind": ""}, {"name": "int svcagt_set_service_state(const char * svc_name,bool state)", "description": "Starts or stops a service via systemctl.", "scope": "", "scopeKind": ""}, {"name": "int svcagt_set_service_restart(const char * svc_name)", "description": "Restarts a service via systemctl restart.", "scope": "", "scopeKind": ""}, {"name": "bool ping_ip(char * ip)", "description": "Pings an IP address to check reachability.", "scope": "", "scopeKind": ""}, {"name": "int nif_ioctl(int cmd,void * buf)", "description": "Performs an ioctl on a socket to manipulate network interface parameters.", "scope": "", "scopeKind": ""}, {"name": "int nif_ifreq(int cmd,char * ifname,struct ifreq * req)", "description": "Prepares an ifreq structure for a network interface, with retries.", "scope": "", "scopeKind": ""}, {"name": "bool nif_exists(char * ifname,bool * exists)", "description": "Checks if a network interface exists.", "scope": "", "scopeKind": ""}, {"name": "bool nif_ipaddr_get(char * ifname,os_ipaddr_t * addr)", "description": "Retrieves the IP address of a network interface.", "scope": "", "scopeKind": ""}, {"name": "bool nif_netmask_get(char * ifname,os_ipaddr_t * addr)", "description": "Retrieves the netmask of a network interface.", "scope": "", "scopeKind": ""}, {"name": "bool get_ipaddr_subnet(char * ifname,char * local_ip,char * remote_ip)", "description": "Computes subnet information based on IP and netmask.", "scope": "", "scopeKind": ""}, {"name": "int udhcpc_pid(char * ifname)", "description": "Gets the DHCP client's process ID for a given interface.", "scope": "", "scopeKind": ""}, {"name": "bool udhcpc_start(char * ifname)", "description": "Starts the DHCP client on a specified interface.", "scope": "", "scopeKind": ""}, {"name": "bool udhcpc_stop(char * ifname)", "description": "Stops the DHCP client on a specified interface.", "scope": "", "scopeKind": ""}, {"name": "int handle_uplink_bridge(char * ifname,char * bridge_ip,char * pod_addr,bool create)", "description": "Configures or deletes an uplink bridge and GRE tap interface.", "scope": "", "scopeKind": ""}, {"name": "bool is_eth_connected()", "description": "Returns connection status via Ethernet.", "scope": "", "scopeKind": ""}, {"name": "void handle_led_status(eMeshSyncStatus status,int devicemode)", "description": "Controls LED status based on mesh connection states.", "scope": "", "scopeKind": ""}, {"name": "void led_state(eLedColor color,eLedAnimation animation)", "description": "Sets the LED animation and color.", "scope": "", "scopeKind": ""}], "calls": ["sysevent_get", "sysevent_set", "syscfg_get", "syscfg_set_u_commit", "syscfg_set_commit", "v_secure_popen", "v_secure_pclose", "v_secure_system", "strcpy_s", "kill", "socket", "ioctl", "close", "popen", "fscanf", "fork", "waitpid", "usleep", "snprintf", "kill", "WIFEXITED", "WEXITSTATUS", "strerror", "MeshDebug", "MeshInfo", "MeshWarning", "MeshError"], "search-terms": ["MeshAgent", "sysevent", "syscfg", "service", "interface", "LED", "bridge", "GRETAP", "udhcpc", "Uplink", "MeshSync", "extender"], "state": 2, "file_id": 9917, "knowledge_revision": 22920, "git_revision": "", "ctags": [{"_type": "tag", "name": "CONTROLLER_CONNECTED", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/MeshAgent/source/MeshAgentSsp/cosa_apis_util.c", "pattern": "/^#define CONTROLLER_CONNECTED /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "CONTROLLER_CONNECTING", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/MeshAgent/source/MeshAgentSsp/cosa_apis_util.c", "pattern": "/^#define CONTROLLER_CONNECTING /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "CONTROLLER_CONNECT_FAILURE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/MeshAgent/source/MeshAgentSsp/cosa_apis_util.c", "pattern": "/^#define CONTROLLER_CONNECT_FAILURE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "DATA_SIZE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/MeshAgent/source/MeshAgentSsp/cosa_apis_util.c", "pattern": "/^        #define DATA_SIZE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MAX_BUFF", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/MeshAgent/source/MeshAgentSsp/cosa_apis_util.c", "pattern": "/^#define MAX_BUFF /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MAX_TIME_IN_SEC", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/MeshAgent/source/MeshAgentSsp/cosa_apis_util.c", "pattern": "/^#define MAX_TIME_IN_SEC /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MIN_BUFF", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/MeshAgent/source/MeshAgentSsp/cosa_apis_util.c", "pattern": "/^#define MIN_BUFF /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "Mesh_SysCfgGetInt", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/MeshAgent/source/MeshAgentSsp/cosa_apis_util.c", "pattern": "/^int Mesh_SysCfgGetInt(const char *name)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const char * name)"}, {"_type": "tag", "name": "Mesh_SysCfgGetStr", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/MeshAgent/source/MeshAgentSsp/cosa_apis_util.c", "pattern": "/^int Mesh_SysCfgGetStr(const char *name, unsigned char *out_value, int outbufsz)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const char * name,unsigned char * out_value,int outbufsz)"}, {"_type": "tag", "name": "Mesh_SysCfgSetInt", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/MeshAgent/source/MeshAgentSsp/cosa_apis_util.c", "pattern": "/^int Mesh_SysCfgSetInt(const char *name, int int_value)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const char * name,int int_value)"}, {"_type": "tag", "name": "Mesh_SysCfgSetStr", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/MeshAgent/source/MeshAgentSsp/cosa_apis_util.c", "pattern": "/^int Mesh_SysCfgSetStr(const char *name, unsigned char *str_value, bool toArm)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const char * name,unsigned char * str_value,bool toArm)"}, {"_type": "tag", "name": "Mesh_SyseventGetStr", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/MeshAgent/source/MeshAgentSsp/cosa_apis_util.c", "pattern": "/^int Mesh_SyseventGetStr(const char *name, unsigned char *out_value, int outbufsz)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const char * name,unsigned char * out_value,int outbufsz)"}, {"_type": "tag", "name": "Mesh_SyseventSetStr", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/MeshAgent/source/MeshAgentSsp/cosa_apis_util.c", "pattern": "/^int Mesh_SyseventSetStr(const char *name, unsigned char *value, int bufsz, bool toArm)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const char * name,unsigned char * value,int bufsz,bool toArm)"}, {"_type": "tag", "name": "STA_DISCONNECTED", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/MeshAgent/source/MeshAgentSsp/cosa_apis_util.c", "pattern": "/^#define STA_DISCONNECTED /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "UNIT_ACTIVATED_SYSCFG", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/MeshAgent/source/MeshAgentSsp/cosa_apis_util.c", "pattern": "/^#define UNIT_ACTIVATED_SYSCFG /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "_RDKB_MESH_UTILS_C_", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/MeshAgent/source/MeshAgentSsp/cosa_apis_util.c", "pattern": "/^#define _RDKB_MESH_UTILS_C_$/", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "get_ipaddr_subnet", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/MeshAgent/source/MeshAgentSsp/cosa_apis_util.c", "pattern": "/^bool get_ipaddr_subnet(char * ifname, char *local_ip, char * remote_ip)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(char * ifname,char * local_ip,char * remote_ip)"}, {"_type": "tag", "name": "handle_led_status", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/MeshAgent/source/MeshAgentSsp/cosa_apis_util.c", "pattern": "/^void  handle_led_status(eMeshSyncStatus status, int devicemode)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(eMeshSyncStatus status,int devicemode)"}, {"_type": "tag", "name": "handle_uplink_bridge", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/MeshAgent/source/MeshAgentSsp/cosa_apis_util.c", "pattern": "/^int handle_uplink_bridge(char *ifname, char * bridge_ip, char *pod_addr, bool create)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(char * ifname,char * bridge_ip,char * pod_addr,bool create)"}, {"_type": "tag", "name": "is_connected_via_eth", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/MeshAgent/source/MeshAgentSsp/cosa_apis_util.c", "pattern": "/^static bool is_connected_via_eth = false;$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "variable"}, {"_type": "tag", "name": "is_eth_connected", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/MeshAgent/source/MeshAgentSsp/cosa_apis_util.c", "pattern": "/^bool is_eth_connected()$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "led_state", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/MeshAgent/source/MeshAgentSsp/cosa_apis_util.c", "pattern": "/^void  led_state(eLedColor color,eLedAnimation animation)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(eLedColor color,eLedAnimation animation)"}, {"_type": "tag", "name": "meshLedAnimationArr", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/MeshAgent/source/MeshAgentSsp/cosa_apis_util.c", "pattern": "/^LedAnimation_Msg  meshLedAnimationArr[] = {$/", "language": "C", "typeref": "typename:LedAnimation_Msg[]", "kind": "variable"}, {"_type": "tag", "name": "meshLedColorArr", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/MeshAgent/source/MeshAgentSsp/cosa_apis_util.c", "pattern": "/^LedColor_Msg  meshLedColorArr[] = {$/", "language": "C", "typeref": "typename:LedColor_Msg[]", "kind": "variable"}, {"_type": "tag", "name": "nif_exists", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/MeshAgent/source/MeshAgentSsp/cosa_apis_util.c", "pattern": "/^bool nif_exists(char *ifname, bool *exists)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(char * ifname,bool * exists)"}, {"_type": "tag", "name": "nif_ifreq", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/MeshAgent/source/MeshAgentSsp/cosa_apis_util.c", "pattern": "/^int nif_ifreq(int cmd, char *ifname, struct ifreq *req)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(int cmd,char * ifname,struct ifreq * req)"}, {"_type": "tag", "name": "nif_ioctl", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/MeshAgent/source/MeshAgentSsp/cosa_apis_util.c", "pattern": "/^int nif_ioctl(int cmd, void *buf)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(int cmd,void * buf)"}, {"_type": "tag", "name": "nif_ipaddr_get", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/MeshAgent/source/MeshAgentSsp/cosa_apis_util.c", "pattern": "/^bool nif_ipaddr_get(char* ifname, os_ipaddr_t* addr)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(char * ifname,os_ipaddr_t * addr)"}, {"_type": "tag", "name": "nif_netmask_get", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/MeshAgent/source/MeshAgentSsp/cosa_apis_util.c", "pattern": "/^bool nif_netmask_get(char* ifname, os_ipaddr_t* addr)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(char * ifname,os_ipaddr_t * addr)"}, {"_type": "tag", "name": "ping_ip", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/MeshAgent/source/MeshAgentSsp/cosa_apis_util.c", "pattern": "/^bool ping_ip (char *ip)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(char * ip)"}, {"_type": "tag", "name": "svcagt_get_service_state", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/MeshAgent/source/MeshAgentSsp/cosa_apis_util.c", "pattern": "/^int svcagt_get_service_state (const char *svc_name)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const char * svc_name)"}, {"_type": "tag", "name": "svcagt_set_service_restart", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/MeshAgent/source/MeshAgentSsp/cosa_apis_util.c", "pattern": "/^int svcagt_set_service_restart (const char *svc_name)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const char * svc_name)"}, {"_type": "tag", "name": "svcagt_set_service_state", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/MeshAgent/source/MeshAgentSsp/cosa_apis_util.c", "pattern": "/^int svcagt_set_service_state (const char *svc_name, bool state)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const char * svc_name,bool state)"}, {"_type": "tag", "name": "udhcpc_pid", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/MeshAgent/source/MeshAgentSsp/cosa_apis_util.c", "pattern": "/^int udhcpc_pid(char *ifname)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(char * ifname)"}, {"_type": "tag", "name": "udhcpc_start", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/MeshAgent/source/MeshAgentSsp/cosa_apis_util.c", "pattern": "/^bool udhcpc_start(char* ifname)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(char * ifname)"}, {"_type": "tag", "name": "udhcpc_stop", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/MeshAgent/source/MeshAgentSsp/cosa_apis_util.c", "pattern": "/^bool udhcpc_stop(char* ifname)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(char * ifname)"}], "hash": "daf9a600abb4d96f0aa574bf33416acd", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/MeshAgent/source/MeshAgentSsp/cosa_apis_util.c", "fields": [{"name": "bool is_connected_via_eth", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "LedAnimation_Msg[] meshLedAnimationArr", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "LedColor_Msg[] meshLedColorArr", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"22920": ""}]}