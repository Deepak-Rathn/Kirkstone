{"is_source_file": true, "format": "C", "description": "This file implements the WAN interface management logic, including state machine handling, interface selection based on policies, and interface status transitions in a C language codebase. It manages WAN interface states such as selecting, activating, and tearing down interfaces with associated logic for timing and policy enforcement.", "external_files": ["wanmgr_controller.h", "wanmgr_data.h", "wanmgr_rdkbus_utils.h", "wanmgr_interface_sm.h", "wanmgr_platform_events.h"], "external_methods": ["WanMgr_IfaceData_GetTotalWanIface", "WanMgr_GetIfaceData_locked", "WanMgrDml_GetIfaceData_release", "WanMgr_IfaceSM_Controller_t", "WanMgr_IfaceSM_Init", "WanMgr_StartInterfaceStateMachine", "WanMgr_Controller_PolicyCtrlInit", "WanMgr_GetConfigData_locked", "WanMgrDml_GetConfigData_release"], "published": ["WanMgr_Policy_PrimaryPriorityOnBootupPolicy"], "classes": [], "methods": [{"name": "UINT SelectionTimer()", "description": "Updates the status of WAN interfaces based on their selection timeout and physical status.", "scope": "", "scopeKind": ""}, {"name": "void WanMgr_Policy_FM_SelectWANActive(WanMgr_Policy_Controller_t * pWanController,INT * pPrimaryInterface)", "description": "Selects an active WAN interface based on policy priorities and interface status and sets the primary interface index.", "scope": "", "scopeKind": ""}, {"name": "int WanMgr_StartIfaceStateMachine(WanMgr_Policy_Controller_t * pWanController)", "description": "Starts the interface state machine for the specified active interface, updating interface selection status.", "scope": "", "scopeKind": ""}, {"name": "void WanMgr_ResetIfaceTable(WanMgr_Policy_Controller_t * pWanController)", "description": "Resets interfaces in the table that are invalid by disabling them.", "scope": "", "scopeKind": ""}, {"name": "WcPpobPolicyState_t Transition_Start(WanMgr_Policy_Controller_t * pWanController)", "description": "Transition function initializing the start state of the WAN policy state machine.", "scope": "", "scopeKind": ""}, {"name": "WcPpobPolicyState_t Transition_WanInterfaceSelected(WanMgr_Policy_Controller_t * pWanController)", "description": "Transition invoked once a WAN interface has been selected successfully.", "scope": "", "scopeKind": ""}, {"name": "WcPpobPolicyState_t Transition_SelectedInterfaceUp(WanMgr_Policy_Controller_t * pWanController)", "description": "Transition invoked when the selected interface is operational and active.", "scope": "", "scopeKind": ""}, {"name": "WcPpobPolicyState_t Transition_SelectedInterfaceDown(WanMgr_Policy_Controller_t * pWanController)", "description": "Transition invoked when the active interface goes down or becomes inactive.", "scope": "", "scopeKind": ""}, {"name": "WcPpobPolicyState_t State_SelectingWanInterface(WanMgr_Policy_Controller_t * pWanController)", "description": "State handling WAN interface selection based on current policy and status.", "scope": "", "scopeKind": ""}, {"name": "WcPpobPolicyState_t State_SelectedInterfaceUp(WanMgr_Policy_Controller_t * pWanController)", "description": "State handling active WAN interface signaling that the interface remains up and operational.", "scope": "", "scopeKind": ""}, {"name": "WcPpobPolicyState_t State_SelectedInterfaceDown(WanMgr_Policy_Controller_t * pWanController)", "description": "State handling the condition when the current WAN interface is down, triggering re-selection.", "scope": "", "scopeKind": ""}, {"name": "WcPpobPolicyState_t State_WaitingForInterfaceSMExit(WanMgr_Policy_Controller_t * pWanController)", "description": "State awaiting for interface state machine to exit before resetting the interface table.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS WanMgr_Policy_PrimaryPriorityOnBootupPolicy(void)", "description": "Main function executing the WAN policy primary priority enforcement in a dedicated thread, running a state machine.", "scope": "", "scopeKind": ""}], "calls": ["WanMgr_IfaceData_GetTotalWanIface", "WanMgr_GetIfaceData_locked", "WanMgrDml_GetIfaceData_release", "WanMgr_StartInterfaceStateMachine", "WanMgr_Controller_PolicyCtrlInit", "WanMgr_GetConfigData_locked", "WanMgrDml_GetConfigData_release"], "search-terms": ["WAN interface state machine", "wanmgr_policy_ppob_impl", "interface selection priority", "WAN interface statuses", "WAN primary policy", "WAN interface transition functions", "wan interface timeout", "WAN interface list", "WAN interface data", "wanmgr_thread_policy"], "state": 2, "file_id": 9438, "knowledge_revision": 22448, "git_revision": "", "ctags": [{"_type": "tag", "name": "LOOP_TIMEOUT", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_policy_ppob_impl.c", "pattern": "/^#define LOOP_TIMEOUT /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "PPoB_SelectionTimer", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_policy_ppob_impl.c", "pattern": "/^struct timespec PPoB_SelectionTimer;$/", "language": "C", "typeref": "struct:timespec", "kind": "variable"}, {"_type": "tag", "name": "SELECTED_INTERFACE_DOWN", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_policy_ppob_impl.c", "pattern": "/^    SELECTED_INTERFACE_DOWN,$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon4492dd590103", "scopeKind": "enum"}, {"_type": "tag", "name": "SELECTED_INTERFACE_UP", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_policy_ppob_impl.c", "pattern": "/^    SELECTED_INTERFACE_UP,$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon4492dd590103", "scopeKind": "enum"}, {"_type": "tag", "name": "SELECTING_WAN_INTERFACE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_policy_ppob_impl.c", "pattern": "/^    SELECTING_WAN_INTERFACE = 0,$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon4492dd590103", "scopeKind": "enum"}, {"_type": "tag", "name": "STATE_SM_EXIT", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_policy_ppob_impl.c", "pattern": "/^    STATE_SM_EXIT$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon4492dd590103", "scopeKind": "enum"}, {"_type": "tag", "name": "STATE_TEARING_DOWN", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_policy_ppob_impl.c", "pattern": "/^    STATE_TEARING_DOWN,$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon4492dd590103", "scopeKind": "enum"}, {"_type": "tag", "name": "SelectionTimer", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_policy_ppob_impl.c", "pattern": "/^static UINT SelectionTimer()$/", "file": true, "language": "C", "typeref": "typename:UINT", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "State_SelectedInterfaceDown", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_policy_ppob_impl.c", "pattern": "/^static WcPpobPolicyState_t State_SelectedInterfaceDown(WanMgr_Policy_Controller_t* pWanControlle/", "file": true, "language": "C", "typeref": "typename:WcPpobPolicyState_t", "kind": "function", "signature": "(WanMgr_Policy_Controller_t * pWanController)"}, {"_type": "tag", "name": "State_SelectedInterfaceUp", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_policy_ppob_impl.c", "pattern": "/^static WcPpobPolicyState_t State_SelectedInterfaceUp(WanMgr_Policy_Controller_t* pWanController)$/", "file": true, "language": "C", "typeref": "typename:WcPpobPolicyState_t", "kind": "function", "signature": "(WanMgr_Policy_Controller_t * pWanController)"}, {"_type": "tag", "name": "State_SelectingWanInterface", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_policy_ppob_impl.c", "pattern": "/^static WcPpobPolicyState_t State_SelectingWanInterface(WanMgr_Policy_Controller_t* pWanControlle/", "file": true, "language": "C", "typeref": "typename:WcPpobPolicyState_t", "kind": "function", "signature": "(WanMgr_Policy_Controller_t * pWanController)"}, {"_type": "tag", "name": "State_WaitingForInterfaceSMExit", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_policy_ppob_impl.c", "pattern": "/^static WcPpobPolicyState_t State_WaitingForInterfaceSMExit(WanMgr_Policy_Controller_t* pWanContr/", "file": true, "language": "C", "typeref": "typename:WcPpobPolicyState_t", "kind": "function", "signature": "(WanMgr_Policy_Controller_t * pWanController)"}, {"_type": "tag", "name": "Transition_SelectedInterfaceDown", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_policy_ppob_impl.c", "pattern": "/^static WcPpobPolicyState_t Transition_SelectedInterfaceDown(WanMgr_Policy_Controller_t* pWanCont/", "file": true, "language": "C", "typeref": "typename:WcPpobPolicyState_t", "kind": "function", "signature": "(WanMgr_Policy_Controller_t * pWanController)"}, {"_type": "tag", "name": "Transition_SelectedInterfaceUp", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_policy_ppob_impl.c", "pattern": "/^static WcPpobPolicyState_t Transition_SelectedInterfaceUp(WanMgr_Policy_Controller_t* pWanContro/", "file": true, "language": "C", "typeref": "typename:WcPpobPolicyState_t", "kind": "function", "signature": "(WanMgr_Policy_Controller_t * pWanController)"}, {"_type": "tag", "name": "Transition_Start", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_policy_ppob_impl.c", "pattern": "/^static WcPpobPolicyState_t Transition_Start(WanMgr_Policy_Controller_t* pWanController)$/", "file": true, "language": "C", "typeref": "typename:WcPpobPolicyState_t", "kind": "function", "signature": "(WanMgr_Policy_Controller_t * pWanController)"}, {"_type": "tag", "name": "Transition_WanInterfaceSelected", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_policy_ppob_impl.c", "pattern": "/^static WcPpobPolicyState_t Transition_WanInterfaceSelected(WanMgr_Policy_Controller_t* pWanContr/", "file": true, "language": "C", "typeref": "typename:WcPpobPolicyState_t", "kind": "function", "signature": "(WanMgr_Policy_Controller_t * pWanController)"}, {"_type": "tag", "name": "WanMgr_Policy_FM_SelectWANActive", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_policy_ppob_impl.c", "pattern": "/^static void WanMgr_Policy_FM_SelectWANActive(WanMgr_Policy_Controller_t* pWanController, INT* pP/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(WanMgr_Policy_Controller_t * pWanController,INT * pPrimaryInterface)"}, {"_type": "tag", "name": "WanMgr_Policy_PrimaryPriorityOnBootupPolicy", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_policy_ppob_impl.c", "pattern": "/^ANSC_STATUS WanMgr_Policy_PrimaryPriorityOnBootupPolicy(void)$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "WanMgr_ResetIfaceTable", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_policy_ppob_impl.c", "pattern": "/^static void WanMgr_ResetIfaceTable (WanMgr_Policy_Controller_t* pWanController)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(WanMgr_Policy_Controller_t * pWanController)"}, {"_type": "tag", "name": "WanMgr_StartIfaceStateMachine", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_policy_ppob_impl.c", "pattern": "/^static int WanMgr_StartIfaceStateMachine (WanMgr_Policy_Controller_t * pWanController)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(WanMgr_Policy_Controller_t * pWanController)"}, {"_type": "tag", "name": "WcPpobPolicyState_t", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_policy_ppob_impl.c", "pattern": "/^} WcPpobPolicyState_t;$/", "file": true, "language": "C", "typeref": "enum:__anon4492dd590103", "kind": "typedef"}, {"_type": "tag", "name": "__anon4492dd590103", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_policy_ppob_impl.c", "pattern": "/^typedef enum {$/", "file": true, "language": "C", "kind": "enum"}], "hash": "6737c8ceb6001bb039cafeb4124f4097", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/RdkWanManager/source/WanManager/wanmgr_policy_ppob_impl.c", "fields": [{"name": "struct:timespec PPoB_SelectionTimer", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"22448": ""}]}