{"is_source_file": true, "format": "C", "description": "This file implements backend APIs and initialization routines for a Cisco MTA (Media Terminal Adapter) Linux module. It contains functions for creating, initializing, and removing the MTA data model, as well as functions for handling DHCP options, provisioning, and sysevent-based configuration updates. The code also handles starting provisioning with hal, and sets up sysevent notifications for WAN state changes.", "external_files": ["plugin_main_apis.h", "safec_lib_common.h", "cosa_x_cisco_com_mta_apis.h", "cosa_x_cisco_com_mta_dml.h", "cosa_x_cisco_com_mta_internal.h", "mta_hal.h", "syscfg/syscfg.h", "sysevent/sysevent.h"], "external_methods": ["sysevent_open", "sysevent_get", "sysevent_set_options", "sysevent_setnotification", "sysevent_getnotification", "mta_hal_start_provisioning", "syscfg_get", "syscfg_set"], "published": ["CosaMTACreate", "CosaMTAInitialize", "CosaMTARemove", "CosaMTAInitializeEthWanProv", "CosaSetMTAHal", "CosaMTALineTableInitialize"], "classes": [{"name": "COSA_DATAMODEL_MTA", "description": "Main data model structure for the MTA object containing initialization and removal functions, and linked data."}, {"name": "COSA_MTA_LINETABLE_INFO", "description": "Structure representing individual line entries in the MTA's line table."}], "methods": [{"name": "ANSC_HANDLE CosaMTACreate(void)", "description": "Creates and initializes a new instance of the MTA data model object.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaMTAInitialize(ANSC_HANDLE hThisObject)", "description": "Performs setup and initialization of the MTA object, including starting sysevent threads for WAN state monitoring.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaMTARemove(ANSC_HANDLE hThisObject)", "description": "Cleans up and deallocates the MTA object.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaMTAInitializeEthWanProv(ANSC_HANDLE hThisObject)", "description": "Initializes ETH WAN provisioning data, retrieves DHCP options, configures provisioning parameters, and starts HAL provisioning.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaSetMTAHal(PCOSA_MTA_ETHWAN_PROV_INFO pmtaethpro)", "description": "Sets MTA provisioning parameters into the HAL, based on provided ETH WAN info structure.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS CosaMTALineTableInitialize(ANSC_HANDLE hThisObject)", "description": "Initializes the line table for the MTA, populating it with current entries from DML.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS ConverStr2Hex(unsigned char buffer[])", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ANSC_STATUS CosaMTAInitializeEthWanProvDhcpOption(ANSC_HANDLE hThisObject)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void * Mta_Sysevent_thread(void * hThisObject)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void * Mta_Sysevent_thread_Dhcp_Option(void * hThisObject)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void WaitForDhcpOption()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int checkIfDefMtaDhcpOptionEnabled()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int getMaxCount()", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["AnscAllocateMemory", "CosaDmlMTAInit", "CosaDmlMTASetStartUpIpMode", "CosaDmlMTASetPrimaryDhcpServerOptions", "CosaDmlMTASetSecondaryDhcpServerOptions", "CosaDmlMTASetPrimaryDhcpServerOptions", "CosaDmlMTASetSecondaryDhcpServerOptions", "mta_hal_start_provisioning", "syscfg_get", "syscfg_set", "sysevent_open", "sysevent_get", "sysevent_set_options", "sysevent_setnotification", "sysevent_getnotification"], "search-terms": ["CosaMTACreate", "CosaMTAInitializeEthWanProv", "sysevent", "MTA_IP_MODE", "DHCP options", "provisioning", "ethWan", "WAN state", "Cisco MTA"], "state": 2, "file_id": 9895, "knowledge_revision": 22897, "git_revision": "", "ctags": [{"_type": "tag", "name": "ConverStr2Hex", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMtaAgent/source/TR-181/middle_layer_src/cosa_x_cisco_com_mta_internal.c", "pattern": "/^ANSC_STATUS ConverStr2Hex(unsigned char buffer[])$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(unsigned char buffer[])"}, {"_type": "tag", "name": "CosaMTACreate", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMtaAgent/source/TR-181/middle_layer_src/cosa_x_cisco_com_mta_internal.c", "pattern": "/^CosaMTACreate$/", "language": "C", "typeref": "typename:ANSC_HANDLE", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "CosaMTAInitialize", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMtaAgent/source/TR-181/middle_layer_src/cosa_x_cisco_com_mta_internal.c", "pattern": "/^CosaMTAInitialize$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hThisObject)"}, {"_type": "tag", "name": "CosaMTAInitializeEthWanProv", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMtaAgent/source/TR-181/middle_layer_src/cosa_x_cisco_com_mta_internal.c", "pattern": "/^CosaMTAInitializeEthWanProv$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hThisObject)"}, {"_type": "tag", "name": "CosaMTAInitializeEthWanProvDhcpOption", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMtaAgent/source/TR-181/middle_layer_src/cosa_x_cisco_com_mta_internal.c", "pattern": "/^CosaMTAInitializeEthWanProvDhcpOption$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hThisObject)"}, {"_type": "tag", "name": "CosaMTALineTableInitialize", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMtaAgent/source/TR-181/middle_layer_src/cosa_x_cisco_com_mta_internal.c", "pattern": "/^ANSC_STATUS CosaMTALineTableInitialize$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hThisObject)"}, {"_type": "tag", "name": "CosaMTARemove", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMtaAgent/source/TR-181/middle_layer_src/cosa_x_cisco_com_mta_internal.c", "pattern": "/^CosaMTARemove$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(ANSC_HANDLE hThisObject)"}, {"_type": "tag", "name": "CosaSetMTAHal", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMtaAgent/source/TR-181/middle_layer_src/cosa_x_cisco_com_mta_internal.c", "pattern": "/^CosaSetMTAHal$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(PCOSA_MTA_ETHWAN_PROV_INFO pmtaethpro)"}, {"_type": "tag", "name": "MAX_BUFF_SIZE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMtaAgent/source/TR-181/middle_layer_src/cosa_x_cisco_com_mta_internal.c", "pattern": "/^#define MAX_BUFF_SIZE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MAX_IPV4_HEX_VAL", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMtaAgent/source/TR-181/middle_layer_src/cosa_x_cisco_com_mta_internal.c", "pattern": "/^#define MAX_IPV4_HEX_VAL /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MAX_IPV6_HEX_VAL", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMtaAgent/source/TR-181/middle_layer_src/cosa_x_cisco_com_mta_internal.c", "pattern": "/^#define MAX_IPV6_HEX_VAL /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MAX_IP_PREF_VAL", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMtaAgent/source/TR-181/middle_layer_src/cosa_x_cisco_com_mta_internal.c", "pattern": "/^#define MAX_IP_PREF_VAL /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MAX_TIMEOUT_MTA_DHCP_DISABLED", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMtaAgent/source/TR-181/middle_layer_src/cosa_x_cisco_com_mta_internal.c", "pattern": "/^#define MAX_TIMEOUT_MTA_DHCP_DISABLED /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MAX_TIMEOUT_MTA_DHCP_ENABLED", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMtaAgent/source/TR-181/middle_layer_src/cosa_x_cisco_com_mta_internal.c", "pattern": "/^#define MAX_TIMEOUT_MTA_DHCP_ENABLED /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MTA_DHCP_DISABLED", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMtaAgent/source/TR-181/middle_layer_src/cosa_x_cisco_com_mta_internal.c", "pattern": "/^#define MTA_DHCP_DISABLED /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MTA_DHCP_ENABLED", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMtaAgent/source/TR-181/middle_layer_src/cosa_x_cisco_com_mta_internal.c", "pattern": "/^#define MTA_DHCP_ENABLED /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "Mta_Sysevent_thread", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMtaAgent/source/TR-181/middle_layer_src/cosa_x_cisco_com_mta_internal.c", "pattern": "/^void * Mta_Sysevent_thread(void *  hThisObject)$/", "language": "C", "typeref": "typename:void *", "kind": "function", "signature": "(void * hThisObject)"}, {"_type": "tag", "name": "Mta_Sysevent_thread_Dhcp_Option", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMtaAgent/source/TR-181/middle_layer_src/cosa_x_cisco_com_mta_internal.c", "pattern": "/^void * Mta_Sysevent_thread_Dhcp_Option( void * hThisObject)$/", "language": "C", "typeref": "typename:void *", "kind": "function", "signature": "(void * hThisObject)"}, {"_type": "tag", "name": "WaitForDhcpOption", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMtaAgent/source/TR-181/middle_layer_src/cosa_x_cisco_com_mta_internal.c", "pattern": "/^void WaitForDhcpOption()$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "checkIfDefMtaDhcpOptionEnabled", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMtaAgent/source/TR-181/middle_layer_src/cosa_x_cisco_com_mta_internal.c", "pattern": "/^int checkIfDefMtaDhcpOptionEnabled()$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getMaxCount", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMtaAgent/source/TR-181/middle_layer_src/cosa_x_cisco_com_mta_internal.c", "pattern": "/^int getMaxCount()$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "sysevent_fd", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMtaAgent/source/TR-181/middle_layer_src/cosa_x_cisco_com_mta_internal.c", "pattern": "/^static int sysevent_fd;$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "variable"}, {"_type": "tag", "name": "sysevent_token", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMtaAgent/source/TR-181/middle_layer_src/cosa_x_cisco_com_mta_internal.c", "pattern": "/^static token_t sysevent_token;$/", "file": true, "language": "C", "typeref": "typename:token_t", "kind": "variable"}], "hash": "4e49dada30a8989741f5baebc78a5612", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/CcspMtaAgent/source/TR-181/middle_layer_src/cosa_x_cisco_com_mta_internal.c", "fields": [{"name": "int sysevent_fd", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "token_t sysevent_token", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"22897": ""}]}