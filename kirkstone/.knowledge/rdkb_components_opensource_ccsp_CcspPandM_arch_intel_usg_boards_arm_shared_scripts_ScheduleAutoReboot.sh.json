{"is_source_file": true, "format": "shell script / sh", "description": "This file is a shell script designed to schedule auto-reboot operations on a device by setting cron jobs based on maintenance windows and various status checks. It manages locking to prevent concurrent executions, checks NTP synchronization and RFC triggers, calculates random reboot times within maintenance windows, and updates cron configurations accordingly.", "external_files": ["/etc/log_timestamp.sh", "/etc/utopia/service.d/log_capture_path.sh", "/etc/utopia/service.d/log_env_var.sh", "/etc/RebootCondition.sh"], "external_methods": ["echo_t", "sysevent get"], "published": [], "classes": [], "methods": [{"name": "calcRebootExecTime", "description": "Calculates a random reboot time within a maintenance window, adjusting for device-specific time offsets and ensuring the time stays within valid daily bounds."}, {"name": "ScheduleCron", "description": "Sets up a cron job for auto-reboot at the calculated time, either for a specific date or the next maintenance window, updating existing cron entries if present."}], "calls": ["source", "echo_t", "sysevent get", "dmcli eRT retv", "awk", "date", "crontab"], "search-terms": ["ScheduleAutoReboot.sh", "cron job scheduling", "auto reboot script", "maintenance window", "time offset calculation", "NTP sync check", "file lock management"], "state": 2, "file_id": 8175, "knowledge_revision": 21233, "git_revision": "", "hash": "18dbb6c44ce18341c6d1304560677bed", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/CcspPandM/arch/intel_usg/boards/arm_shared/scripts/ScheduleAutoReboot.sh", "revision_history": [{"21233": ""}]}