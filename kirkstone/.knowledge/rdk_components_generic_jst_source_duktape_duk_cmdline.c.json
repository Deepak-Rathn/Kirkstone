{"is_source_file": true, "format": "C", "description": "Source code for a command line Duktape JavaScript interpreter tool with various features including script execution, interactive mode, debugger support, and optional features controlled via macros and compile-time flags.", "external_files": ["linenoise.h", "duk_print_alert.h", "duk_console.h", "duk_logging.h", "duk_module_duktape.h", "duk_cbor.h", "duk_alloc_logging.h", "duk_alloc_torture.h", "duk_alloc_hybrid.h", "duk_alloc_pool.h", "duk_trans_socket.h", "jst.h"], "external_methods": ["load_template_file", "lowmem_init", "lowmem_dump", "lowmem_alloc_wrapped", "lowmem_realloc_wrapped", "lowmem_free_wrapped", "lowmem_register", "lowmem_pool_ptr", "ccsp_extensions_load"], "published": ["main", "create_jst_debug_file_name", "load_template_file"], "classes": [], "methods": [{"name": "void print_greet_line(void)", "description": "Prints a greeting line with Duktape version info and optional linenoise support indicator.", "scope": "", "scopeKind": ""}, {"name": "void set_resource_limits(rlim_t mem_limit_value)", "description": "Sets resource limits for memory usage on systems that support rlimit.", "scope": "", "scopeKind": ""}, {"name": "void my_sighandler(int x)", "description": "Custom signal handler that prints received signals.", "scope": "", "scopeKind": ""}, {"name": "void set_sigint_handler(void)", "description": "Sets SIGINT and SIGPIPE signal handlers.", "scope": "", "scopeKind": ""}, {"name": "void cmdline_fatal_handler(void * udata,const char * msg)", "description": "Fatal error handler that outputs message and causes a segmentation fault.", "scope": "", "scopeKind": ""}, {"name": "duk_ret_t get_stack_raw(duk_context * ctx,void * udata)", "description": "Retrieves the call stack from a Duktape error object if available.", "scope": "", "scopeKind": ""}, {"name": "void print_pop_error(duk_context * ctx,FILE * f)", "description": "Prints an error from Duktape to a specified FILE stream.", "scope": "", "scopeKind": ""}, {"name": "duk_ret_t wrapped_compile_execute(duk_context * ctx,void * udata)", "description": "Compiles and executes a source or bytecode string within the Duktape context.", "scope": "", "scopeKind": ""}, {"name": "int handle_fh(duk_context * ctx,FILE * f,const char * filename,const char * bytecode_filename)", "description": "Reads source code from a file handle, executes it, and manages bytecode serialization if requested.", "scope": "", "scopeKind": ""}, {"name": "int handle_file(duk_context * ctx,const char * filename,const char * bytecode_filename)", "description": "Opens a source file and delegates execution to handle_fh.", "scope": "", "scopeKind": ""}, {"name": "int handle_eval(duk_context * ctx,char * code)", "description": "Executes arbitrary code string in the Duktape context.", "scope": "", "scopeKind": ""}, {"name": "int handle_interactive(duk_context * ctx)", "description": "Runs an interactive REPL using linenoise or standard input.", "scope": "", "scopeKind": ""}, {"name": "duk_ret_t fileio_read_file(duk_context * ctx)", "description": "Read a file into a Duktape buffer (if FILEIO support is enabled).", "scope": "", "scopeKind": ""}, {"name": "duk_ret_t fileio_write_file(duk_context * ctx)", "description": "Write a buffer to a file (if FILEIO support is enabled).", "scope": "", "scopeKind": ""}, {"name": "duk_ret_t string_frombufferraw(duk_context * ctx)", "description": "Creates a string from a Buffer object without copying.", "scope": "", "scopeKind": ""}, {"name": "duk_context * create_duktape_heap(int alloc_provider,int debugger,int lowmem_log)", "description": "Creates and initializes a Duktape heap with optional custom allocators and debugger support.", "scope": "", "scopeKind": ""}, {"name": "void destroy_duktape_heap(duk_context * ctx,int alloc_provider)", "description": "Destroys the Duktape heap and performs cleanup.", "scope": "", "scopeKind": ""}, {"name": "int create_jst_debug_file_name(const char * arg)", "description": "Creates a debug filename based on REQUEST_URI environment variable or argument.", "scope": "", "scopeKind": ""}, {"name": "int main(int argc,char * argv[],char ** envp)", "description": "Main entry point of the command line Duktape interpreter, parsing arguments, setting up heap, and executing scripts or entering interactive mode.", "scope": "", "scopeKind": ""}, {"name": "void debugger_detached(duk_context * ctx,void * udata)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "duk_idx_t debugger_request(duk_context * ctx,void * udata,duk_idx_t nvalues)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "duk_ret_t linenoise_add_completion(duk_context * ctx)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void linenoise_completion(const char * buf,linenoiseCompletions * lc)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void linenoise_freehints(void * ptr)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char * linenoise_hints(const char * buf,int * color,int * bold)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["load_template_file", "lowmem_init", "lowmem_dump", "create_duktape_heap", "destroy_duktape_heap", "set_resource_limits", "set_sigint_handler", "handle_eval", "handle_file", "handle_fh", "handle_interactive", "print_pop_error", "load_template_file", "ccsp_extensions_load"], "search-terms": ["duktape", "command line", "interactive", "bytecode", "heap creation", "debugger", "signal handling", "JST parser", "file I/O", "linenoise"], "state": 2, "file_id": 12958, "knowledge_revision": 25859, "git_revision": "", "ctags": [{"_type": "tag", "name": "ALLOC_DEFAULT", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^#define  ALLOC_DEFAULT /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "ALLOC_HYBRID", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^#define  ALLOC_HYBRID /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "ALLOC_LOGGING", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^#define  ALLOC_LOGGING /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "ALLOC_LOWMEM", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^#define  ALLOC_LOWMEM /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "ALLOC_TORTURE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^#define  ALLOC_TORTURE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "DUK_CMDLINE_LINENOISE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^#define DUK_CMDLINE_LINENOISE$/", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "DUK_CMDLINE_LINENOISE_COMPLETION", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^#define DUK_CMDLINE_LINENOISE_COMPLETION /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "DUK_CMDLINE_RLIMIT", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^#define DUK_CMDLINE_RLIMIT$/", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "DUK_CMDLINE_SIGNAL", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^#define DUK_CMDLINE_SIGNAL$/", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "LINEBUF_SIZE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^#define  LINEBUF_SIZE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MEM_LIMIT_HIGH", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^#define  MEM_LIMIT_HIGH /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MEM_LIMIT_NORMAL", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^#define  MEM_LIMIT_NORMAL /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "_CRT_SECURE_NO_WARNINGS", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^#define _CRT_SECURE_NO_WARNINGS$/", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "cmdline_fatal_handler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^static void cmdline_fatal_handler(void *udata, const char *msg) {$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void * udata,const char * msg)"}, {"_type": "tag", "name": "completion_ctx", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^static duk_context *completion_ctx;$/", "file": true, "language": "C", "typeref": "typename:duk_context *", "kind": "variable"}, {"_type": "tag", "name": "create_duktape_heap", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^static duk_context *create_duktape_heap(int alloc_provider, int debugger, int lowmem_log) {$/", "file": true, "language": "C", "typeref": "typename:duk_context *", "kind": "function", "signature": "(int alloc_provider,int debugger,int lowmem_log)"}, {"_type": "tag", "name": "create_jst_debug_file_name", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^int create_jst_debug_file_name(const char* arg)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const char * arg)"}, {"_type": "tag", "name": "debugger_detached", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^static void debugger_detached(duk_context *ctx, void *udata) {$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(duk_context * ctx,void * udata)"}, {"_type": "tag", "name": "debugger_reattach", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^static int debugger_reattach = 0;$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "variable"}, {"_type": "tag", "name": "debugger_request", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^static duk_idx_t debugger_request(duk_context *ctx, void *udata, duk_idx_t nvalues) {$/", "file": true, "language": "C", "typeref": "typename:duk_idx_t", "kind": "function", "signature": "(duk_context * ctx,void * udata,duk_idx_t nvalues)"}, {"_type": "tag", "name": "destroy_duktape_heap", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^static void destroy_duktape_heap(duk_context *ctx, int alloc_provider) {$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(duk_context * ctx,int alloc_provider)"}, {"_type": "tag", "name": "fileio_read_file", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^static duk_ret_t fileio_read_file(duk_context *ctx) {$/", "file": true, "language": "C", "typeref": "typename:duk_ret_t", "kind": "function", "signature": "(duk_context * ctx)"}, {"_type": "tag", "name": "fileio_write_file", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^static duk_ret_t fileio_write_file(duk_context *ctx) {$/", "file": true, "language": "C", "typeref": "typename:duk_ret_t", "kind": "function", "signature": "(duk_context * ctx)"}, {"_type": "tag", "name": "get_stack_raw", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^static duk_ret_t get_stack_raw(duk_context *ctx, void *udata) {$/", "file": true, "language": "C", "typeref": "typename:duk_ret_t", "kind": "function", "signature": "(duk_context * ctx,void * udata)"}, {"_type": "tag", "name": "handle_eval", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^static int handle_eval(duk_context *ctx, char *code) {$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(duk_context * ctx,char * code)"}, {"_type": "tag", "name": "handle_fh", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^static int handle_fh(duk_context *ctx, FILE *f, const char *filename, const char *bytecode_filen/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(duk_context * ctx,FILE * f,const char * filename,const char * bytecode_filename)"}, {"_type": "tag", "name": "handle_file", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^static int handle_file(duk_context *ctx, const char *filename, const char *bytecode_filename) {$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(duk_context * ctx,const char * filename,const char * bytecode_filename)"}, {"_type": "tag", "name": "handle_interactive", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^static int handle_interactive(duk_context *ctx) {$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(duk_context * ctx)"}, {"_type": "tag", "name": "interactive_mode", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^static int interactive_mode = 0;$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "variable"}, {"_type": "tag", "name": "jst_debug_file_name", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^char* jst_debug_file_name = NULL;$/", "language": "C", "typeref": "typename:char *", "kind": "variable"}, {"_type": "tag", "name": "linenoise_add_completion", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^static duk_ret_t linenoise_add_completion(duk_context *ctx) {$/", "file": true, "language": "C", "typeref": "typename:duk_ret_t", "kind": "function", "signature": "(duk_context * ctx)"}, {"_type": "tag", "name": "linenoise_completion", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^static void linenoise_completion(const char *buf, linenoiseCompletions *lc) {$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(const char * buf,linenoiseCompletions * lc)"}, {"_type": "tag", "name": "linenoise_completion_script", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^static const char *linenoise_completion_script =$/", "file": true, "language": "C", "typeref": "typename:const char *", "kind": "variable"}, {"_type": "tag", "name": "linenoise_freehints", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^static void linenoise_freehints(void *ptr) {$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void * ptr)"}, {"_type": "tag", "name": "linenoise_hints", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^static char *linenoise_hints(const char *buf, int *color, int *bold) {$/", "file": true, "language": "C", "typeref": "typename:char *", "kind": "function", "signature": "(const char * buf,int * color,int * bold)"}, {"_type": "tag", "name": "linenoise_hints_script", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^static const char *linenoise_hints_script =$/", "file": true, "language": "C", "typeref": "typename:const char *", "kind": "variable"}, {"_type": "tag", "name": "main", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^int main(int argc, char *argv[], char **envp) {$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(int argc,char * argv[],char ** envp)"}, {"_type": "tag", "name": "main_argc", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^static int main_argc = 0;$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "variable"}, {"_type": "tag", "name": "main_argv", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^static char **main_argv = NULL;$/", "file": true, "language": "C", "typeref": "typename:char **", "kind": "variable"}, {"_type": "tag", "name": "my_sighandler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^static void my_sighandler(int x) {$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(int x)"}, {"_type": "tag", "name": "print_greet_line", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^static void print_greet_line(void) {$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "print_pop_error", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^static void print_pop_error(duk_context *ctx, FILE *f) {$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(duk_context * ctx,FILE * f)"}, {"_type": "tag", "name": "set_resource_limits", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^static void set_resource_limits(rlim_t mem_limit_value) {$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(rlim_t mem_limit_value)"}, {"_type": "tag", "name": "set_sigint_handler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^static void set_sigint_handler(void) {$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "snprintf", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^#define snprintf /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "string_frombufferraw", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^static duk_ret_t string_frombufferraw(duk_context *ctx) {$/", "file": true, "language": "C", "typeref": "typename:duk_ret_t", "kind": "function", "signature": "(duk_context * ctx)"}, {"_type": "tag", "name": "wrapped_compile_execute", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/jst/source/duktape/duk_cmdline.c", "pattern": "/^static duk_ret_t wrapped_compile_execute(duk_context *ctx, void *udata) {$/", "file": true, "language": "C", "typeref": "typename:duk_ret_t", "kind": "function", "signature": "(duk_context * ctx,void * udata)"}], "hash": "d02198a247de217e0ef98295a61c8d83", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdk/components/generic/jst/source/duktape/duk_cmdline.c", "fields": [{"name": "duk_context * completion_ctx", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int debugger_reattach", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int interactive_mode", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char * jst_debug_file_name", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const char * linenoise_completion_script", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const char * linenoise_hints_script", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int main_argc", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char ** main_argv", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"25859": ""}]}