{"is_source_file": true, "format": "C", "description": "This file contains implementation of action handlers for a rule-based system, including device control, notification, and media capture actions, as well as conversion to JavaScript for execution. It integrates with JSON handling and specific device protocols.", "external_files": ["<icrule/icrule.h>", "<cslt/cslt.h>", "<string.h>", "<errno.h>", "<stdio.h>", "<cjson/cJSON.h>", "<stdlib.h>", "<jsonrpc/jsonrpc.h>", "<inttypes.h>", "<commonDeviceDefs.h>", "<icUtil/stringUtils.h>", "../cslt_internal.h", "sheens_javascript.h", "sheens_transcoders.h", "sheens_json.h", "sheens_request.h"], "external_methods": ["hashMapGet", "sheens_create_write_device_request", "jsonrpc_create_notification", "sheens_create_timer_oneshot_request", "stringToUint32", "sheens_transcoder_map_device_id", "bool2str"], "published": ["sheens_actions2javascript"], "classes": [], "methods": [{"name": "char * create_token(uint64_t ruleId)", "description": "Generates a token string based on ruleId, used for validation of commands.", "scope": "", "scopeKind": ""}, {"name": "int action_light_handler(const uint64_t ruleId,const icrule_action_t * action,cJSON * output_objects,cJSON * nodes_object,cJSON * start_branches)", "description": "Handles turn light on/off actions, including setting level and duration timers.", "scope": "", "scopeKind": ""}, {"name": "int action_doorlock_handler(const uint64_t ruleId,const icrule_action_t * action,cJSON * output_objects,cJSON * nodes_object,cJSON * start_branches)", "description": "Handles door lock/unlock actions.", "scope": "", "scopeKind": ""}, {"name": "int action_thermostat_handler(const uint64_t ruleId,const icrule_action_t * action,cJSON * output_objects,cJSON * nodes_object,cJSON * start_branches)", "description": "Handles thermostat set mode and setpoint actions.", "scope": "", "scopeKind": ""}, {"name": "int action_notification_handler(const uint64_t ruleId,const icrule_action_t * action,cJSON * output_objects,cJSON * nodes_object,cJSON * start_branches)", "description": "Creates notification payloads for email or other notifications.", "scope": "", "scopeKind": ""}, {"name": "cJSON * create_picture_handler_base_params(const uint64_t ruleId,const icrule_action_t * action)", "description": "Prepares JSON parameters for taking pictures with configurable count and size.", "scope": "", "scopeKind": ""}, {"name": "int action_picture_handler(const uint64_t ruleId,const icrule_action_t * action,cJSON * output_objects,cJSON * nodes_object,cJSON * start_branches)", "description": "Handles picture capture actions, including device ID mapping.", "scope": "", "scopeKind": ""}, {"name": "int action_video_handler(const uint64_t ruleId,const icrule_action_t * action,cJSON * output_objects,cJSON * nodes_object,cJSON * start_branches)", "description": "Handles video recording actions with configurable camera and duration.", "scope": "", "scopeKind": ""}, {"name": "int action_playsound_handler(const uint64_t ruleId,const icrule_action_t * action,cJSON * output_objects,cJSON * nodes_object,cJSON * start_branches)", "description": "Handles playing sound actions with specified sound name.", "scope": "", "scopeKind": ""}, {"name": "cJSON * sheens_actions2javascript(const uint64_t ruleId,icLinkedListIterator * iterator,cJSON * nodes_object,cJSON * start_branches)", "description": "Converts a list of rule actions into JavaScript code for execution, combining individual handlers.", "scope": "", "scopeKind": ""}, {"name": "int action2javascript(const uint64_t ruleId,const icrule_action_t * action,cJSON * output_objects,cJSON * nodes_object,cJSON * start_branches)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["hashMapGet", "sheens_create_write_device_request", "jsonrpc_create_notification", "sheens_create_timer_oneshot_request", "stringToUint32", "sheens_transcoder_map_device_id", "bool2str"], "search-terms": ["sheens_transcoder_actions", "ruleAction_turnLight", "sheens_event_id_bound_key", "sheens_event_time_bound_key", "sheens_event_code_key", "takePictureAction", "takeVideoAction", "playAudioAction", "ruleAction_sendEmail"], "state": 2, "file_id": 823, "knowledge_revision": 13984, "git_revision": "", "ctags": [{"_type": "tag", "name": "PICTURE_COUNT_DEFAULT", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/cslt/src/sheens/sheens_transcoder_actions.c", "pattern": "/^static const int PICTURE_COUNT_DEFAULT = 5;$/", "file": true, "language": "C", "typeref": "typename:const int", "kind": "variable"}, {"_type": "tag", "name": "action2javascript", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/cslt/src/sheens/sheens_transcoder_actions.c", "pattern": "/^static int action2javascript(const uint64_t ruleId,$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const uint64_t ruleId,const icrule_action_t * action,cJSON * output_objects,cJSON * nodes_object,cJSON * start_branches)"}, {"_type": "tag", "name": "action_doorlock_handler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/cslt/src/sheens/sheens_transcoder_actions.c", "pattern": "/^static int action_doorlock_handler(const uint64_t ruleId,$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const uint64_t ruleId,const icrule_action_t * action,cJSON * output_objects,cJSON * nodes_object,cJSON * start_branches)"}, {"_type": "tag", "name": "action_handler_t", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/cslt/src/sheens/sheens_transcoder_actions.c", "pattern": "/^typedef int (*action_handler_t)(const uint64_t ruleId,$/", "file": true, "language": "C", "typeref": "typename:int (*)(const uint64_t ruleId,const icrule_action_t * action,cJSON * output_objects,cJSON * nodes_object,cJSON * start_branches)", "kind": "typedef"}, {"_type": "tag", "name": "action_light_handler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/cslt/src/sheens/sheens_transcoder_actions.c", "pattern": "/^static int action_light_handler(const uint64_t ruleId,$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const uint64_t ruleId,const icrule_action_t * action,cJSON * output_objects,cJSON * nodes_object,cJSON * start_branches)"}, {"_type": "tag", "name": "action_notification_handler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/cslt/src/sheens/sheens_transcoder_actions.c", "pattern": "/^static int action_notification_handler(const uint64_t ruleId,$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const uint64_t ruleId,const icrule_action_t * action,cJSON * output_objects,cJSON * nodes_object,cJSON * start_branches)"}, {"_type": "tag", "name": "action_picture_handler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/cslt/src/sheens/sheens_transcoder_actions.c", "pattern": "/^static int action_picture_handler(const uint64_t ruleId,$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const uint64_t ruleId,const icrule_action_t * action,cJSON * output_objects,cJSON * nodes_object,cJSON * start_branches)"}, {"_type": "tag", "name": "action_playsound_handler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/cslt/src/sheens/sheens_transcoder_actions.c", "pattern": "/^static int action_playsound_handler(const uint64_t ruleId,$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const uint64_t ruleId,const icrule_action_t * action,cJSON * output_objects,cJSON * nodes_object,cJSON * start_branches)"}, {"_type": "tag", "name": "action_thermostat_handler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/cslt/src/sheens/sheens_transcoder_actions.c", "pattern": "/^static int action_thermostat_handler(const uint64_t ruleId,$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const uint64_t ruleId,const icrule_action_t * action,cJSON * output_objects,cJSON * nodes_object,cJSON * start_branches)"}, {"_type": "tag", "name": "action_video_handler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/cslt/src/sheens/sheens_transcoder_actions.c", "pattern": "/^static int action_video_handler(const uint64_t ruleId,$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const uint64_t ruleId,const icrule_action_t * action,cJSON * output_objects,cJSON * nodes_object,cJSON * start_branches)"}, {"_type": "tag", "name": "create_picture_handler_base_params", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/cslt/src/sheens/sheens_transcoder_actions.c", "pattern": "/^static cJSON *create_picture_handler_base_params(const uint64_t ruleId, const icrule_action_t* a/", "file": true, "language": "C", "typeref": "typename:cJSON *", "kind": "function", "signature": "(const uint64_t ruleId,const icrule_action_t * action)"}, {"_type": "tag", "name": "create_token", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/cslt/src/sheens/sheens_transcoder_actions.c", "pattern": "/^static char* create_token(uint64_t ruleId)$/", "file": true, "language": "C", "typeref": "typename:char *", "kind": "function", "signature": "(uint64_t ruleId)"}, {"_type": "tag", "name": "duration_key", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/cslt/src/sheens/sheens_transcoder_actions.c", "pattern": "/^static const char* duration_key = \"duration\";$/", "file": true, "language": "C", "typeref": "typename:const char *", "kind": "variable"}, {"_type": "tag", "name": "handler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/cslt/src/sheens/sheens_transcoder_actions.c", "pattern": "/^    action_handler_t handler;$/", "file": true, "language": "C", "typeref": "typename:action_handler_t", "kind": "member", "scope": "icrule_target", "scopeKind": "struct"}, {"_type": "tag", "name": "icrule2sheen", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/cslt/src/sheens/sheens_transcoder_actions.c", "pattern": "/^static const struct icrule_target icrule2sheen[] = {$/", "file": true, "language": "C", "typeref": "typename:const struct icrule_target[]", "kind": "variable"}, {"_type": "tag", "name": "icrule_target", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/cslt/src/sheens/sheens_transcoder_actions.c", "pattern": "/^struct icrule_target {$/", "file": true, "language": "C", "kind": "struct"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/cslt/src/sheens/sheens_transcoder_actions.c", "pattern": "/^    const char* name;$/", "file": true, "language": "C", "typeref": "typename:const char *", "kind": "member", "scope": "icrule_target", "scopeKind": "struct"}, {"_type": "tag", "name": "sheens_actions2javascript", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/cslt/src/sheens/sheens_transcoder_actions.c", "pattern": "/^cJSON* sheens_actions2javascript(const uint64_t ruleId,$/", "language": "C", "typeref": "typename:cJSON *", "kind": "function", "signature": "(const uint64_t ruleId,icLinkedListIterator * iterator,cJSON * nodes_object,cJSON * start_branches)"}], "hash": "682960bd1e5016ceda989beb7ffdd899", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "components/opensource/zilker-sdk/source/libs/cslt/src/sheens/sheens_transcoder_actions.c", "fields": [{"name": "const int PICTURE_COUNT_DEFAULT", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const char * duration_key", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "action_handler_t handler", "scope": "icrule_target", "scopeKind": "struct", "description": "unavailable"}, {"name": "const struct icrule_target[] icrule2sheen", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const char * name", "scope": "icrule_target", "scopeKind": "struct", "description": "unavailable"}], "revision_history": [{"13984": ""}]}