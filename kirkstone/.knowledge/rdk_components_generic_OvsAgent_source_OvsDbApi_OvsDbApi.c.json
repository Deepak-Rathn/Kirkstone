{"is_source_file": true, "format": "C", "description": "This file implements the API for interacting with an OVSDB (Open vSwitch Database) layer, including initialization, deinitialization, sending messages, monitor management, and deletion operations using socket communication. It contains functions to manage socket connections, send JSON-formatted commands, handle callbacks, and manage internal state and threads.", "external_files": ["OvsDbApi/OvsDbDefs.h", "OvsDbApi/OvsDbApi.h", "OvsDbApi/ovsdb_parser.h", "OvsDbApi/receipt_list.h", "OvsDbApi/mon_update_list.h", "OvsDbApi/ovsdb_socket.h", "common/OvsAgentLog.h"], "external_methods": ["ovsdb_socket_listen", "ovsdb_socket_connect", "ovsdb_socket_disconnect", "ovsdb_socket_write", "ovsdb_parse_msg", "mon_list_clear", "receipt_list_clear", "mon_list_add", "mon_list_remove", "id_generate"], "published": ["ovsdb_init", "ovsdb_deinit", "ovsdb_write", "ovsdb_monitor", "ovsdb_monitor_cancel", "ovsdb_delete", "id_generate"], "classes": [], "methods": [{"name": "OVS_STATUS ovsdb_init(unsigned int startingId)", "description": "Initializes the OVSDB API layer, sets the starting ID, and establishes socket connection and listen thread.", "scope": "", "scopeKind": ""}, {"name": "OVS_STATUS ovsdb_deinit()", "description": "Deinitializes the OVSDB API, stops the listen thread, and clears internal lists.", "scope": "", "scopeKind": ""}, {"name": "OVS_STATUS ovsdb_write(const char * rID,Rdkb_Table_Config * config,ovsdb_receipt_cb receipt_cb)", "description": "Sends a JSON command to the OVSDB socket and registers a receipt callback.", "scope": "", "scopeKind": ""}, {"name": "OVS_STATUS ovsdb_monitor(OVS_TABLE ovsdb_table,ovsdb_mon_cb mon_cb,ovsdb_receipt_cb receipt_cb)", "description": "Creates a monitor on a specified OVSDB table and registers callbacks for updates.", "scope": "", "scopeKind": ""}, {"name": "OVS_STATUS ovsdb_monitor_cancel(const char * rID,ovsdb_receipt_cb receipt_cb)", "description": "Cancels an ongoing monitor on a specified OVSDB table based on receipt ID.", "scope": "", "scopeKind": ""}, {"name": "OVS_STATUS ovsdb_delete(OVS_TABLE ovsdb_table,const char * key,const char * value)", "description": "Deletes entries from the OVSDB table based on key-value pair and sends delete command.", "scope": "", "scopeKind": ""}, {"name": "unsigned int id_generate()", "description": "Generates a new unique ID for requests.", "scope": "", "scopeKind": ""}, {"name": "void dummy_receipt_cb(const char * rid,const OvsDb_Base_Receipt * result)", "description": "Dummy callback function used when no callback is provided, logs receipt info.", "scope": "", "scopeKind": ""}, {"name": "void * ovsdb_listen(void * data)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["ovsdb_socket_connect", "ovsdb_socket_listen", "ovsdb_parse_msg", "ovsdb_socket_disconnect", "mon_list_clear", "receipt_list_clear", "mon_list_add", "mon_list_remove", "ovsdb_socket_write", "ovsdb_insert_to_json", "ovsdb_monitor_to_json", "ovsdb_delete_to_json", "id_generate"], "search-terms": ["OVSDB socket init", "ovsdb monitor management", "ovsdb message send", "ovsdb delete operation", "ovsdb socket listener thread", "OVS status handling", "receipt list", "monitor callback", "ovsdb JSON commands"], "state": 2, "file_id": 12714, "knowledge_revision": 25616, "git_revision": "", "ctags": [{"_type": "tag", "name": "OVSDB_SOCKET_LISTEN_TIMEOUT_MSECS", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsDbApi/OvsDbApi.c", "pattern": "/^#define OVSDB_SOCKET_LISTEN_TIMEOUT_MSECS /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "dummy_receipt_cb", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsDbApi/OvsDbApi.c", "pattern": "/^static void dummy_receipt_cb(const char* rid, const OvsDb_Base_Receipt* result) \\/\\/TODO: Change/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(const char * rid,const OvsDb_Base_Receipt * result)"}, {"_type": "tag", "name": "g_terminate", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsDbApi/OvsDbApi.c", "pattern": "/^static volatile bool g_terminate = false;$/", "file": true, "language": "C", "typeref": "typename:volatile bool", "kind": "variable"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsDbApi/OvsDbApi.c", "pattern": "/^static unsigned int id = 0;$/", "file": true, "language": "C", "typeref": "typename:unsigned int", "kind": "variable"}, {"_type": "tag", "name": "id_generate", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsDbApi/OvsDbApi.c", "pattern": "/^unsigned int id_generate()$/", "language": "C", "typeref": "typename:unsigned int", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "listen_thread", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsDbApi/OvsDbApi.c", "pattern": "/^static pthread_t listen_thread;$/", "file": true, "language": "C", "typeref": "typename:pthread_t", "kind": "variable"}, {"_type": "tag", "name": "ovsdb_deinit", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsDbApi/OvsDbApi.c", "pattern": "/^OVS_STATUS ovsdb_deinit()$/", "language": "C", "typeref": "typename:OVS_STATUS", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "ovsdb_delete", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsDbApi/OvsDbApi.c", "pattern": "/^OVS_STATUS ovsdb_delete(OVS_TABLE ovsdb_table, const char * key, const char * value)$/", "language": "C", "typeref": "typename:OVS_STATUS", "kind": "function", "signature": "(OVS_TABLE ovsdb_table,const char * key,const char * value)"}, {"_type": "tag", "name": "ovsdb_init", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsDbApi/OvsDbApi.c", "pattern": "/^OVS_STATUS ovsdb_init(unsigned int startingId)$/", "language": "C", "typeref": "typename:OVS_STATUS", "kind": "function", "signature": "(unsigned int startingId)"}, {"_type": "tag", "name": "ovsdb_listen", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsDbApi/OvsDbApi.c", "pattern": "/^static void* ovsdb_listen(void* data)$/", "file": true, "language": "C", "typeref": "typename:void *", "kind": "function", "signature": "(void * data)"}, {"_type": "tag", "name": "ovsdb_monitor", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsDbApi/OvsDbApi.c", "pattern": "/^OVS_STATUS ovsdb_monitor(OVS_TABLE ovsdb_table, ovsdb_mon_cb mon_cb, ovsdb_receipt_cb receipt_cb/", "language": "C", "typeref": "typename:OVS_STATUS", "kind": "function", "signature": "(OVS_TABLE ovsdb_table,ovsdb_mon_cb mon_cb,ovsdb_receipt_cb receipt_cb)"}, {"_type": "tag", "name": "ovsdb_monitor_cancel", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsDbApi/OvsDbApi.c", "pattern": "/^OVS_STATUS ovsdb_monitor_cancel(const char * rID, ovsdb_receipt_cb receipt_cb)$/", "language": "C", "typeref": "typename:OVS_STATUS", "kind": "function", "signature": "(const char * rID,ovsdb_receipt_cb receipt_cb)"}, {"_type": "tag", "name": "ovsdb_sock_fd", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsDbApi/OvsDbApi.c", "pattern": "/^static int ovsdb_sock_fd = -1;$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "variable"}, {"_type": "tag", "name": "ovsdb_write", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/OvsDbApi/OvsDbApi.c", "pattern": "/^OVS_STATUS ovsdb_write(const char* rID, Rdkb_Table_Config* config, ovsdb_receipt_cb receipt_cb)$/", "language": "C", "typeref": "typename:OVS_STATUS", "kind": "function", "signature": "(const char * rID,Rdkb_Table_Config * config,ovsdb_receipt_cb receipt_cb)"}], "hash": "d947d2bc48c14c76695bc1c9b5a60d9b", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdk/components/generic/OvsAgent/source/OvsDbApi/OvsDbApi.c", "fields": [{"name": "volatile bool g_terminate", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "unsigned int id", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pthread_t listen_thread", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int ovsdb_sock_fd", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"25616": ""}]}