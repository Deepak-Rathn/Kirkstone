{"is_source_file": true, "format": "shell script", "description": "A shell script that configures WiFi mesh interfaces, bridges, and backhaul setup for specific hardware models. It includes network setup commands, conditionally creates bridges and VLANs, and applies specific configurations based on device model and environment.", "external_files": ["/etc/device.properties", "/sys/module/openvswitch/", "/sys/class/net/$PLUME_BH1_NAME/bridge/nf_call_iptables", "/sys/class/net/$PLUME_BH1_NAME/bridge/nf_call_arptables", "/sys/class/net/$PLUME_BH2_NAME/bridge/nf_call_iptables", "/sys/class/net/$PLUME_BH2_NAME/bridge/nf_call_arptables", "/proc/driver/flowmgr/cmd", "/proc/driver/ethsw/vlan", "/sbin/ifconfig", "/sbin/brctl", "/sbin/ovs-vsctl", "/usr/sbin/iptables", "/bin/grep", "/bin/echo", "/bin/cut", "/bin/if", "/bin/true", "/bin/false", "/bin/dirname", "/bin/hostname", "/bin/true", "/bin/false"], "external_methods": ["wifi_api wifi_getApBridgeInfo", "syscfg get bridge_util_enable", "vconfig add", "ip -d link show", "ip link del"], "published": [], "classes": [], "methods": [{"name": "mesh_bridges", "description": "Configures WiFi interfaces into bridges and sets IP addresses and netmask."}, {"name": "mesh_bhaul", "description": "Creates backhaul bridge and sets IP address."}, {"name": "is_vlan", "description": "Checks if the given interface is a VLAN."}, {"name": "vlan_root", "description": "Extracts VLAN root part from interface name."}, {"name": "bridge_interfaces", "description": "Lists all interfaces part of a bridge."}, {"name": "bridge_set_mtu", "description": "Sets the MTU for all interfaces in a bridge."}, {"name": "mesh_bridge_setup", "description": "Sets up mesh backhaul bridges, VLANs, and interface configurations."}], "calls": ["grep MODEL_NUM /etc/device.properties", "wifi_api wifi_getApBridgeInfo", "head -n 1", "syscfg get bridge_util_enable", "brctl addbr", "/sbin/ifconfig", "vconfig add", "ip -d link show", "grep vlan", "cut -d '.' -f 1", "brctl show", "ovs-vsctl show", "sysevent set multinet-up", "ifconfig", "brctl delif", "brctl addif", "vlan"], "search-terms": ["mesh setup", "WiFi backhaul", "bridge configuration", "VLAN setup", "model-specific WiFi config", "mesh backhaul script", "mesh interface setup", "ovs-vsctl", "bridge IP configuration"], "state": 2, "file_id": 9326, "knowledge_revision": 22338, "git_revision": "", "hash": "fc215da86562993721053f9befdaf7a7", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/CcspWifiAgent/scripts/mesh_setip.sh", "revision_history": [{"22338": ""}]}