{"is_source_file": true, "format": "C", "description": "This file implements a framework for managing WebConfig sub-documents (subdocs), handling registration, version control, message queuing, blob request processing, and communication with WebConfig clients. It includes functions for registering subdocs, managing a message queue for blob execution requests, handling timeouts, and notifying clients of version changes or crashes. The code supports multi-component scenarios, debug logging, and synchronization primitives for thread safety.", "external_files": ["webconfig_framework.h", "webconfig_bus_interface.h", "webconfig_logging.h", "webconfig_err.h"], "external_methods": ["checkIfVersionExecInMultiCompQueue", "messageQueueProcessingMultiComp", "messageQueueProcessingMultiCompSlave", "isMultiCompQueueEmpty", "initMultiComp", "sendWebConfigSignal"], "published": ["register_sub_docs", "check_component_crash", "PushBlobRequest", "resetSubdocVersion"], "classes": [], "methods": [{"name": "void register_sub_docs(blobRegInfo * bInfo,int NumOfSubdocs,getVersion getv,setVersion setv)", "description": "Registers all supported subdocuments, initializes version info, and starts debug/logging and force reset threads.", "scope": "", "scopeKind": ""}, {"name": "void check_component_crash(char * init_file)", "description": "Checks for crash indicator file and notifies webconfig client of component restart events.", "scope": "", "scopeKind": ""}, {"name": "void PushBlobRequest(execData * exec_data)", "description": "Main interface for components to push blob execution requests, manages version updates, queue insertion, and client notification.", "scope": "", "scopeKind": ""}, {"name": "int resetSubdocVersion(char * subdoc_name)", "description": "Resets the version of a specified subdoc to zero and updates the registered info.", "scope": "", "scopeKind": ""}, {"name": "int addEntryToQueue(uint32_t version,uint16_t txid,unsigned long timeout,void * exec_data)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int checkIfVersionExecInQueue(uint32_t version,int * queueIndex)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int checkNewVersionUpdateRequired(execData * exec_data,int * queueIndex)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "size_t defFunc_calculateTimeout(size_t numOfEntries)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void * display_subDocs()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void * execute_request(void * arg)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "blobRegInfo * getAddress(char * subdoc_name)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "size_t getPendingQueueTimeout(uint16_t txid)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void initMessageQueue()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int isQueueEmpty()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int isQueueFull()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void * messageQueueProcessing()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void notifyVersion_to_Webconfig(char * subdoc_name,uint32_t version,int process_crashed)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void removeEntryFromQueue()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void removeEntryfromRearEnd()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void send_ACK(char * subdoc_name,uint16_t txid,uint32_t version,unsigned long timeout,char * msg)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void send_NACK(char * subdoc_name,uint16_t txid,uint32_t version,uint16_t ErrCode,char * failureReason)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void updateVersionAndState(uint32_t version,int blob_execution_retValue,PblobRegInfo blobUpdate)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["initMessageQueue", "checkIfVersionExecInQueue", "checkIfVersionExecInMultiCompQueue", "send_ACK", "send_NACK", "updateVersionAndState", "getAddress", "isQueueFull", "addEntryToQueue", "isQueueEmpty", "removeEntryFromRearEnd", "removeEntryFromQueue", "execute_request", "messageQueueProcessing"], "search-terms": ["webconfig_subdoc_registration", "blob_request_queue", "version_control", "component_crash_notification", "multi_comp_support", "message_queue", "subdoc_version_management"], "state": 2, "file_id": 12659, "knowledge_revision": 25560, "git_revision": "", "ctags": [{"_type": "tag", "name": "MAX_DEBUG_ITER", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "pattern": "/^#define MAX_DEBUG_ITER /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "PushBlobRequest", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "pattern": "/^void PushBlobRequest (execData *exec_data )  $/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(execData * exec_data)"}, {"_type": "tag", "name": "addEntryToQueue", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "pattern": "/^int addEntryToQueue(uint32_t version,uint16_t txid, unsigned long timeout,void *exec_data) $/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(uint32_t version,uint16_t txid,unsigned long timeout,void * exec_data)"}, {"_type": "tag", "name": "blobData", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "pattern": "/^PblobRegInfo blobData;$/", "language": "C", "typeref": "typename:PblobRegInfo", "kind": "variable"}, {"_type": "tag", "name": "checkIfVersionExecInQueue", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "pattern": "/^int checkIfVersionExecInQueue(uint32_t version,int *queueIndex)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(uint32_t version,int * queueIndex)"}, {"_type": "tag", "name": "checkNewVersionUpdateRequired", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "pattern": "/^int checkNewVersionUpdateRequired(execData *exec_data,int *queueIndex)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(execData * exec_data,int * queueIndex)"}, {"_type": "tag", "name": "check_component_crash", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "pattern": "/^void check_component_crash(char* init_file)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(char * init_file)"}, {"_type": "tag", "name": "defFunc_calculateTimeout", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "pattern": "/^size_t defFunc_calculateTimeout(size_t numOfEntries)$/", "language": "C", "typeref": "typename:size_t", "kind": "function", "signature": "(size_t numOfEntries)"}, {"_type": "tag", "name": "display_subDocs", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "pattern": "/^void* display_subDocs()$/", "language": "C", "typeref": "typename:void *", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "execReturn", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "pattern": "/^pErr execReturn = NULL;$/", "language": "C", "typeref": "typename:pErr", "kind": "variable"}, {"_type": "tag", "name": "execute_request", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "pattern": "/^void* execute_request(void *arg)$/", "language": "C", "typeref": "typename:void *", "kind": "function", "signature": "(void * arg)"}, {"_type": "tag", "name": "gNumOfSubdocs", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "pattern": "/^int gNumOfSubdocs = 0;$/", "language": "C", "typeref": "typename:int", "kind": "variable"}, {"_type": "tag", "name": "getAddress", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "pattern": "/^blobRegInfo* getAddress(char* subdoc_name)$/", "language": "C", "typeref": "typename:blobRegInfo *", "kind": "function", "signature": "(char * subdoc_name)"}, {"_type": "tag", "name": "getPendingQueueTimeout", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "pattern": "/^size_t getPendingQueueTimeout(uint16_t txid)$/", "language": "C", "typeref": "typename:size_t", "kind": "function", "signature": "(uint16_t txid)"}, {"_type": "tag", "name": "initMessageQueue", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "pattern": "/^void initMessageQueue()$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "isQueueEmpty", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "pattern": "/^int isQueueEmpty() $/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "isQueueFull", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "pattern": "/^int isQueueFull() $/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "mCompMqSlaveName", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "pattern": "/^char multiCompMqEventName[64] = {0} , mCompMqSlaveName[64] = {0};$/", "language": "C", "typeref": "typename:char[64]", "kind": "variable"}, {"_type": "tag", "name": "messageQueueProcessing", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "pattern": "/^void* messageQueueProcessing()$/", "language": "C", "typeref": "typename:void *", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "mqEventName", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "pattern": "/^char mqEventName[64] = {0};$/", "language": "C", "typeref": "typename:char[64]", "kind": "variable"}, {"_type": "tag", "name": "multiCompMqEventName", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "pattern": "/^char multiCompMqEventName[64] = {0} , mCompMqSlaveName[64] = {0};$/", "language": "C", "typeref": "typename:char[64]", "kind": "variable"}, {"_type": "tag", "name": "notifyVersion_to_Webconfig", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "pattern": "/^void notifyVersion_to_Webconfig(char* subdoc_name, uint32_t version,int process_crashed)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(char * subdoc_name,uint32_t version,int process_crashed)"}, {"_type": "tag", "name": "process_name", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "pattern": "/^char process_name[64]={0};$/", "language": "C", "typeref": "typename:char[64]", "kind": "variable"}, {"_type": "tag", "name": "queueData", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "pattern": "/^queueInfo  queueData;$/", "language": "C", "typeref": "typename:queueInfo", "kind": "variable"}, {"_type": "tag", "name": "queue_access", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "pattern": "/^pthread_mutex_t queue_access = PTHREAD_MUTEX_INITIALIZER;$/", "language": "C", "typeref": "typename:pthread_mutex_t", "kind": "variable"}, {"_type": "tag", "name": "reg_subdoc", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "pattern": "/^pthread_mutex_t reg_subdoc = PTHREAD_MUTEX_INITIALIZER;$/", "language": "C", "typeref": "typename:pthread_mutex_t", "kind": "variable"}, {"_type": "tag", "name": "register_sub_docs", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "pattern": "/^void register_sub_docs(blobRegInfo *bInfo,int NumOfSubdocs, getVersion getv , setVersion setv )$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(blobRegInfo * bInfo,int NumOfSubdocs,getVersion getv,setVersion setv)"}, {"_type": "tag", "name": "removeEntryFromQueue", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "pattern": "/^void removeEntryFromQueue() $/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "removeEntryfromRearEnd", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "pattern": "/^void removeEntryfromRearEnd()$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "resetSubdocVersion", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "pattern": "/^int resetSubdocVersion(char* subdoc_name) {$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(char * subdoc_name)"}, {"_type": "tag", "name": "send_ACK", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "pattern": "/^void send_ACK (char *subdoc_name, uint16_t txid, uint32_t version, unsigned long timeout,char *m/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(char * subdoc_name,uint16_t txid,uint32_t version,unsigned long timeout,char * msg)"}, {"_type": "tag", "name": "send_NACK", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "pattern": "/^void send_NACK (char *subdoc_name, uint16_t txid, uint32_t version, uint16_t ErrCode,char *failu/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(char * subdoc_name,uint16_t txid,uint32_t version,uint16_t ErrCode,char * failureReason)"}, {"_type": "tag", "name": "updateVersion", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "pattern": "/^setVersion updateVersion;$/", "language": "C", "typeref": "typename:setVersion", "kind": "variable"}, {"_type": "tag", "name": "updateVersionAndState", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "pattern": "/^void updateVersionAndState(uint32_t version, int blob_execution_retValue,PblobRegInfo blobUpdate/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(uint32_t version,int blob_execution_retValue,PblobRegInfo blobUpdate)"}, {"_type": "tag", "name": "webconfig_attr", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "pattern": "/^pthread_condattr_t webconfig_attr;$/", "language": "C", "typeref": "typename:pthread_condattr_t", "kind": "variable"}, {"_type": "tag", "name": "webconfig_exec", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "pattern": "/^pthread_mutex_t webconfig_exec = PTHREAD_MUTEX_INITIALIZER;$/", "language": "C", "typeref": "typename:pthread_mutex_t", "kind": "variable"}, {"_type": "tag", "name": "webconfig_exec_completed", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "pattern": "/^pthread_cond_t webconfig_exec_completed = PTHREAD_COND_INITIALIZER;$/", "language": "C", "typeref": "typename:pthread_cond_t", "kind": "variable"}], "hash": "8e65b78a61162899b6d279f6d86c7f43", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdk/components/generic/WebconfigFramework/source/webconfig_framework.c", "fields": [{"name": "PblobRegInfo blobData", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pErr execReturn", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int gNumOfSubdocs", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char[64] mCompMqSlaveName", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char[64] mqEventName", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char[64] multiCompMqEventName", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char[64] process_name", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "queueInfo queueData", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pthread_mutex_t queue_access", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pthread_mutex_t reg_subdoc", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "setVersion updateVersion", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pthread_condattr_t webconfig_attr", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pthread_mutex_t webconfig_exec", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pthread_cond_t webconfig_exec_completed", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"25560": ""}]}