{"is_source_file": true, "format": "Shell script / BitBake recipe", "description": "This file appears to be a BitBake recipe fragment (common in Yocto-based embedded Linux build systems) for building the Go runtime, including dependencies, build flags, and installation instructions.", "external_files": ["Build tools like make.bash", "Source code from src directory", "Various environment scripts and build artifacts"], "external_methods": ["filter(lambda f: not f.startswith('-fdebug-prefix-map'), d.getVar('LDFLAGS').split())", "rm -f", "install", "cp", "find"], "published": ["DEPENDS", "PROVIDES", "DEBUG_PREFIX_MAP", "GOCACHE", "GO_EXTLDFLAGS", "GO_SHLIB_LDFLAGS", "do_configure", "do_compile", "do_install", "FILES", "ALLOW_EMPTY"], "classes": [{"name": "none", "description": "No explicit class definitions; this is a recipe fragment."}], "methods": [{"name": "do_configure", "description": "Placeholder for configuration steps (empty)."}, {"name": "do_configure:libc-musl", "description": "Removes race condition object files during configuration when libc-musl is used."}, {"name": "do_compile", "description": "Builds the Go runtime by setting environment variables and invoking the build script, with optional shared library linking."}, {"name": "do_install", "description": "Installs the built Go runtime and source files into designated directories, cleaning up unnecessary files."}], "calls": ["filter(lambda f: not f.startswith('-fdebug-prefix-map'), d.getVar('LDFLAGS').split())", "rm -f ${S}/src/runtime/race/*.syso", "cd src", "./make.bash --target-only --no-banner std", "export GOTOOLDIR=\"${B}/pkg/tool/native_native\"", "$GOTOOLDIR/go_bootstrap install -linkshared -buildmode=shared ${GO_SHLIB_LDFLAGS} std", "install -d ${D}${libdir}/go/src", "cp --preserve=mode,timestamps -R ${B}/pkg ${D}${libdir}/go/", "rm -rf ${D}${libdir}/go/pkg/${BUILD_GOTUPLE}", "rm -rf ${D}${libdir}/go/pkg/obj/${BUILD_GOTUPLE}", "rm -rf ${D}${libdir}/go/pkg/tool", "rm -rf ${D}${libdir}/go/pkg/obj", "rm -rf ${D}${libdir}/go/pkg/bootstrap", "find src -mindepth 1 -maxdepth 1 -type d | while read srcdir; do cp --preserve=mode,timestamps -R $srcdir ${D}${libdir}/go/src/; done", "find ${D}${libdir}/go/src -depth -type d -name testdata -exec rm -rf {} \\;"], "search-terms": ["go-runtime", "bitbake recipe", "build flags", "dependency", "install directory"], "state": 2, "file_id": 2138, "knowledge_revision": 15286, "git_revision": "", "hash": "bd74faa47c8efef9393b392f0d9899ea", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "openembedded-core/meta/recipes-devtools/go/go-runtime.inc", "revision_history": [{"15286": ""}]}