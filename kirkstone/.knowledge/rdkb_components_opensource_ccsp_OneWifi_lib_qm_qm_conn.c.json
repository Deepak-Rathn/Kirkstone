{"is_source_file": true, "format": "C", "description": "This file implements socket-based communication for a QM (Queuing Manager) system, including server and client connection handling, request and response message processing, and streaming API for persistent communication with auto-reconnect logic.", "external_files": ["log.h", "os.h", "os_time.h", "util.h", "qm_conn.h"], "external_methods": ["log_get_name", "LOG", "LOG_ERR", "LOG_TRACE", "LOG_ERROR", "LOG_DEBUG", "mkdir", "close", "socket", "bind", "listen", "accept", "connect", "read", "write", "free", "calloc", "memcpy", "memset", "strlen", "strscpy", "STRSCPY", "time_monotonic", "errno", "poll", "unlink"], "published": ["qm_conn_server", "qm_conn_accept", "qm_conn_client", "qm_req_init", "qm_req_valid", "qm_conn_write_req", "qm_conn_read_req", "qm_conn_parse_req", "qm_res_init", "qm_res_valid", "qm_conn_write_res", "qm_conn_read_res", "qm_conn_get_status", "qm_data_type_str", "qm_response_str", "qm_error_str", "qm_conn_status_str", "qm_conn_open_fd", "qm_conn_send_fd", "qm_conn_open", "qm_conn_reopen", "qm_conn_check_reconnect", "qm_conn_close", "qm_conn_send_stream", "qm_conn_log_handle", "qm_conn_send_log", "qm_conn_log_close"], "classes": [], "methods": [{"name": "bool qm_conn_accept(int listen_fd,int * accept_fd)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool qm_conn_check_reconnect(qm_conn_t * qc)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool qm_conn_client(int * pfd)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool qm_conn_close(qm_conn_t * qc)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool qm_conn_get_status(qm_response_t * res)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void qm_conn_log_close()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool qm_conn_open(qm_conn_t * qc)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool qm_conn_open_fd(int * fd,qm_response_t * res)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool qm_conn_parse_req(void * buf,int buf_size,qm_request_t * req,char ** topic,void ** data,bool * complete)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool qm_conn_read_req(int fd,qm_request_t * req,char ** topic,void ** data)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool qm_conn_read_res(int fd,qm_response_t * res)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool qm_conn_reopen(qm_conn_t * qc)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool qm_conn_send_custom(qm_data_type_t data_type,qm_compress_t compress,uint32_t flags,char * topic,void * data,int data_size,qm_response_t * res)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool qm_conn_send_direct(qm_compress_t compress,char * topic,void * data,int data_size,qm_response_t * res)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool qm_conn_send_fd(int fd,qm_request_t * req,char * topic,void * data,int data_size,qm_response_t * res)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool qm_conn_send_log(char * msg,qm_response_t * res)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool qm_conn_send_raw(char * topic,void * data,int data_size,qm_response_t * res)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool qm_conn_send_req(qm_request_t * req,char * topic,void * data,int data_size,qm_response_t * res)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool qm_conn_send_stats(void * data,int data_size,qm_response_t * res)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool qm_conn_send_stream(qm_conn_t * qc,qm_request_t * req,char * topic,void * data,int data_size,qm_response_t * res)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool qm_conn_server(int * pfd)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char * qm_conn_status_str(enum qm_res_conn_status x)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool qm_conn_write_req(int fd,qm_request_t * req,char * topic,void * data,int data_size)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool qm_conn_write_res(int fd,qm_response_t * res)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char * qm_data_type_str(enum qm_req_data_type type)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char * qm_error_str(enum qm_res_error x)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void qm_req_init(qm_request_t * req)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool qm_req_valid(qm_request_t * req)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void qm_res_init(qm_response_t * res,qm_request_t * req)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool qm_res_valid(qm_response_t * res)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char * qm_response_str(enum qm_response_type x)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["mkdir", "close", "socket", "bind", "listen", "accept", "connect", "read", "write", "free", "calloc", "memcpy", "memset", "strlen", "strscpy", "STRSCPY", "time_monotonic", "poll", "unlink", "LOG", "LOG_ERR", "LOG_TRACE", "LOG_ERROR", "LOG_DEBUG"], "search-terms": ["qm_conn", "q: socket connection handling", "q: request processing", "q: streaming API", "q: auto-reconnect", "q: UNIX socket path", "q: server", "q: client", "q: message request", "q: message response"], "state": 2, "file_id": 6189, "knowledge_revision": 19289, "git_revision": "", "ctags": [{"_type": "tag", "name": "QM_COMPACT_SEND_SIZE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/qm/qm_conn.c", "pattern": "/^#define QM_COMPACT_SEND_SIZE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "QM_SOCK_DIR", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/qm/qm_conn.c", "pattern": "/^#define QM_SOCK_DIR /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "QM_SOCK_FILENAME", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/qm/qm_conn.c", "pattern": "/^#define QM_SOCK_FILENAME /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "QM_SOCK_MAX_PENDING", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/qm/qm_conn.c", "pattern": "/^#define QM_SOCK_MAX_PENDING /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "qm_conn_accept", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/qm/qm_conn.c", "pattern": "/^bool qm_conn_accept(int listen_fd, int *accept_fd)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(int listen_fd,int * accept_fd)"}, {"_type": "tag", "name": "qm_conn_check_reconnect", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/qm/qm_conn.c", "pattern": "/^bool qm_conn_check_reconnect(qm_conn_t *qc)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(qm_conn_t * qc)"}, {"_type": "tag", "name": "qm_conn_client", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/qm/qm_conn.c", "pattern": "/^bool qm_conn_client(int *pfd)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(int * pfd)"}, {"_type": "tag", "name": "qm_conn_close", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/qm/qm_conn.c", "pattern": "/^bool qm_conn_close(qm_conn_t *qc)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(qm_conn_t * qc)"}, {"_type": "tag", "name": "qm_conn_get_status", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/qm/qm_conn.c", "pattern": "/^bool qm_conn_get_status(qm_response_t *res)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(qm_response_t * res)"}, {"_type": "tag", "name": "qm_conn_log_close", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/qm/qm_conn.c", "pattern": "/^void qm_conn_log_close()$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "qm_conn_log_handle", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/qm/qm_conn.c", "pattern": "/^qm_conn_t qm_conn_log_handle;$/", "language": "C", "typeref": "typename:qm_conn_t", "kind": "variable"}, {"_type": "tag", "name": "qm_conn_open", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/qm/qm_conn.c", "pattern": "/^bool qm_conn_open(qm_conn_t *qc)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(qm_conn_t * qc)"}, {"_type": "tag", "name": "qm_conn_open_fd", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/qm/qm_conn.c", "pattern": "/^bool qm_conn_open_fd(int *fd, qm_response_t *res)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(int * fd,qm_response_t * res)"}, {"_type": "tag", "name": "qm_conn_parse_req", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/qm/qm_conn.c", "pattern": "/^bool qm_conn_parse_req(void *buf, int buf_size, qm_request_t *req, char **topic, void **data, bo/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(void * buf,int buf_size,qm_request_t * req,char ** topic,void ** data,bool * complete)"}, {"_type": "tag", "name": "qm_conn_read_req", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/qm/qm_conn.c", "pattern": "/^bool qm_conn_read_req(int fd, qm_request_t *req, char **topic, void **data)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(int fd,qm_request_t * req,char ** topic,void ** data)"}, {"_type": "tag", "name": "qm_conn_read_res", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/qm/qm_conn.c", "pattern": "/^bool qm_conn_read_res(int fd, qm_response_t *res)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(int fd,qm_response_t * res)"}, {"_type": "tag", "name": "qm_conn_reopen", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/qm/qm_conn.c", "pattern": "/^bool qm_conn_reopen(qm_conn_t *qc)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(qm_conn_t * qc)"}, {"_type": "tag", "name": "qm_conn_send_custom", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/qm/qm_conn.c", "pattern": "/^bool qm_conn_send_custom($/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(qm_data_type_t data_type,qm_compress_t compress,uint32_t flags,char * topic,void * data,int data_size,qm_response_t * res)"}, {"_type": "tag", "name": "qm_conn_send_direct", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/qm/qm_conn.c", "pattern": "/^bool qm_conn_send_direct(qm_compress_t compress, char *topic,$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(qm_compress_t compress,char * topic,void * data,int data_size,qm_response_t * res)"}, {"_type": "tag", "name": "qm_conn_send_fd", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/qm/qm_conn.c", "pattern": "/^bool qm_conn_send_fd(int fd, qm_request_t *req, char *topic, void *data, int data_size, qm_respo/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(int fd,qm_request_t * req,char * topic,void * data,int data_size,qm_response_t * res)"}, {"_type": "tag", "name": "qm_conn_send_log", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/qm/qm_conn.c", "pattern": "/^bool qm_conn_send_log(char *msg, qm_response_t *res)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(char * msg,qm_response_t * res)"}, {"_type": "tag", "name": "qm_conn_send_raw", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/qm/qm_conn.c", "pattern": "/^bool qm_conn_send_raw(char *topic, void *data, int data_size, qm_response_t *res)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(char * topic,void * data,int data_size,qm_response_t * res)"}, {"_type": "tag", "name": "qm_conn_send_req", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/qm/qm_conn.c", "pattern": "/^bool qm_conn_send_req(qm_request_t *req, char *topic, void *data, int data_size, qm_response_t */", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(qm_request_t * req,char * topic,void * data,int data_size,qm_response_t * res)"}, {"_type": "tag", "name": "qm_conn_send_stats", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/qm/qm_conn.c", "pattern": "/^bool qm_conn_send_stats(void *data, int data_size, qm_response_t *res)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(void * data,int data_size,qm_response_t * res)"}, {"_type": "tag", "name": "qm_conn_send_stream", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/qm/qm_conn.c", "pattern": "/^bool qm_conn_send_stream(qm_conn_t *qc, qm_request_t *req, char *topic, void *data, int data_siz/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(qm_conn_t * qc,qm_request_t * req,char * topic,void * data,int data_size,qm_response_t * res)"}, {"_type": "tag", "name": "qm_conn_server", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/qm/qm_conn.c", "pattern": "/^bool qm_conn_server(int *pfd)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(int * pfd)"}, {"_type": "tag", "name": "qm_conn_status_str", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/qm/qm_conn.c", "pattern": "/^char *qm_conn_status_str(enum qm_res_conn_status x)$/", "language": "C", "typeref": "typename:char *", "kind": "function", "signature": "(enum qm_res_conn_status x)"}, {"_type": "tag", "name": "qm_conn_write_req", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/qm/qm_conn.c", "pattern": "/^bool qm_conn_write_req(int fd, qm_request_t *req, char *topic, void *data, int data_size)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(int fd,qm_request_t * req,char * topic,void * data,int data_size)"}, {"_type": "tag", "name": "qm_conn_write_res", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/qm/qm_conn.c", "pattern": "/^bool qm_conn_write_res(int fd, qm_response_t *res)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(int fd,qm_response_t * res)"}, {"_type": "tag", "name": "qm_data_type_str", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/qm/qm_conn.c", "pattern": "/^char *qm_data_type_str(enum qm_req_data_type type)$/", "language": "C", "typeref": "typename:char *", "kind": "function", "signature": "(enum qm_req_data_type type)"}, {"_type": "tag", "name": "qm_error_str", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/qm/qm_conn.c", "pattern": "/^char *qm_error_str(enum qm_res_error x)$/", "language": "C", "typeref": "typename:char *", "kind": "function", "signature": "(enum qm_res_error x)"}, {"_type": "tag", "name": "qm_req_init", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/qm/qm_conn.c", "pattern": "/^void qm_req_init(qm_request_t *req)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(qm_request_t * req)"}, {"_type": "tag", "name": "qm_req_valid", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/qm/qm_conn.c", "pattern": "/^bool qm_req_valid(qm_request_t *req)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(qm_request_t * req)"}, {"_type": "tag", "name": "qm_res_init", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/qm/qm_conn.c", "pattern": "/^void qm_res_init(qm_response_t *res, qm_request_t *req)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(qm_response_t * res,qm_request_t * req)"}, {"_type": "tag", "name": "qm_res_valid", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/qm/qm_conn.c", "pattern": "/^bool qm_res_valid(qm_response_t *res)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(qm_response_t * res)"}, {"_type": "tag", "name": "qm_response_str", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/qm/qm_conn.c", "pattern": "/^char *qm_response_str(enum qm_response_type x)$/", "language": "C", "typeref": "typename:char *", "kind": "function", "signature": "(enum qm_response_type x)"}], "hash": "3eabec091d3a9d8b8f3878b37adcea78", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/OneWifi/lib/qm/qm_conn.c", "fields": [{"name": "qm_conn_t qm_conn_log_handle", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"19289": ""}]}