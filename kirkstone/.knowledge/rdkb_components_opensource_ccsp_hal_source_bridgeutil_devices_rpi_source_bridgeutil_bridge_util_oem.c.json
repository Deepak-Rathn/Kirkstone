{"is_source_file": true, "format": "C", "description": "This source file contains device-specific implementations for setting up network bridges, including functions for MAC address management, IP configuration, and system commands to modify network interface properties. It is intended for OEM/soc layer integration and handles tasks such as assigning MAC addresses, configuring IP addresses, enabling IP forwarding, and pre/post configuration processing for network bridges.", "external_files": ["bridge_util_hal.h", "<netinet/in.h>", "<arpa/inet.h>"], "external_methods": ["access()", "popen()", "fgets()", "strchr()", "strncpy()", "snprintf()", "system()", "inet_addr()", "inet_ntoa()"], "published": ["HandlePreConfigVendor", "HandlePostConfigVendor", "getVendorIfaces"], "classes": [], "methods": [{"name": "int GetCmdOutput(const char * cmd,char * outStr,const int outStrLength)", "description": "Executes a shell command and captures its output into a provided string buffer.", "scope": "", "scopeKind": ""}, {"name": "int isFileExistsAccess(const char * path)", "description": "Checks whether a specific file exists at the given path.", "scope": "", "scopeKind": ""}, {"name": "int GetBaseMacAddress(char * baseMac)", "description": "Retrieves the base MAC address from the network device, choosing between erouter0 or eth0.", "scope": "", "scopeKind": ""}, {"name": "int GetUpdatedMacAddress(const char * baseMac,const int macOffset,char * updatedMac)", "description": "Calculates a new MAC address by adding an offset to a base MAC address.", "scope": "", "scopeKind": ""}, {"name": "int SetMacAddress(const char * ifname,const char * macStr)", "description": "Sets the MAC address for a specified network interface, using either OVS or standard ip link commands.", "scope": "", "scopeKind": ""}, {"name": "int SetIpAddress(const char * ifName)", "description": "Configures the IP address, netmask, and broadcast address for a specified network interface.", "scope": "", "scopeKind": ""}, {"name": "int AssignMacForLanBridge(const char * bridgeName,const int macOffset)", "description": "Calculates and assigns a MAC address to a LAN bridge based on a MAC offset.", "scope": "", "scopeKind": ""}, {"name": "int EnableIPForward(void)", "description": "Enables IPv4 and IPv6 IP forwarding in the Linux kernel.", "scope": "", "scopeKind": ""}, {"name": "int HandlePreConfigVendor(bridgeDetails * bridgeInfo,int InstanceNumber)", "description": "Performs platform-specific operations before creating or modifying a network bridge, such as removing existing OVS bridges.", "scope": "", "scopeKind": ""}, {"name": "int HandlePostConfigVendor(bridgeDetails * bridgeInfo,int InstanceNumber)", "description": "Performs platform-specific configuration after creating or modifying a network bridge, including setting MAC addresses, IP addresses, and enabling IP forwarding, depending on the bridge instance type.", "scope": "", "scopeKind": ""}, {"name": "char * getVendorIfaces()", "description": "Function placeholder to retrieve vendor interfaces, currently returns NULL.", "scope": "", "scopeKind": ""}], "calls": ["GetCmdOutput", "access", "system", "snprintf", "inet_addr", "inet_ntoa"], "search-terms": ["bridge_util_oem.c", "mac address assignment", "IP forwarding", "bridge post configuration", "OEM-specific network setup", "ovs-vsctl", "brctl", "network interface MAC", "HandlePreConfigVendor", "HandlePostConfigVendor"], "state": 2, "file_id": 7011, "knowledge_revision": 20095, "git_revision": "", "ctags": [{"_type": "tag", "name": "AssignMacForLanBridge", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/hal/source/bridgeutil/devices_rpi/source/bridgeutil/bridge_util_oem.c", "pattern": "/^static int AssignMacForLanBridge(const char* bridgeName, const int macOffset)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const char * bridgeName,const int macOffset)"}, {"_type": "tag", "name": "BUF_256", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/hal/source/bridgeutil/devices_rpi/source/bridgeutil/bridge_util_oem.c", "pattern": "/^#define BUF_256 /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "BUF_32", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/hal/source/bridgeutil/devices_rpi/source/bridgeutil/bridge_util_oem.c", "pattern": "/^#define BUF_32 /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "BUF_4096", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/hal/source/bridgeutil/devices_rpi/source/bridgeutil/bridge_util_oem.c", "pattern": "/^#define BUF_4096 /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "BUF_512", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/hal/source/bridgeutil/devices_rpi/source/bridgeutil/bridge_util_oem.c", "pattern": "/^#define BUF_512 /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "EnableIPForward", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/hal/source/bridgeutil/devices_rpi/source/bridgeutil/bridge_util_oem.c", "pattern": "/^static int EnableIPForward (void)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "GetBaseMacAddress", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/hal/source/bridgeutil/devices_rpi/source/bridgeutil/bridge_util_oem.c", "pattern": "/^static int GetBaseMacAddress (char *baseMac)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(char * baseMac)"}, {"_type": "tag", "name": "GetCmdOutput", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/hal/source/bridgeutil/devices_rpi/source/bridgeutil/bridge_util_oem.c", "pattern": "/^static int GetCmdOutput (const char* cmd, char* outStr, const int outStrLength)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const char * cmd,char * outStr,const int outStrLength)"}, {"_type": "tag", "name": "GetUpdatedMacAddress", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/hal/source/bridgeutil/devices_rpi/source/bridgeutil/bridge_util_oem.c", "pattern": "/^static int GetUpdatedMacAddress (const char* baseMac, const int macOffset, char *updatedMac)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const char * baseMac,const int macOffset,char * updatedMac)"}, {"_type": "tag", "name": "HandlePostConfigVendor", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/hal/source/bridgeutil/devices_rpi/source/bridgeutil/bridge_util_oem.c", "pattern": "/^int HandlePostConfigVendor(bridgeDetails *bridgeInfo,int InstanceNumber)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(bridgeDetails * bridgeInfo,int InstanceNumber)"}, {"_type": "tag", "name": "HandlePreConfigVendor", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/hal/source/bridgeutil/devices_rpi/source/bridgeutil/bridge_util_oem.c", "pattern": "/^int HandlePreConfigVendor(bridgeDetails *bridgeInfo,int InstanceNumber)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(bridgeDetails * bridgeInfo,int InstanceNumber)"}, {"_type": "tag", "name": "MAC_ADDR_LEN", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/hal/source/bridgeutil/devices_rpi/source/bridgeutil/bridge_util_oem.c", "pattern": "/^#define MAC_ADDR_LEN /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MAC_LENGTH", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/hal/source/bridgeutil/devices_rpi/source/bridgeutil/bridge_util_oem.c", "pattern": "/^#define MAC_LENGTH /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MAC_STR_LEN", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/hal/source/bridgeutil/devices_rpi/source/bridgeutil/bridge_util_oem.c", "pattern": "/^#define MAC_STR_LEN /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "OVS_ENABLED", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/hal/source/bridgeutil/devices_rpi/source/bridgeutil/bridge_util_oem.c", "pattern": "/^#define OVS_ENABLED /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "PRIVATE_LANBRIDGE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/hal/source/bridgeutil/devices_rpi/source/bridgeutil/bridge_util_oem.c", "pattern": "/^#define PRIVATE_LANBRIDGE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "PSM_IP_CONFIG", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/hal/source/bridgeutil/devices_rpi/source/bridgeutil/bridge_util_oem.c", "pattern": "/^#define PSM_IP_CONFIG /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "PSM_MASK_CONFIG", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/hal/source/bridgeutil/devices_rpi/source/bridgeutil/bridge_util_oem.c", "pattern": "/^#define PSM_MASK_CONFIG /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "RETURN_ERR", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/hal/source/bridgeutil/devices_rpi/source/bridgeutil/bridge_util_oem.c", "pattern": "/^#define RETURN_ERR /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "RETURN_OK", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/hal/source/bridgeutil/devices_rpi/source/bridgeutil/bridge_util_oem.c", "pattern": "/^#define RETURN_OK /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "SUCCESS", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/hal/source/bridgeutil/devices_rpi/source/bridgeutil/bridge_util_oem.c", "pattern": "/^#define SUCCESS /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "SetIpAddress", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/hal/source/bridgeutil/devices_rpi/source/bridgeutil/bridge_util_oem.c", "pattern": "/^static int SetIpAddress (const char* ifName)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const char * ifName)"}, {"_type": "tag", "name": "SetMacAddress", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/hal/source/bridgeutil/devices_rpi/source/bridgeutil/bridge_util_oem.c", "pattern": "/^static int SetMacAddress (const char *ifname, const char* macStr)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const char * ifname,const char * macStr)"}, {"_type": "tag", "name": "UINT8", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/hal/source/bridgeutil/devices_rpi/source/bridgeutil/bridge_util_oem.c", "pattern": "/^#define UINT8 /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "getVendorIfaces", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/hal/source/bridgeutil/devices_rpi/source/bridgeutil/bridge_util_oem.c", "pattern": "/^char *getVendorIfaces()$/", "language": "C", "typeref": "typename:char *", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "isFileExistsAccess", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/hal/source/bridgeutil/devices_rpi/source/bridgeutil/bridge_util_oem.c", "pattern": "/^static int isFileExistsAccess(const char *path)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const char * path)"}], "hash": "eb64de97f7a9a9cf8d2c6e162c4e65b7", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/hal/source/bridgeutil/devices_rpi/source/bridgeutil/bridge_util_oem.c", "revision_history": [{"20095": ""}]}