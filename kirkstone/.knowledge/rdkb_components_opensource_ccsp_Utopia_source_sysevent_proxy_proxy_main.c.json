{"is_source_file": true, "format": "C", "description": "This file implements a sysevent proxy in C that connects to a remote sysevent daemon, proxies events between remote and local sysevent daemons, handles configuration parsing, and manages signal handling for a daemonized process.", "external_files": ["sysevent.h", "libsysevent_internal.h", "ulog/ulog.h"], "external_methods": ["sysevent_open", "sysevent_close", "sysevent_set", "sysevent_get", "sysevent_setnotification", "sysevent_set_options", "sysevent_ping", "sysevent_local_open", "sysevent_set", "sysevent_get"], "published": ["main"], "classes": [], "methods": [{"name": "int daemon_init(void)", "description": "Initializes the process as a daemon by forking, creating a new session, and changing working directory.", "scope": "", "scopeKind": ""}, {"name": "int deinitialize_system(void)", "description": "Performs cleanup operations such as closing sockets, unlinking PID files, and resetting service states.", "scope": "", "scopeKind": ""}, {"name": "void terminate_signal_handler(int signum)", "description": "Handles termination signals to gracefully shut down the proxy.", "scope": "", "scopeKind": ""}, {"name": "void ignore_signal_handler(int signum)", "description": "Handles signals to be ignored, such as SIGPIPE.", "scope": "", "scopeKind": ""}, {"name": "int initialize_system(void)", "description": "Sets up daemon environment, signal handlers, and initial state.", "scope": "", "scopeKind": ""}, {"name": "int connect_to_remote_syseventd(char * remote,remote_syseventd_t * info)", "description": "Establishes connections to the remote sysevent daemon.", "scope": "", "scopeKind": ""}, {"name": "int connect_to_local_syseventd(remote_syseventd_t * info)", "description": "Connects to the local sysevent daemon via UNIX domain socket.", "scope": "", "scopeKind": ""}, {"name": "int parse_line(char * line,char ** tuple)", "description": "Parses configuration lines to extract sysevent tuple names.", "scope": "", "scopeKind": ""}, {"name": "int handle_notifications(void)", "description": "Main loop to handle notifications from the remote sysevent daemon, including pings and processing incoming messages.", "scope": "", "scopeKind": ""}, {"name": "int main(int argc,char ** argv)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["sysevent_open", "sysevent_close", "sysevent_set", "sysevent_get", "sysevent_setnotification", "sysevent_set_options", "sysevent_ping", "sysevent_local_open", "getaddrinfo", "freeaddrinfo", "sleep", "strsignal", "sigaction"], "search-terms": ["sysevent_proxy", "syseventd", "sysevent_open", "sysevent_get", "sysevent_setnotification", "connect_to_remote_syseventd", "sysevent_set", "proxy_main"], "state": 2, "file_id": 7734, "knowledge_revision": 20802, "git_revision": "", "ctags": [{"_type": "tag", "name": "SERVICE_NAME", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/proxy/proxy_main.c", "pattern": "/^#define SERVICE_NAME /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "SYSEVENT_DISCOVER_LOOP_SLEEP_TIME", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/proxy/proxy_main.c", "pattern": "/^#define SYSEVENT_DISCOVER_LOOP_SLEEP_TIME /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "SYSEVENT_PING_RETRIES", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/proxy/proxy_main.c", "pattern": "/^#define SYSEVENT_PING_RETRIES /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "SYSEVENT_PING_TIME", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/proxy/proxy_main.c", "pattern": "/^#define SYSEVENT_PING_TIME /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "SYSEVENT_PROXY_PID_FILE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/proxy/proxy_main.c", "pattern": "/^#define SYSEVENT_PROXY_PID_FILE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "__USE_GNU", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/proxy/proxy_main.c", "pattern": "/^#define __USE_GNU /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "__anon7d92e4e40108", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/proxy/proxy_main.c", "pattern": "/^typedef struct {$/", "file": true, "language": "C", "kind": "struct"}, {"_type": "tag", "name": "connect_to_local_syseventd", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/proxy/proxy_main.c", "pattern": "/^static int connect_to_local_syseventd(remote_syseventd_t* info)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(remote_syseventd_t * info)"}, {"_type": "tag", "name": "connect_to_remote_syseventd", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/proxy/proxy_main.c", "pattern": "/^static int connect_to_remote_syseventd(char* remote, remote_syseventd_t* info)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(char * remote,remote_syseventd_t * info)"}, {"_type": "tag", "name": "daemon_init", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/proxy/proxy_main.c", "pattern": "/^static int daemon_init(void)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "deinitialize_system", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/proxy/proxy_main.c", "pattern": "/^static int deinitialize_system(void)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "event_name", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/proxy/proxy_main.c", "pattern": "/^static char *event_name = NULL;$/", "file": true, "language": "C", "typeref": "typename:char *", "kind": "variable"}, {"_type": "tag", "name": "fd", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/proxy/proxy_main.c", "pattern": "/^   int     fd;$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "member", "scope": "__anon7d92e4e40108", "scopeKind": "struct"}, {"_type": "tag", "name": "handle_notifications", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/proxy/proxy_main.c", "pattern": "/^static int handle_notifications(void)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "ignore_signal_handler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/proxy/proxy_main.c", "pattern": "/^static void ignore_signal_handler (int signum)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(int signum)"}, {"_type": "tag", "name": "initialize_system", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/proxy/proxy_main.c", "pattern": "/^static int initialize_system(void)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "local_syseventd", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/proxy/proxy_main.c", "pattern": "/^static remote_syseventd_t local_syseventd;$/", "file": true, "language": "C", "typeref": "typename:remote_syseventd_t", "kind": "variable"}, {"_type": "tag", "name": "main", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/proxy/proxy_main.c", "pattern": "/^int main (int argc, char** argv) $/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(int argc,char ** argv)"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/proxy/proxy_main.c", "pattern": "/^   char    name[256];$/", "file": true, "language": "C", "typeref": "typename:char[256]", "kind": "member", "scope": "__anon7d92e4e40108", "scopeKind": "struct"}, {"_type": "tag", "name": "parse_line", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/proxy/proxy_main.c", "pattern": "/^int parse_line(char* line, char** tuple)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(char * line,char ** tuple)"}, {"_type": "tag", "name": "query_fd", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/proxy/proxy_main.c", "pattern": "/^   int     query_fd;$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "member", "scope": "__anon7d92e4e40108", "scopeKind": "struct"}, {"_type": "tag", "name": "query_token", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/proxy/proxy_main.c", "pattern": "/^   token_t query_token;$/", "file": true, "language": "C", "typeref": "typename:token_t", "kind": "member", "scope": "__anon7d92e4e40108", "scopeKind": "struct"}, {"_type": "tag", "name": "remote_syseventd", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/proxy/proxy_main.c", "pattern": "/^static remote_syseventd_t remote_syseventd;$/", "file": true, "language": "C", "typeref": "typename:remote_syseventd_t", "kind": "variable"}, {"_type": "tag", "name": "remote_syseventd_host", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/proxy/proxy_main.c", "pattern": "/^static char* remote_syseventd_host; $/", "file": true, "language": "C", "typeref": "typename:char *", "kind": "variable"}, {"_type": "tag", "name": "remote_syseventd_t", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/proxy/proxy_main.c", "pattern": "/^} remote_syseventd_t;$/", "file": true, "language": "C", "typeref": "struct:__anon7d92e4e40108", "kind": "typedef"}, {"_type": "tag", "name": "terminate_signal_handler", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/proxy/proxy_main.c", "pattern": "/^static void terminate_signal_handler (int signum)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(int signum)"}, {"_type": "tag", "name": "token", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/Utopia/source/sysevent/proxy/proxy_main.c", "pattern": "/^   token_t token;$/", "file": true, "language": "C", "typeref": "typename:token_t", "kind": "member", "scope": "__anon7d92e4e40108", "scopeKind": "struct"}], "hash": "c71d44c44dfe1154f281154f46339da1", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/Utopia/source/sysevent/proxy/proxy_main.c", "fields": [{"name": "char * event_name", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int fd", "scope": "__anon7d92e4e40108", "scopeKind": "struct", "description": "unavailable"}, {"name": "remote_syseventd_t local_syseventd", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char[256] name", "scope": "__anon7d92e4e40108", "scopeKind": "struct", "description": "unavailable"}, {"name": "int query_fd", "scope": "__anon7d92e4e40108", "scopeKind": "struct", "description": "unavailable"}, {"name": "token_t query_token", "scope": "__anon7d92e4e40108", "scopeKind": "struct", "description": "unavailable"}, {"name": "remote_syseventd_t remote_syseventd", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char * remote_syseventd_host", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "token_t token", "scope": "__anon7d92e4e40108", "scopeKind": "struct", "description": "unavailable"}], "revision_history": [{"20802": ""}]}