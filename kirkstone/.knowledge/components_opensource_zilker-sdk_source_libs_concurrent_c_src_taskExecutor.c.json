{"is_source_file": true, "format": "C", "description": "This file implements a task executor in C using a blocking queue and pthreads. It manages task scheduling, execution, cleanup, and thread lifecycle for a serial task queue (like a single-threaded thread pool).", "external_files": ["icBlockingQueue.h", "taskExecutor.h", "threadUtils.h"], "external_methods": ["blockingQueueCreate", "blockingQueueDestroy", "blockingQueueClear", "blockingQueuePushTimeout", "blockingQueuePopTimeout", "blockingQueueCount", "blockingQueueDisable", "createThread", "pthread_mutex_init", "pthread_mutex_lock", "pthread_mutex_unlock", "pthread_mutex_destroy", "pthread_join"], "published": ["createTaskExecutor", "destroyTaskExecutor", "drainAndDestroyTaskExecutor", "clearTaskExecutor", "appendTaskToExecutor", "getTaskExecutorQueueCount"], "classes": [{"name": "_icTaskExecutor", "description": "Opaque structure representing the task executor instance."}, {"name": "taskContainer", "description": "Structure that encapsulates a scheduled task, including its execution and cleanup functions, and associated data."}], "methods": [{"name": "icTaskExecutor * createTaskExecutor()", "description": "Initializes and returns a new task executor with its queue, mutex, and worker thread.", "scope": "", "scopeKind": ""}, {"name": "void destroyTaskExecutor(icTaskExecutor * executor)", "description": "Cleans up and releases resources associated with the task executor, ensuring all tasks are finished or canceled.", "scope": "", "scopeKind": ""}, {"name": "void drainAndDestroyTaskExecutor(icTaskExecutor * executor)", "description": "Waits for the queued tasks to finish, then destroys the executor.", "scope": "", "scopeKind": ""}, {"name": "void clearTaskExecutor(icTaskExecutor * executor)", "description": "Clears all queued tasks without executing them.", "scope": "", "scopeKind": ""}, {"name": "bool appendTaskToExecutor(icTaskExecutor * executor,void * taskObj,void * taskArg,taskExecRunFunc runFunc,taskExecFreeFunc freeFunc)", "description": "Adds a new task to the executor's queue with specified execution and cleanup functions.", "scope": "", "scopeKind": ""}, {"name": "uint16_t getTaskExecutorQueueCount(icTaskExecutor * executor)", "description": "Returns the number of remaining tasks in the queue.", "scope": "", "scopeKind": ""}, {"name": "void * execWorkerThread(void * arg)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void freeQueueItemsFunc(void * item)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void freeTaskContainer(taskContainer * container)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void internalDestroy(icTaskExecutor * executor)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["blockingQueueCreate", "blockingQueueDestroy", "blockingQueueClear", "blockingQueuePushTimeout", "blockingQueuePopTimeout", "blockingQueueCount", "blockingQueueDisable", "createThread", "pthread_mutex_lock", "pthread_mutex_unlock", "pthread_mutex_init", "pthread_mutex_destroy", "pthread_join"], "search-terms": ["taskExecutor", "concurrent", "thread pool", "task queue", "sync", "pthread", "queue management", "task scheduling"], "state": 2, "file_id": 883, "knowledge_revision": 14041, "git_revision": "", "ctags": [{"_type": "tag", "name": "MAX_QUEUE_SIZE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/taskExecutor.c", "pattern": "/^#define MAX_QUEUE_SIZE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "TASK_EXEC_STATE_CANCEL", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/taskExecutor.c", "pattern": "/^    TASK_EXEC_STATE_CANCEL,     \\/\\/ canceling$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon0ec28c770103", "scopeKind": "enum"}, {"_type": "tag", "name": "TASK_EXEC_STATE_FINISH", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/taskExecutor.c", "pattern": "/^    TASK_EXEC_STATE_FINISH,     \\/\\/ finalizing (wait for all to finish)$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon0ec28c770103", "scopeKind": "enum"}, {"_type": "tag", "name": "TASK_EXEC_STATE_RUN", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/taskExecutor.c", "pattern": "/^    TASK_EXEC_STATE_RUN,        \\/\\/ normal state$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon0ec28c770103", "scopeKind": "enum"}, {"_type": "tag", "name": "__anon0ec28c770103", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/taskExecutor.c", "pattern": "/^typedef enum {$/", "file": true, "language": "C", "kind": "enum"}, {"_type": "tag", "name": "_icTaskExecutor", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/taskExecutor.c", "pattern": "/^struct _icTaskExecutor$/", "file": true, "language": "C", "kind": "struct"}, {"_type": "tag", "name": "_taskContainer", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/taskExecutor.c", "pattern": "/^typedef struct _taskContainer {$/", "file": true, "language": "C", "kind": "struct"}, {"_type": "tag", "name": "appendTaskToExecutor", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/taskExecutor.c", "pattern": "/^bool appendTaskToExecutor(icTaskExecutor *executor, void *taskObj, void *taskArg,$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(icTaskExecutor * executor,void * taskObj,void * taskArg,taskExecRunFunc runFunc,taskExecFreeFunc freeFunc)"}, {"_type": "tag", "name": "clearTaskExecutor", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/taskExecutor.c", "pattern": "/^void clearTaskExecutor(icTaskExecutor *executor)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(icTaskExecutor * executor)"}, {"_type": "tag", "name": "createTaskExecutor", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/taskExecutor.c", "pattern": "/^icTaskExecutor *createTaskExecutor()$/", "language": "C", "typeref": "typename:icTaskExecutor *", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "destroyTaskExecutor", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/taskExecutor.c", "pattern": "/^void destroyTaskExecutor(icTaskExecutor *executor)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(icTaskExecutor * executor)"}, {"_type": "tag", "name": "drainAndDestroyTaskExecutor", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/taskExecutor.c", "pattern": "/^void drainAndDestroyTaskExecutor(icTaskExecutor *executor)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(icTaskExecutor * executor)"}, {"_type": "tag", "name": "execMutex", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/taskExecutor.c", "pattern": "/^    pthread_mutex_t execMutex;  \\/\\/ mutex for this instance$/", "file": true, "language": "C", "typeref": "typename:pthread_mutex_t", "kind": "member", "scope": "_icTaskExecutor", "scopeKind": "struct"}, {"_type": "tag", "name": "execThread", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/taskExecutor.c", "pattern": "/^    pthread_t       execThread; \\/\\/ processing thread$/", "file": true, "language": "C", "typeref": "typename:pthread_t", "kind": "member", "scope": "_icTaskExecutor", "scopeKind": "struct"}, {"_type": "tag", "name": "execWorkerThread", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/taskExecutor.c", "pattern": "/^static void *execWorkerThread(void *arg)$/", "file": true, "language": "C", "typeref": "typename:void *", "kind": "function", "signature": "(void * arg)"}, {"_type": "tag", "name": "freeFunc", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/taskExecutor.c", "pattern": "/^    taskExecFreeFunc freeFunc;$/", "file": true, "language": "C", "typeref": "typename:taskExecFreeFunc", "kind": "member", "scope": "_taskContainer", "scopeKind": "struct"}, {"_type": "tag", "name": "freeQueueItemsFunc", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/taskExecutor.c", "pattern": "/^static void freeQueueItemsFunc(void *item)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void * item)"}, {"_type": "tag", "name": "freeTaskContainer", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/taskExecutor.c", "pattern": "/^static void freeTaskContainer(taskContainer *container)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(taskContainer * container)"}, {"_type": "tag", "name": "getTaskExecutorQueueCount", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/taskExecutor.c", "pattern": "/^uint16_t getTaskExecutorQueueCount(icTaskExecutor *executor)$/", "language": "C", "typeref": "typename:uint16_t", "kind": "function", "signature": "(icTaskExecutor * executor)"}, {"_type": "tag", "name": "icTaskExecState", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/taskExecutor.c", "pattern": "/^} icTaskExecState;$/", "file": true, "language": "C", "typeref": "enum:__anon0ec28c770103", "kind": "typedef"}, {"_type": "tag", "name": "internalDestroy", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/taskExecutor.c", "pattern": "/^static void internalDestroy(icTaskExecutor *executor)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(icTaskExecutor * executor)"}, {"_type": "tag", "name": "queue", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/taskExecutor.c", "pattern": "/^    icBlockingQueue *queue;     \\/\\/ queue to hold taskContainers$/", "file": true, "language": "C", "typeref": "typename:icBlockingQueue *", "kind": "member", "scope": "_icTaskExecutor", "scopeKind": "struct"}, {"_type": "tag", "name": "runFunc", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/taskExecutor.c", "pattern": "/^    taskExecRunFunc  runFunc;$/", "file": true, "language": "C", "typeref": "typename:taskExecRunFunc", "kind": "member", "scope": "_taskContainer", "scopeKind": "struct"}, {"_type": "tag", "name": "state", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/taskExecutor.c", "pattern": "/^    icTaskExecState state;      \\/\\/ current state$/", "file": true, "language": "C", "typeref": "typename:icTaskExecState", "kind": "member", "scope": "_icTaskExecutor", "scopeKind": "struct"}, {"_type": "tag", "name": "taskArg", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/taskExecutor.c", "pattern": "/^    void    *taskArg;$/", "file": true, "language": "C", "typeref": "typename:void *", "kind": "member", "scope": "_taskContainer", "scopeKind": "struct"}, {"_type": "tag", "name": "taskContainer", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/taskExecutor.c", "pattern": "/^} taskContainer;$/", "file": true, "language": "C", "typeref": "struct:_taskContainer", "kind": "typedef"}, {"_type": "tag", "name": "taskObj", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/taskExecutor.c", "pattern": "/^    void    *taskObj;$/", "file": true, "language": "C", "typeref": "typename:void *", "kind": "member", "scope": "_taskContainer", "scopeKind": "struct"}], "hash": "572cd5246de1e491c5666487f472b1a7", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "components/opensource/zilker-sdk/source/libs/concurrent/c/src/taskExecutor.c", "fields": [{"name": "pthread_mutex_t execMutex", "scope": "_icTaskExecutor", "scopeKind": "struct", "description": "unavailable"}, {"name": "pthread_t execThread", "scope": "_icTaskExecutor", "scopeKind": "struct", "description": "unavailable"}, {"name": "taskExecFreeFunc freeFunc", "scope": "_taskContainer", "scopeKind": "struct", "description": "unavailable"}, {"name": "icBlockingQueue * queue", "scope": "_icTaskExecutor", "scopeKind": "struct", "description": "unavailable"}, {"name": "taskExecRunFunc runFunc", "scope": "_taskContainer", "scopeKind": "struct", "description": "unavailable"}, {"name": "icTaskExecState state", "scope": "_icTaskExecutor", "scopeKind": "struct", "description": "unavailable"}, {"name": "void * taskArg", "scope": "_taskContainer", "scopeKind": "struct", "description": "unavailable"}, {"name": "void * taskObj", "scope": "_taskContainer", "scopeKind": "struct", "description": "unavailable"}], "revision_history": [{"14041": ""}]}