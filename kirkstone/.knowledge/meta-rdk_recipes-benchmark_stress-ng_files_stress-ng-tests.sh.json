{"is_source_file": true, "format": "shell script", "description": "This file is a shell script used to execute various stress testing routines using stress-ng on a device. It defines global variables, utility functions for logging, teardown, and multiple specific stress test functions covering CPU, memory, disk, scheduler, thermal, page faults, network, IPC, signals, system calls, files, pipes, and combined stress tests. The script initializes environment setup, runs the stress tests sequentially, and performs cleanup, including log uploads.", "external_files": ["/lib/rdk/capture-proc-metrics.sh", "/lib/rdk/rdk_oss_uploadSTBLogs.sh", "/etc/device.properties", "/etc/stress-ng.conf"], "external_methods": ["capture-proc-metrics.sh", "rdk_oss_uploadSTBLogs.sh"], "published": [], "classes": [], "methods": [{"name": "log", "description": "Appends timestamped log entries to the main log file."}, {"name": "tearDown", "description": "Performs cleanup tasks like stopping metrics capture, removing workspaces, and logging the end of stress tests."}, {"name": "logUptime", "description": "Logs system uptime to the log file."}, {"name": "logMem", "description": "Logs system memory information to the log file."}, {"name": "execAndRedirectOut", "description": "Executes a command, logs start/end, captures system metrics before and after the command execution."}, {"name": "cpuStressTest", "description": "Runs CPU stress tests with different configurations based on device name."}, {"name": "cpuLongRunTest", "description": "Runs a prolonged CPU stress test on all CPUs."}, {"name": "diskIOTests", "description": "Performs disk I/O stress testing."}, {"name": "schedulerTests", "description": "Runs scheduler-related stress tests."}, {"name": "memStressTest", "description": "Executes various memory stress tests."}, {"name": "thermalZoneTests", "description": "Attempts thermal zone temperature stress testing, currently with debug info."}, {"name": "pageFaultTests", "description": "Performs page fault related stress tests, with device-specific logic."}, {"name": "timerTests", "description": "Runs various timer-related stress tests."}, {"name": "networkTests", "description": "Performs network stress testing."}, {"name": "runAllTests", "description": "Executes a comprehensive set of stress tests sequentially."}, {"name": "memoryPressureTest", "description": "Simulates memory pressure and OOM conditions."}, {"name": "pipeTests", "description": "Performs pipe I/O stress testing."}, {"name": "fileTests", "description": "Performs filesystem stress testing."}, {"name": "ipcTests", "description": "Tests inter-process communication mechanisms."}, {"name": "signalTests", "description": "Stress tests related to signals handling."}, {"name": "systemcallTests", "description": "Exercises system calls and process creation."}, {"name": "getStressExeSize", "description": "Logs the size of the stress-ng executable."}, {"name": "init", "description": "Performs environment setup, initializes logs, runs some initial stress tests, and prepares for main testing."}], "calls": ["capture-proc-metrics.sh start", "capture-proc-metrics.sh end", "capture-proc-metrics.sh <test>", "/lib/rdk/rdk_oss_uploadSTBLogs.sh"], "search-terms": ["stress-ng", "stress-ng-tests.sh", "cpu stress", "memory stress", "disk I/O", "filesystem stress", "thermal zone", "page faults", "network stress", "IPC stress", "signal stress", "system call stress", "stress test initialization", "device.properties", "lib/rdk/capture-proc-metrics.sh"], "state": 2, "file_id": 110, "knowledge_revision": 13300, "git_revision": "", "hash": "bb87ade52fce79267b7c8753ddbd4074", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "meta-rdk/recipes-benchmark/stress-ng/files/stress-ng-tests.sh", "revision_history": [{"13300": ""}]}