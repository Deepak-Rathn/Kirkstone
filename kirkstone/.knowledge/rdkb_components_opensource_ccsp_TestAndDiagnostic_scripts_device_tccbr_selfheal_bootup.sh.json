{"is_source_file": false, "format": "shell script (sh)", "description": "This file is a shell script used for self-healing and diagnostics on a network device. It performs various checks such as interface configuration, process status, system uptime, and network connectivity, and initiates reboots or configuration resets if certain conditions fail.", "external_files": ["/lib/rdk/utils.sh", "/etc/log_timestamp.sh", "/usr/bin/telemetry2_0_client", "/usr/ccsp/tad/selfheal_bootup.sh", "/var/dnsmasq.conf", "/tmp/", "/nvram/self_healreboot", "/tmp/pam_initialized", "/nvram/self_healreboot"], "external_methods": ["getWanInterfaceName", "removeCron", "syscfg get", "syscfg set", "syscfg commit", "dmcli eRT setvalues", "dmcli eRT getv", "sysevent get", "sysevent set", "iptables-save", "busybox pidof", "ping_peer", "rpcclient", "touch", "rm -rf", "mkdir -p", "grep", "cat", "date"], "published": [], "classes": [], "methods": [{"name": "t2CountNotify", "description": "Sends a telemetry notification with a given marker for counting certain events, such as ping failures."}, {"name": "t2ValNotify", "description": "Sends a telemetry notification with a marker and additional values."}, {"name": "checkCaptivePortal", "description": "Checks whether the captive portal should be enabled based on various system flags and network responses, and sets configuration accordingly."}, {"name": "getDateTime", "description": "Returns the current date and time with microsecond precision."}, {"name": "resetNeeded", "description": "Restarts a specified process and performs captive portal configuration checks."}, {"name": "setRebootreason", "description": "Sets the reason and count for system reboot in system configuration."}], "calls": ["getWanInterfaceName", "removeCron", "syscfg get", "syscfg set", "syscfg commit", "dmcli eRT setvalues", "dmcli eRT getv", "sysevent get", "sysevent set", "iptables-save", "ping_peer", "rpcclient", "touch", "rm -rf", "mkdir -p", "grep", "cat", "date", "$T2_MSG_CLIENT"], "search-terms": ["selfheal_bootup", "NetworkInterfaceCheck", "ProcessMonitoring", "SystemReboot", "CaptivePortal", "Diagnostics", "PingCheck", "CRProcess", "PsmProcess", "sysevent", "dnsmasq", "brlan0"], "state": 2, "file_id": 9083, "knowledge_revision": 22101, "git_revision": "", "hash": "219d3780878b228fdb96a6701f376975", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/TestAndDiagnostic/scripts/device/tccbr/selfheal_bootup.sh", "revision_history": [{"22101": ""}]}