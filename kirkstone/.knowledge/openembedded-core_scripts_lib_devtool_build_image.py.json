{"is_source_file": true, "format": "Python", "description": "This is a Python script defining a devtool plugin for building images within a software development environment, specifically for the 'build-image' subcommand. It includes functions for retrieving package data, building images, handling configuration, and registering command-line subcommands.", "external_files": ["bb.process", "devtool", "bb.data", "bb.utils"], "external_methods": ["bb.process.ExecutionError", "devtool.exec_build_env_command", "devtool.setup_tinfoil", "devtool.parse_recipe", "bb.data.inherits_class", "bb.utils.mkdirhier"], "published": ["build_image", "register_commands"], "classes": [{"name": "TargetNotImageError", "description": "Custom exception class indicating that a recipe is not an image recipe."}], "methods": [{"name": "_get_packages(tinfoil, workspace, config)", "description": "Retrieves a list of package recipes from the workspace based on the provided configuration and tinfoil environment.", "scope": "", "scopeKind": ""}, {"name": "build_image(args, config, basepath, workspace)", "description": "Main entry point for the 'build-image' subcommand, orchestrating image building or error reporting.", "scope": "", "scopeKind": ""}, {"name": "build_image_task(config, basepath, workspace, image, add_packages=None, task=None, extra_append=None)", "description": "Performs the actual build process for an image, managing configuration, environment, and invoking the build commands.", "scope": "", "scopeKind": ""}, {"name": "register_commands(subparsers, context)", "description": "Registers the 'build-image' subcommand with the command-line parser, including its arguments and help descriptions.", "scope": "", "scopeKind": ""}], "calls": ["parse_recipe", "setup_tinfoil", "bb.data.inherits_class", "os.path.join", "os.path.splitext", "os.path.basename", "os.unlink", "bb.utils.mkdirhier", "exec_build_env_command", "print", "logger.warning", "logger.info"], "search-terms": ["build-image", "devtool plugin", "image recipe", "build configuration", "packaging", "OE/Yocto build", "bitbake"], "state": 2, "file_id": 1464, "knowledge_revision": 14616, "git_revision": "", "ctags": [{"_type": "tag", "name": "TargetNotImageError", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/scripts/lib/devtool/build_image.py", "pattern": "/^class TargetNotImageError(Exception):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_get_packages", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/scripts/lib/devtool/build_image.py", "pattern": "/^def _get_packages(tinfoil, workspace, config):$/", "language": "Python", "kind": "function", "signature": "(tinfoil, workspace, config)"}, {"_type": "tag", "name": "build_image", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/scripts/lib/devtool/build_image.py", "pattern": "/^def build_image(args, config, basepath, workspace):$/", "language": "Python", "kind": "function", "signature": "(args, config, basepath, workspace)"}, {"_type": "tag", "name": "build_image_task", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/scripts/lib/devtool/build_image.py", "pattern": "/^def build_image_task(config, basepath, workspace, image, add_packages=None, task=None, extra_app/", "language": "Python", "kind": "function", "signature": "(config, basepath, workspace, image, add_packages=None, task=None, extra_append=None)"}, {"_type": "tag", "name": "logger", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/scripts/lib/devtool/build_image.py", "pattern": "/^logger = logging.getLogger('devtool')$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "register_commands", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/scripts/lib/devtool/build_image.py", "pattern": "/^def register_commands(subparsers, context):$/", "language": "Python", "kind": "function", "signature": "(subparsers, context)"}], "hash": "66ed9dc64f5a26f02fd49afef907f9c4", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "openembedded-core/scripts/lib/devtool/build_image.py", "fields": [{"name": "logger = logging.getLogger('devtool')", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"14616": ""}]}