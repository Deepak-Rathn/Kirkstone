{"is_source_file": true, "format": "C", "description": "This file manages radio traffic data harvesting for a hardware device, including functions for retrieving radio interface details, managing harvesting periods, multithreaded harvesting process, and data collection for reporting purposes.", "external_files": ["harvester_radio_traffic.h", "harvester_avro.h", "ccsp_harvesterLog_wrapper.h", "report_common.h", "safec_lib_common.h", "harvester_associated_devices.h", "secure_wrapper.h", "harvester_rbus_api.h", "// conditionally included with RDK_ONEWIFI"], "external_methods": ["wifi_getSSIDMACAddress", "wifi_getRadioIfName", "wifi_getRadioEnable", "wifi_getRadioChannel", "wifi_getRadioOperatingFrequencyBand", "wifi_getRadioOperatingChannelBandwidth", "wifi_getRadioTrafficStats2", "rbus_getStringValue", "rbus_getBoolValue", "rbus_getUInt32Value", "rbus_wifi_getRadioTrafficStats2", "SetRISPollingPeriodInNVRAM", "SetRISReportingPeriodInNVRAM", "GetCurrentTimeInSecond", "getTimeOffsetFromUtc"], "published": ["isvalueininRISarray", "StartRadioTrafficHarvesting", "setRISCurrentTimeFromDmCli", "add_to_rt_list", "print_rt_list", "delete_rt_list", "GetRadioTrafficData", "SetRISHarvestingStatus", "GetRISHarvestingStatus", "SetRISReportingPeriod", "GetRISReportingPeriod", "SetRISPollingPeriod", "GetRISPollingPeriod", "ValidateRISPeriod", "SetRISReportingPeriodDefault", "GetRISReportingPeriodDefault", "SetRISPollingPeriodDefault", "GetRISPollingPeriodDefault", "GetRISOverrideTTL", "SetRISOverrideTTL", "GetRISOverrideTTLDefault"], "classes": [], "methods": [{"name": "isvalueininRISarray", "description": "Checks if a value exists in the given array of ULONGs.", "parameters": ["ULONG val", "ULONG *arr", "int size"]}, {"name": "void * StartRadioTrafficHarvesting(void * arg)", "description": "Thread function that periodically collects radio traffic data when harvesting is enabled.", "scope": "", "scopeKind": ""}, {"name": "setRISCurrentTimeFromDmCli", "description": "Sets current time based on DM CLI command (implementation not shown)."}, {"name": "int add_to_rt_list(int radioIndex,BOOL enabled,char * freqband,ULONG channel,char * opchanbw,wifi_radioTrafficStats2_t * radiotrafficdata)", "description": "Adds radio traffic data for a specific radio interface to the internal list.", "scope": "", "scopeKind": ""}, {"name": "void print_rt_list()", "description": "Prints the current radio traffic data list for debug purposes.", "scope": "", "scopeKind": ""}, {"name": "void delete_rt_list()", "description": "Cleans and frees the radio traffic data list.", "scope": "", "scopeKind": ""}, {"name": "int GetRadioTrafficData(int radioIndex)", "description": "Retrieves radio interface info and traffic statistics, and adds it to the list.", "scope": "", "scopeKind": ""}, {"name": "int SetRISHarvestingStatus(BOOL status)", "description": "Enables or disables radio traffic harvesting, starting/stopping the harvesting thread accordingly.", "scope": "", "scopeKind": ""}, {"name": "BOOL GetRISHarvestingStatus()", "description": "Returns whether harvesting is active.", "scope": "", "scopeKind": ""}, {"name": "int SetRISReportingPeriod(ULONG interval)", "description": "Sets the reporting period for radio traffic data collection.", "scope": "", "scopeKind": ""}, {"name": "ULONG GetRISReportingPeriod()", "description": "Returns the current reporting period.", "scope": "", "scopeKind": ""}, {"name": "int SetRISPollingPeriod(ULONG interval)", "description": "Sets the polling period for radio traffic data collection and signals the harvesting thread.", "scope": "", "scopeKind": ""}, {"name": "ULONG GetRISPollingPeriod()", "description": "Returns the current polling period.", "scope": "", "scopeKind": ""}, {"name": "BOOL ValidateRISPeriod(ULONG interval)", "description": "Checks if a given period is within the set of valid radio traffic periods.", "scope": "", "scopeKind": ""}, {"name": "int SetRISReportingPeriodDefault(ULONG interval)", "description": "Sets the default reporting period value.", "scope": "", "scopeKind": ""}, {"name": "ULONG GetRISReportingPeriodDefault()", "description": "Returns the default reporting period value.", "scope": "", "scopeKind": ""}, {"name": "int SetRISPollingPeriodDefault(ULONG interval)", "description": "Sets the default polling period value.", "scope": "", "scopeKind": ""}, {"name": "ULONG GetRISPollingPeriodDefault()", "description": "Returns the default polling period value.", "scope": "", "scopeKind": ""}, {"name": "ULONG GetRISOverrideTTL()", "description": "Returns the current override TTL for reporting.", "scope": "", "scopeKind": ""}, {"name": "int SetRISOverrideTTL(ULONG count)", "description": "Sets the override TTL value.", "scope": "", "scopeKind": ""}, {"name": "void _rtsyscmd(FILE * f,char * retBuf,int retBufSize)", "description": "Executes a command and captures its output into retBuf.", "scope": "", "scopeKind": ""}, {"name": "ULONG GetRISOverrideTTLDefault()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void WaitForPthreadConditionTimeoutRIS()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int getRadioBssid(int radioIndex,char * radio_BSSID)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "BOOL isvalueinRISarray(ULONG val,ULONG * arr,int size)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["wifi_getRadioEnable", "wifi_getRadioChannel", "wifi_getRadioOperatingFrequencyBand", "wifi_getRadioOperatingChannelBandwidth", "wifi_getRadioTrafficStats2", "rbus_getStringValue", "rbus_getBoolValue", "rbus_getUInt32Value", "rbus_wifi_getRadioTrafficStats2", "SetRISPollingPeriodInNVRAM", "SetRISReportingPeriodInNVRAM", "GetCurrentTimeInSecond", "getTimeOffsetFromUtc"], "search-terms": ["RadioTraffic", "harvester_radio_traffic", "RIS", "radio traffic data", "harvesting thread", "Radio BSSID", "RADIO", "radio traffic polling"], "state": 2, "file_id": 5653, "knowledge_revision": 18770, "git_revision": "", "ctags": [{"_type": "tag", "name": "GetRISHarvestingStatus", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "pattern": "/^BOOL GetRISHarvestingStatus()$/", "language": "C", "typeref": "typename:BOOL", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "GetRISOverrideTTL", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "pattern": "/^ULONG GetRISOverrideTTL()$/", "language": "C", "typeref": "typename:ULONG", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "GetRISOverrideTTLDefault", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "pattern": "/^ULONG GetRISOverrideTTLDefault()$/", "language": "C", "typeref": "typename:ULONG", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "GetRISPollingPeriod", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "pattern": "/^ULONG GetRISPollingPeriod()$/", "language": "C", "typeref": "typename:ULONG", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "GetRISPollingPeriodDefault", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "pattern": "/^ULONG GetRISPollingPeriodDefault()$/", "language": "C", "typeref": "typename:ULONG", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "GetRISReportingPeriod", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "pattern": "/^ULONG GetRISReportingPeriod()$/", "language": "C", "typeref": "typename:ULONG", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "GetRISReportingPeriodDefault", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "pattern": "/^ULONG GetRISReportingPeriodDefault()$/", "language": "C", "typeref": "typename:ULONG", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "GetRadioTrafficData", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "pattern": "/^int GetRadioTrafficData(int radioIndex)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(int radioIndex)"}, {"_type": "tag", "name": "RISHarvesterStatus", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "pattern": "/^BOOL RISHarvesterStatus = FALSE;$/", "language": "C", "typeref": "typename:BOOL", "kind": "variable"}, {"_type": "tag", "name": "RISOverrideTTL", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "pattern": "/^ULONG RISOverrideTTL = 300;$/", "language": "C", "typeref": "typename:ULONG", "kind": "variable"}, {"_type": "tag", "name": "RISOverrideTTLDefault", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "pattern": "/^ULONG RISOverrideTTLDefault = 300;$/", "language": "C", "typeref": "typename:ULONG", "kind": "variable"}, {"_type": "tag", "name": "RISPollingPeriod", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "pattern": "/^ULONG RISPollingPeriod = DEFAULT_POLLING_INTERVAL;$/", "language": "C", "typeref": "typename:ULONG", "kind": "variable"}, {"_type": "tag", "name": "RISPollingPeriodDefault", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "pattern": "/^ULONG RISPollingPeriodDefault = DEFAULT_REPORTING_INTERVAL;$/", "language": "C", "typeref": "typename:ULONG", "kind": "variable"}, {"_type": "tag", "name": "RISReportingPeriod", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "pattern": "/^ULONG RISReportingPeriod = DEFAULT_REPORTING_INTERVAL;$/", "language": "C", "typeref": "typename:ULONG", "kind": "variable"}, {"_type": "tag", "name": "RISReportingPeriodDefault", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "pattern": "/^ULONG RISReportingPeriodDefault = DEFAULT_POLLING_INTERVAL;$/", "language": "C", "typeref": "typename:ULONG", "kind": "variable"}, {"_type": "tag", "name": "RadioBSSID", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "pattern": "/^char RadioBSSID[MAX_NUM_RADIOS][19] = {{0}};$/", "language": "C", "typeref": "typename:char[][19]", "kind": "variable"}, {"_type": "tag", "name": "RadioTrafficPeriods", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "pattern": "/^ULONG RadioTrafficPeriods[13] = {1,5,15,30,60,300,900,1800,3600,10800,21600,43200,86400};$/", "language": "C", "typeref": "typename:ULONG[13]", "kind": "variable"}, {"_type": "tag", "name": "SetRISHarvestingStatus", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "pattern": "/^int SetRISHarvestingStatus(BOOL status)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(BOOL status)"}, {"_type": "tag", "name": "SetRISOverrideTTL", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "pattern": "/^int SetRISOverrideTTL(ULONG count)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(ULONG count)"}, {"_type": "tag", "name": "SetRISPollingPeriod", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "pattern": "/^int SetRISPollingPeriod(ULONG interval)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(ULONG interval)"}, {"_type": "tag", "name": "SetRISPollingPeriodDefault", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "pattern": "/^int SetRISPollingPeriodDefault(ULONG interval)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(ULONG interval)"}, {"_type": "tag", "name": "SetRISReportingPeriod", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "pattern": "/^int SetRISReportingPeriod(ULONG interval)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(ULONG interval)"}, {"_type": "tag", "name": "SetRISReportingPeriodDefault", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "pattern": "/^int SetRISReportingPeriodDefault(ULONG interval)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(ULONG interval)"}, {"_type": "tag", "name": "StartRadioTrafficHarvesting", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "pattern": "/^void* StartRadioTrafficHarvesting( void *arg )$/", "language": "C", "typeref": "typename:void *", "kind": "function", "signature": "(void * arg)"}, {"_type": "tag", "name": "ValidateRISPeriod", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "pattern": "/^BOOL ValidateRISPeriod(ULONG interval)$/", "language": "C", "typeref": "typename:BOOL", "kind": "function", "signature": "(ULONG interval)"}, {"_type": "tag", "name": "WaitForPthreadConditionTimeoutRIS", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "pattern": "/^static void WaitForPthreadConditionTimeoutRIS()$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "_rtsyscmd", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "pattern": "/^void _rtsyscmd(FILE *f, char *retBuf, int retBufSize)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(FILE * f,char * retBuf,int retBufSize)"}, {"_type": "tag", "name": "add_to_rt_list", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "pattern": "/^int add_to_rt_list(int radioIndex, BOOL enabled, char* freqband, ULONG channel, char* opchanbw, /", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(int radioIndex,BOOL enabled,char * freqband,ULONG channel,char * opchanbw,wifi_radioTrafficStats2_t * radiotrafficdata)"}, {"_type": "tag", "name": "bufferRIR", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "pattern": "/^char bufferRIR[72] = {'\\\\0'};$/", "language": "C", "typeref": "typename:char[72]", "kind": "variable"}, {"_type": "tag", "name": "currentRISReportingPeriod", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "pattern": "/^ULONG currentRISReportingPeriod = 0;$/", "language": "C", "typeref": "typename:ULONG", "kind": "variable"}, {"_type": "tag", "name": "delete_rt_list", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "pattern": "/^void delete_rt_list()$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getRadioBssid", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "pattern": "/^int getRadioBssid(int radioIndex, char* radio_BSSID)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(int radioIndex,char * radio_BSSID)"}, {"_type": "tag", "name": "isvalueinRISarray", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "pattern": "/^BOOL isvalueinRISarray(ULONG val, ULONG *arr, int size)$/", "language": "C", "typeref": "typename:BOOL", "kind": "function", "signature": "(ULONG val,ULONG * arr,int size)"}, {"_type": "tag", "name": "print_rt_list", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "pattern": "/^void print_rt_list()$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "rIndex", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "pattern": "/^static struct radiotrafficdata rIndex[MAX_NUM_RADIOS];$/", "file": true, "language": "C", "typeref": "struct:radiotrafficdata[]", "kind": "variable"}, {"_type": "tag", "name": "risCond", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "pattern": "/^static pthread_cond_t risCond = PTHREAD_COND_INITIALIZER;$/", "file": true, "language": "C", "typeref": "typename:pthread_cond_t", "kind": "variable"}, {"_type": "tag", "name": "risMutex", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "pattern": "/^static pthread_mutex_t risMutex = PTHREAD_MUTEX_INITIALIZER;$/", "file": true, "language": "C", "typeref": "typename:pthread_mutex_t", "kind": "variable"}], "hash": "896ed8fb611026dc710a8f7f1f79e908", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/generic/harvester/source/HarvesterSsp/harvester_radio_traffic.c", "fields": [{"name": "BOOL RISHarvesterStatus", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ULONG RISOverrideTTL", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ULONG RISOverrideTTLDefault", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ULONG RISPollingPeriod", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ULONG RISPollingPeriodDefault", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ULONG RISReportingPeriod", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ULONG RISReportingPeriodDefault", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char[][19] RadioBSSID", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ULONG[13] RadioTrafficPeriods", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char[72] bufferRIR", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ULONG currentRISReportingPeriod", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "struct:radiotrafficdata[] rIndex", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pthread_cond_t risCond", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pthread_mutex_t risMutex", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"18770": ""}]}