{"is_source_file": true, "format": "Python", "description": "This script is used for relocating SDK binaries by updating their interpreter paths and dynamic loader paths. It processes ELF binaries to modify interpreter sections and system directory paths, aiding in SDK installation customization.", "external_files": ["struct", "sys", "stat", "os", "re", "errno"], "external_methods": ["struct.unpack", "sys.version", "sys.version_info", "os.stat", "os.access", "os.chmod", "os.path.getsize", "open"], "published": [], "classes": [], "methods": [{"name": "get_arch()", "description": "Determines whether the binary is 32-bit or 64-bit ELF based on its ELF header.", "scope": "", "scopeKind": ""}, {"name": "parse_elf_header()", "description": "Reads and unpacks ELF header information such as type, machine, version, entry point, section headers, etc.", "scope": "", "scopeKind": ""}, {"name": "change_interpreter(elf_file_name)", "description": "Locates the PT_INTERP section in ELF binaries and updates the interpreter path to a new specified path.", "scope": "", "scopeKind": ""}, {"name": "change_dl_sysdirs(elf_file_name)", "description": "Modifies the paths for ld.so.cache and system directories within ELF binaries, replacing old prefix paths with new specified ones.", "scope": "", "scopeKind": ""}, {"name": "b(x)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["struct.unpack", "sys.version", "sys.version_info", "os.stat", "os.access", "os.chmod", "os.path.getsize", "f.seek", "f.read", "f.write"], "search-terms": ["relocate_sdk", "ELF interpreter", "ld.so.cache", "system directories ELF", "dynamic loader path", "SDK binary relocation", "elf header parsing", "sysdirs section", "system path patching"], "state": 2, "file_id": 1526, "knowledge_revision": 14686, "git_revision": "", "ctags": [{"_type": "tag", "name": "arch", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/scripts/relocate_sdk.py", "pattern": "/^        arch = get_arch()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "b", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/scripts/relocate_sdk.py", "pattern": "/^    def b(x):$/", "language": "Python", "kind": "function", "signature": "(x)"}, {"_type": "tag", "name": "change_dl_sysdirs", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/scripts/relocate_sdk.py", "pattern": "/^def change_dl_sysdirs(elf_file_name):$/", "language": "Python", "kind": "function", "signature": "(elf_file_name)"}, {"_type": "tag", "name": "change_interpreter", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/scripts/relocate_sdk.py", "pattern": "/^def change_interpreter(elf_file_name):$/", "language": "Python", "kind": "function", "signature": "(elf_file_name)"}, {"_type": "tag", "name": "errors", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/scripts/relocate_sdk.py", "pattern": "/^                errors = True$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "errors", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/scripts/relocate_sdk.py", "pattern": "/^errors = False$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "exctype", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/scripts/relocate_sdk.py", "pattern": "/^        exctype, ioex = sys.exc_info()[:2]$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "executables_list", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/scripts/relocate_sdk.py", "pattern": "/^executables_list = sys.argv[3:]$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "get_arch", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/scripts/relocate_sdk.py", "pattern": "/^def get_arch():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "ioex", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/scripts/relocate_sdk.py", "pattern": "/^        exctype, ioex = sys.exc_info()[:2]$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "new_dl_path", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/scripts/relocate_sdk.py", "pattern": "/^    new_dl_path = sys.argv[2]$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "new_dl_path", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/scripts/relocate_sdk.py", "pattern": "/^    new_dl_path = sys.argv[2].encode()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "new_prefix", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/scripts/relocate_sdk.py", "pattern": "/^    new_prefix = sys.argv[1]$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "old_prefix", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/scripts/relocate_sdk.py", "pattern": "/^old_prefix = re.compile(b(\"##DEFAULT_INSTALL_DIR##\"))$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "old_size", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/scripts/relocate_sdk.py", "pattern": "/^    old_size = os.path.getsize(e)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "parse_elf_header", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/scripts/relocate_sdk.py", "pattern": "/^def parse_elf_header():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "perms", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/scripts/relocate_sdk.py", "pattern": "/^        perms = None$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "perms", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/scripts/relocate_sdk.py", "pattern": "/^    perms = os.stat(e)[stat.ST_MODE]$/", "language": "Python", "kind": "variable"}], "hash": "bcbe09331f986d5c7066e99251564f31", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "openembedded-core/scripts/relocate_sdk.py", "fields": [{"name": "arch = get_arch()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "errors = True", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "errors = False", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "exctype, ioex = sys.exc_info()[:2]", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "executables_list = sys.argv[3:]", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "new_dl_path = sys.argv[2]", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "new_dl_path = sys.argv[2].encode()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "new_prefix = sys.argv[1]", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "old_prefix = re.compile(b(\"##DEFAULT_INSTALL_DIR##\"))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "old_size = os.path.getsize(e)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "perms = None", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "perms = os.stat(e)[stat.ST_MODE]", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"14686": ""}]}