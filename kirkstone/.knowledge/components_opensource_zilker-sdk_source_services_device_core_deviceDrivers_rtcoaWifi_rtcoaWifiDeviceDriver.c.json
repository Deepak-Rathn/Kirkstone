{"is_source_file": true, "format": "C", "description": "This file implements a device driver for RTCoA WiFi thermostats, including device discovery, configuration, resource reading/writing, event callbacks, and lifecycle management within an IoT framework.", "external_files": ["deviceDriver.h", "deviceModelHelper.h", "rtcoaWifiDeviceDriver.h", "commonDeviceDefs.h", "uuid/uuid.h", "icLog/logging.h", "icUtil/macAddrUtils.h", "rtcoaWifi/rtcoaWifi.h", "resourceTypes.h", "icBuildtime.h"], "external_methods": ["rtcoaWifiThermostatStartMonitoring", "rtcoaWifiThermostatStopMonitoring", "rtcoaWifiThermostatStartDiscovery", "rtcoaWifiThermostatStopDiscovery", "rtcoaWifiThermostatStateGetState", "rtcoaWifiThermostatStateDestroyState", "rtcoaWifiThermostatSetSimpleMode", "rtcoaWifiThermostatSetMode", "rtcoaWifiThermostatSetCoolSetpoint", "rtcoaWifiThermostatSetHeatSetpoint", "macAddrToUUID"], "published": ["rtcoaWifiDeviceDriverInitialize"], "classes": [], "methods": [{"name": "DeviceDriver * rtcoaWifiDeviceDriverInitialize(DeviceServiceCallbacks * deviceService)", "description": "Initializes the RTCoA WiFi thermostat device driver and sets up callback functions for device lifecycle management.", "parameters": ["DeviceServiceCallbacks *deviceService"], "scope": "", "scopeKind": ""}, {"name": "void startupDriver(void * ctx)", "description": "Starts monitoring existing thermostats and initializes driver components.", "parameters": ["void *ctx"], "scope": "", "scopeKind": ""}, {"name": "void shutdownDriver(void * ctx)", "description": "Shuts down the driver and releases allocated resources.", "parameters": ["void *ctx"], "scope": "", "scopeKind": ""}, {"name": "bool discoverStart(void * ctx,const char * deviceClass)", "description": "Begins discovery of thermostats on the network.", "parameters": ["void *ctx", "const char *deviceClass"], "scope": "", "scopeKind": ""}, {"name": "void discoverStop(void * ctx,const char * deviceClass)", "description": "Stops discovery and cleans up pending device list.", "parameters": ["void *ctx", "const char *deviceClass"], "scope": "", "scopeKind": ""}, {"name": "void deviceRemoved(void * ctx,icDevice * device)", "description": "Handles removal of a device from the network.", "parameters": ["void *ctx", "icDevice *device"], "scope": "", "scopeKind": ""}, {"name": "bool configureDevice(void * ctx,icDevice * device,DeviceDescriptor * descriptor)", "description": "Configures a discovered device by creating resources and starting monitoring.", "parameters": ["void *ctx", "icDevice *device", "DeviceDescriptor *descriptor"], "scope": "", "scopeKind": ""}, {"name": "bool readResource(void * ctx,icDeviceResource * resource,char ** value)", "description": "Reads a resource value; currently cached, so returns false.", "parameters": ["void *ctx", "icDeviceResource *resource", "char **value"], "scope": "", "scopeKind": ""}, {"name": "bool writeResource(void * ctx,icDeviceResource * resource,const char * previousValue,const char * newValue)", "description": "Writes a new value to a resource, often by sending commands to the physical device.", "parameters": ["void *ctx", "icDeviceResource *resource", "const char *previousValue", "const char *newValue"], "scope": "", "scopeKind": ""}, {"name": "void thermostatDiscoveredCallback(const char * macAddress,const char * ipAddress)", "description": "Callback invoked when a thermostat device is discovered on the network.", "parameters": ["const char *macAddress", "const char *ipAddress"], "scope": "", "scopeKind": ""}, {"name": "void thermostatStateChangedCallback(const char * macAddress,const char * ipAddress)", "description": "Callback invoked when thermostat state changes; updates resources.", "parameters": ["const char *macAddress", "const char *ipAddress"], "scope": "", "scopeKind": ""}, {"name": "void thermostatIpChangedCallback(const char * macAddress,const char * newIpAddress)", "description": "Callback invoked when a thermostat's IP address changes.", "parameters": ["const char *macAddress", "const char *newIpAddress"], "scope": "", "scopeKind": ""}, {"name": "void pendingTstatFreeFunc(void * key,void * val)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void processDeviceDescriptor(void * ctx,icDevice * device,DeviceDescriptor * dd)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["rtcoaWifiThermostatStartMonitoring", "rtcoaWifiThermostatStopMonitoring", "rtcoaWifiThermostatStartDiscovery", "rtcoaWifiThermostatStopDiscovery", "rtcoaWifiThermostatStateGetState", "rtcoaWifiThermostatStateDestroyState", "rtcoaWifiThermostatSetSimpleMode", "rtcoaWifiThermostatSetMode", "rtcoaWifiThermostatSetCoolSetpoint", "rtcoaWifiThermostatSetHeatSetpoint", "macAddrToUUID"], "search-terms": ["rtcoaWifiDeviceDriver", "thermostatDiscovery", "deviceConfig", "WiFiThermostat", "deviceResource", "deviceDriver", "discoveryStart", "discoveryStop", "monitoringCallback", "deviceRemoval"], "state": 2, "file_id": 1001, "knowledge_revision": 14156, "git_revision": "", "ctags": [{"_type": "tag", "name": "CURL_RETRY_COUNT", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/rtcoaWifi/rtcoaWifiDeviceDriver.c", "pattern": "/^#define CURL_RETRY_COUNT /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "CURL_RETRY_SLEEP_MICROSECONDS", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/rtcoaWifi/rtcoaWifiDeviceDriver.c", "pattern": "/^#define CURL_RETRY_SLEEP_MICROSECONDS /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "DEVICE_CLASS_VERSION", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/rtcoaWifi/rtcoaWifiDeviceDriver.c", "pattern": "/^#define DEVICE_CLASS_VERSION /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "DEVICE_DRIVER_NAME", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/rtcoaWifi/rtcoaWifiDeviceDriver.c", "pattern": "/^#define DEVICE_DRIVER_NAME /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "LOG_TAG", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/rtcoaWifi/rtcoaWifiDeviceDriver.c", "pattern": "/^#define LOG_TAG /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MANUFACTURER", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/rtcoaWifi/rtcoaWifiDeviceDriver.c", "pattern": "/^#define MANUFACTURER /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MODEL", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/rtcoaWifi/rtcoaWifiDeviceDriver.c", "pattern": "/^#define MODEL /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "PendingTstat", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/rtcoaWifi/rtcoaWifiDeviceDriver.c", "pattern": "/^} PendingTstat;$/", "file": true, "language": "C", "typeref": "struct:__anon096e8f440108", "kind": "typedef"}, {"_type": "tag", "name": "__anon096e8f440108", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/rtcoaWifi/rtcoaWifiDeviceDriver.c", "pattern": "/^{$/", "file": true, "language": "C", "kind": "struct"}, {"_type": "tag", "name": "configureDevice", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/rtcoaWifi/rtcoaWifiDeviceDriver.c", "pattern": "/^static bool configureDevice(void *ctx, icDevice *device, DeviceDescriptor *descriptor)$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(void * ctx,icDevice * device,DeviceDescriptor * descriptor)"}, {"_type": "tag", "name": "deviceDriver", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/rtcoaWifi/rtcoaWifiDeviceDriver.c", "pattern": "/^static DeviceDriver *deviceDriver = NULL;$/", "file": true, "language": "C", "typeref": "typename:DeviceDriver *", "kind": "variable"}, {"_type": "tag", "name": "deviceRemoved", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/rtcoaWifi/rtcoaWifiDeviceDriver.c", "pattern": "/^static void deviceRemoved(void *ctx, icDevice *device)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void * ctx,icDevice * device)"}, {"_type": "tag", "name": "deviceServiceCallbacks", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/rtcoaWifi/rtcoaWifiDeviceDriver.c", "pattern": "/^static DeviceServiceCallbacks *deviceServiceCallbacks = NULL;$/", "file": true, "language": "C", "typeref": "typename:DeviceServiceCallbacks *", "kind": "variable"}, {"_type": "tag", "name": "discoverStart", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/rtcoaWifi/rtcoaWifiDeviceDriver.c", "pattern": "/^static bool discoverStart(void *ctx, const char *deviceClass)$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(void * ctx,const char * deviceClass)"}, {"_type": "tag", "name": "discoverStop", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/rtcoaWifi/rtcoaWifiDeviceDriver.c", "pattern": "/^static void discoverStop(void *ctx, const char *deviceClass)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void * ctx,const char * deviceClass)"}, {"_type": "tag", "name": "ipAddress", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/rtcoaWifi/rtcoaWifiDeviceDriver.c", "pattern": "/^    char *ipAddress;$/", "file": true, "language": "C", "typeref": "typename:char *", "kind": "member", "scope": "__anon096e8f440108", "scopeKind": "struct"}, {"_type": "tag", "name": "macAddress", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/rtcoaWifi/rtcoaWifiDeviceDriver.c", "pattern": "/^    char *macAddress;$/", "file": true, "language": "C", "typeref": "typename:char *", "kind": "member", "scope": "__anon096e8f440108", "scopeKind": "struct"}, {"_type": "tag", "name": "pendingTstatFreeFunc", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/rtcoaWifi/rtcoaWifiDeviceDriver.c", "pattern": "/^static void pendingTstatFreeFunc(void *key, void *val)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void * key,void * val)"}, {"_type": "tag", "name": "pendingTstats", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/rtcoaWifi/rtcoaWifiDeviceDriver.c", "pattern": "/^icHashMap *pendingTstats = NULL;$/", "language": "C", "typeref": "typename:icHashMap *", "kind": "variable"}, {"_type": "tag", "name": "pendingTstatsMutex", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/rtcoaWifi/rtcoaWifiDeviceDriver.c", "pattern": "/^static pthread_mutex_t pendingTstatsMutex = PTHREAD_MUTEX_INITIALIZER;$/", "file": true, "language": "C", "typeref": "typename:pthread_mutex_t", "kind": "variable"}, {"_type": "tag", "name": "processDeviceDescriptor", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/rtcoaWifi/rtcoaWifiDeviceDriver.c", "pattern": "/^static void processDeviceDescriptor(void *ctx, icDevice *device, DeviceDescriptor *dd)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void * ctx,icDevice * device,DeviceDescriptor * dd)"}, {"_type": "tag", "name": "readResource", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/rtcoaWifi/rtcoaWifiDeviceDriver.c", "pattern": "/^static bool readResource(void *ctx, icDeviceResource *resource, char **value)$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(void * ctx,icDeviceResource * resource,char ** value)"}, {"_type": "tag", "name": "rtcoaWifiDeviceDriverInitialize", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/rtcoaWifi/rtcoaWifiDeviceDriver.c", "pattern": "/^DeviceDriver *rtcoaWifiDeviceDriverInitialize(DeviceServiceCallbacks *deviceService)$/", "language": "C", "typeref": "typename:DeviceDriver *", "kind": "function", "signature": "(DeviceServiceCallbacks * deviceService)"}, {"_type": "tag", "name": "shutdownDriver", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/rtcoaWifi/rtcoaWifiDeviceDriver.c", "pattern": "/^static void shutdownDriver(void *ctx)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void * ctx)"}, {"_type": "tag", "name": "startupDriver", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/rtcoaWifi/rtcoaWifiDeviceDriver.c", "pattern": "/^static void startupDriver(void *ctx)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void * ctx)"}, {"_type": "tag", "name": "thermostatDiscoveredCallback", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/rtcoaWifi/rtcoaWifiDeviceDriver.c", "pattern": "/^static void thermostatDiscoveredCallback(const char *macAddress, const char *ipAddress)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(const char * macAddress,const char * ipAddress)"}, {"_type": "tag", "name": "thermostatIpChangedCallback", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/rtcoaWifi/rtcoaWifiDeviceDriver.c", "pattern": "/^static void thermostatIpChangedCallback(const char *macAddress, const char *newIpAddress)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(const char * macAddress,const char * newIpAddress)"}, {"_type": "tag", "name": "thermostatStateChangedCallback", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/rtcoaWifi/rtcoaWifiDeviceDriver.c", "pattern": "/^static void thermostatStateChangedCallback(const char *macAddress, const char *ipAddress)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(const char * macAddress,const char * ipAddress)"}, {"_type": "tag", "name": "writeResource", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/rtcoaWifi/rtcoaWifiDeviceDriver.c", "pattern": "/^static bool writeResource(void *ctx, icDeviceResource *resource, const char *previousValue, cons/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(void * ctx,icDeviceResource * resource,const char * previousValue,const char * newValue)"}], "hash": "2635d87f02c038798f1f285862b09608", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "components/opensource/zilker-sdk/source/services/device/core/deviceDrivers/rtcoaWifi/rtcoaWifiDeviceDriver.c", "fields": [{"name": "DeviceDriver * deviceDriver", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "DeviceServiceCallbacks * deviceServiceCallbacks", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char * ipAddress", "scope": "__anon096e8f440108", "scopeKind": "struct", "description": "unavailable"}, {"name": "char * macAddress", "scope": "__anon096e8f440108", "scopeKind": "struct", "description": "unavailable"}, {"name": "icHashMap * pendingTstats", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pthread_mutex_t pendingTstatsMutex", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"14156": ""}]}