{"is_source_file": true, "format": "Python", "description": "This file contains self-test cases for signing functionalities within the oeqa framework, including package signing, sstate archive signing, and locked signatures. It defines classes and methods to execute tests related to GPG signing in the build process.", "external_files": ["oeqa.selftest.case", "oeqa.utils.commands", "oeqa.utils.ftools", "oe", "oe.path", "oeqa.utils.ftools", "oe.packagedata", "oeqa.selftest.case", "oeqa.utils.commands", "oe.path"], "external_methods": ["bitbake", "get_bb_var", "get_bb_vars", "write_file", "runCmd", "create_temp_layer"], "published": ["Signing", "LockedSignatures"], "classes": [{"name": "Signing", "description": "A test case class for verifying signing operations such as package signing and sstate archive signing using GPG in the OE build environment."}, {"name": "LockedSignatures", "description": "A test case class for verifying the mechanism of locked signatures to prevent unintended task re-execution."}], "methods": [{"name": "setup_gpg(self)", "description": "Sets up GPG environment by importing keys and preparing the key directory.", "scope": "Signing", "scopeKind": "class"}, {"name": "create_new_builddir(self, builddir, newbuilddir)", "description": "Creates a new build directory by copying configuration and cache directories, and modifies environment variables temporarily.", "scope": "Signing", "scopeKind": "class"}, {"name": "test_signing_packages(self)", "description": "Tests signing of RPM packages and verification of signature correctness, then builds a minimal image from signed packages.", "scope": "Signing", "scopeKind": "class"}, {"name": "test_signing_sstate_archive(self)", "description": "Tests signing of sstate archives and verifies signature integrity.", "scope": "Signing", "scopeKind": "class"}, {"name": "test_locked_signatures(self)", "description": "Tests the locked signature mechanism, including hash change detection and warning messages.", "scope": "LockedSignatures", "scopeKind": "class"}], "calls": ["bitbake", "runCmd", "get_bb_var", "get_bb_vars", "oe.packagedata.read_pkgdatafile", "shutil.rmtree", "oe.path.copytree", "write_file"], "search-terms": ["signing", "GPG", "rpm", "sstate", "locked signatures", "oeqa", "selftest"], "state": 2, "file_id": 1917, "knowledge_revision": 15060, "git_revision": "", "ctags": [{"_type": "tag", "name": "LockedSignatures", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/signing.py", "pattern": "/^class LockedSignatures(OESelftestTestCase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Signing", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/signing.py", "pattern": "/^class Signing(OESelftestTestCase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "create_new_builddir", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/signing.py", "pattern": "/^    def create_new_builddir(self, builddir, newbuilddir):$/", "language": "Python", "kind": "member", "signature": "(self, builddir, newbuilddir)", "scope": "Signing", "scopeKind": "class"}, {"_type": "tag", "name": "gpg_dir", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/signing.py", "pattern": "/^    gpg_dir = \"\"$/", "language": "Python", "kind": "variable", "scope": "Signing", "scopeKind": "class"}, {"_type": "tag", "name": "pub_key_path", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/signing.py", "pattern": "/^    pub_key_path = \"\"$/", "language": "Python", "kind": "variable", "scope": "Signing", "scopeKind": "class"}, {"_type": "tag", "name": "secret_key_path", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/signing.py", "pattern": "/^    secret_key_path = \"\"$/", "language": "Python", "kind": "variable", "scope": "Signing", "scopeKind": "class"}, {"_type": "tag", "name": "setup_gpg", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/signing.py", "pattern": "/^    def setup_gpg(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "Signing", "scopeKind": "class"}, {"_type": "tag", "name": "test_locked_signatures", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/signing.py", "pattern": "/^    def test_locked_signatures(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "LockedSignatures", "scopeKind": "class"}, {"_type": "tag", "name": "test_signing_packages", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/signing.py", "pattern": "/^    def test_signing_packages(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "Signing", "scopeKind": "class"}, {"_type": "tag", "name": "test_signing_sstate_archive", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/openembedded-core/meta/lib/oeqa/selftest/cases/signing.py", "pattern": "/^    def test_signing_sstate_archive(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "Signing", "scopeKind": "class"}], "hash": "4b411e84e54be36109c17b74511e7c40", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "openembedded-core/meta/lib/oeqa/selftest/cases/signing.py", "fields": [{"name": "gpg_dir = \"\"", "scope": "Signing", "scopeKind": "class", "description": "unavailable"}, {"name": "pub_key_path = \"\"", "scope": "Signing", "scopeKind": "class", "description": "unavailable"}, {"name": "secret_key_path = \"\"", "scope": "Signing", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"15060": ""}]}