{"is_source_file": true, "format": "C", "description": "This C source file implements a firmware sanity checker, which verifies the status of the device's firmware and its connection to the Xconf server. It performs checks such as verifying if the device is a production image, responding to Xconf responses, and interacts with platform hardware abstraction layer functions to set device code image parameters.", "external_files": ["ccsp_trace.h", "platform_hal.h"], "external_methods": ["CcspTraceInfo", "CcspTraceWarning", "CcspTraceError", "platform_hal_SetDeviceCodeImageTimeout", "platform_hal_SetDeviceCodeImageValid"], "published": ["doesFileExist", "isProductionImage", "validXConfResponse", "checkXconfValid"], "classes": [], "methods": [{"name": "BOOLEAN doesFileExist(const char * filename)", "description": "Checks if a specified file exists in the filesystem.", "scope": "", "scopeKind": ""}, {"name": "BOOLEAN isProductionImage()", "description": "Determines whether the current device firmware is a production image by inspecting version files.", "scope": "", "scopeKind": ""}, {"name": "BOOLEAN validXConfResponse()", "description": "Verifies if the Xconf server has responded with a valid firmware filename.", "scope": "", "scopeKind": ""}, {"name": "BOOLEAN checkXconfValid()", "description": "Checks the validity of Xconf response, combining condition of debug override and production status.", "scope": "", "scopeKind": ""}, {"name": "int main(int argc,char * argv[])", "description": "Entry point of the firmware sanity checker process that repeatedly checks Xconf response and updates system state.", "scope": "", "scopeKind": ""}, {"name": "double TimeSpecToSeconds(struct timespec * ts)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["stat", "popen", "pclose", "sleep", "clock_gettime", "strcmp", "fgets", "fprintf", "fflush"], "search-terms": ["FirmwareSanityChecker", "Xconf response validation", "platform HAL functions", "fscMonitor.c", "Firmware version check"], "state": 2, "file_id": 6655, "knowledge_revision": 19752, "git_revision": "", "ctags": [{"_type": "tag", "name": "DATA_SIZE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/FirmwareSanity/source/fscMonitor/fscMonitor.c", "pattern": "/^#define DATA_SIZE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "DEBUG_INI_NAME", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/FirmwareSanity/source/fscMonitor/fscMonitor.c", "pattern": "/^#define DEBUG_INI_NAME /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "FSC_DEBUG_FILE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/FirmwareSanity/source/fscMonitor/fscMonitor.c", "pattern": "/^#define FSC_DEBUG_FILE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "FSC_LOG", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/FirmwareSanity/source/fscMonitor/fscMonitor.c", "pattern": "/^#define FSC_LOG(/", "file": true, "language": "C", "kind": "macro", "signature": "(x,...)"}, {"_type": "tag", "name": "FSC_LOG", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/FirmwareSanity/source/fscMonitor/fscMonitor.c", "pattern": "/^#define FSC_LOG(/", "file": true, "language": "C", "kind": "macro", "signature": "(x,fmt,args...)"}, {"_type": "tag", "name": "FSC_TIMEOUT_VALUE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/FirmwareSanity/source/fscMonitor/fscMonitor.c", "pattern": "/^#define FSC_TIMEOUT_VALUE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "LOG_SEV_ERROR", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/FirmwareSanity/source/fscMonitor/fscMonitor.c", "pattern": "/^    LOG_SEV_ERROR,$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon2fa36f170103", "scopeKind": "enum"}, {"_type": "tag", "name": "LOG_SEV_INFO", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/FirmwareSanity/source/fscMonitor/fscMonitor.c", "pattern": "/^    LOG_SEV_INFO$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon2fa36f170103", "scopeKind": "enum"}, {"_type": "tag", "name": "LOG_SEV_WARN", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/FirmwareSanity/source/fscMonitor/fscMonitor.c", "pattern": "/^    LOG_SEV_WARN,$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon2fa36f170103", "scopeKind": "enum"}, {"_type": "tag", "name": "TimeSpecToSeconds", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/FirmwareSanity/source/fscMonitor/fscMonitor.c", "pattern": "/^static double TimeSpecToSeconds(struct timespec* ts)$/", "file": true, "language": "C", "typeref": "typename:double", "kind": "function", "signature": "(struct timespec * ts)"}, {"_type": "tag", "name": "__anon2fa36f170103", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/FirmwareSanity/source/fscMonitor/fscMonitor.c", "pattern": "/^typedef enum {$/", "file": true, "language": "C", "kind": "enum"}, {"_type": "tag", "name": "bDebugOverride", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/FirmwareSanity/source/fscMonitor/fscMonitor.c", "pattern": "/^BOOLEAN bDebugOverride = FALSE;$/", "language": "C", "typeref": "typename:BOOLEAN", "kind": "variable"}, {"_type": "tag", "name": "bIsProduction", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/FirmwareSanity/source/fscMonitor/fscMonitor.c", "pattern": "/^BOOLEAN bIsProduction = FALSE;$/", "language": "C", "typeref": "typename:BOOLEAN", "kind": "variable"}, {"_type": "tag", "name": "checkXconfValid", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/FirmwareSanity/source/fscMonitor/fscMonitor.c", "pattern": "/^BOOLEAN checkXconfValid()$/", "language": "C", "typeref": "typename:BOOLEAN", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "compName", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/FirmwareSanity/source/fscMonitor/fscMonitor.c", "pattern": "/^char compName[25]=\"LOG.RDK.FSC\";$/", "language": "C", "typeref": "typename:char[25]", "kind": "variable"}, {"_type": "tag", "name": "doesFileExist", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/FirmwareSanity/source/fscMonitor/fscMonitor.c", "pattern": "/^BOOLEAN doesFileExist(const char *filename) {$/", "language": "C", "typeref": "typename:BOOLEAN", "kind": "function", "signature": "(const char * filename)"}, {"_type": "tag", "name": "eLogSeverity", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/FirmwareSanity/source/fscMonitor/fscMonitor.c", "pattern": "/^} eLogSeverity;$/", "file": true, "language": "C", "typeref": "enum:__anon2fa36f170103", "kind": "typedef"}, {"_type": "tag", "name": "isProductionImage", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/FirmwareSanity/source/fscMonitor/fscMonitor.c", "pattern": "/^BOOLEAN isProductionImage()$/", "language": "C", "typeref": "typename:BOOLEAN", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "main", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/FirmwareSanity/source/fscMonitor/fscMonitor.c", "pattern": "/^int main(int argc, char* argv[])$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(int argc,char * argv[])"}, {"_type": "tag", "name": "sampleInterval", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/FirmwareSanity/source/fscMonitor/fscMonitor.c", "pattern": "/^const int sampleInterval = 30;$/", "language": "C", "typeref": "typename:const int", "kind": "variable"}, {"_type": "tag", "name": "timeOffset", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/FirmwareSanity/source/fscMonitor/fscMonitor.c", "pattern": "/^const int timeOffset = 300;$/", "language": "C", "typeref": "typename:const int", "kind": "variable"}, {"_type": "tag", "name": "validXConfResponse", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/FirmwareSanity/source/fscMonitor/fscMonitor.c", "pattern": "/^BOOLEAN validXConfResponse()$/", "language": "C", "typeref": "typename:BOOLEAN", "kind": "function", "signature": "()"}], "hash": "7083fe9d97e0a8845d7ad2ca5aa62c15", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/FirmwareSanity/source/fscMonitor/fscMonitor.c", "fields": [{"name": "BOOLEAN bDebugOverride", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "BOOLEAN bIsProduction", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char[25] compName", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const int sampleInterval", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const int timeOffset", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"19752": ""}]}