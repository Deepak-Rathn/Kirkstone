{"is_source_file": true, "format": "Shell Script (bash/sh)", "description": "This file is a shell script used for installing a Linux image onto a specified device. It automates tasks such as partitioning, formatting, copying files, and configuring boot loaders for installing a root filesystem with EFI support.", "external_files": ["/proc/mounts", "/sys/block/", "/run/media/$1/", "/etc/udev/rules.d/automount.rules", "/etc/udev/scripts/mount*", "/bin/true", "/boot/EFI/BOOT/*.efi", "/boot/loader/entries/*.conf", "/run/media/$1/EFI/BOOT/grub.cfg", "/run/media/$1/loader", "/run/media/$1/esp", "find /run/media/$1/ -name bzImage*", "find /run/media/$1/ -name zImage*", "find /run/media/$1/ -name vmlinux*", "find /run/media/$1/ -name vmlinuz*", "find /run/media/$1/ -name fitImage*"], "external_methods": ["du", "awk", "cat", "ls", "grep", "sed", "cut", "echo", "read", "mount", "umount", "mkfs.vfat", "mkfs.ext4", "mkswap", "parted", "dd", "cp", "blkid", "rm", "reboot", "sleep"], "published": ["PATH", "boot_size", "swap_ratio", "live_dev_name", "devices", "mmc_devices", "hdnamelist", "TARGET_DEVICE_NAME", "device", "disk_size", "swap_size", "rootfs_size", "rootfs_start", "rootfs_end", "swap_start", "rootwait", "part_prefix", "bootfs", "rootfs", "swap", "EFIDIR", "GRUBCFG", "root_part_uuid", "rootuuid"], "classes": [], "methods": [], "calls": ["cat /proc/mounts", "awk '{print $1}'", "du -ms /run/media/$1/", "[ -e /run/media/$1/$2 ]", "du -ms /run/media/$1/$2", "[ -e /run/media/$1/initrd ]", "du -ms /run/media/$1/initrd", "ls /sys/block/", "grep -v mmcblk", "grep \"mmcblk[0-9]\\{1,\\}\"", "grep \"nvme[0-9]*\"", "ls /sys/block/", "grep -v mmcblk", "printf", "grep ${1%/}", "cat /proc/mounts", "ls /sys/block/", "cat /sys/block/$hdname/device/vendor", "cat /sys/block/$hdname/device/model", "cat /sys/block/$hdname/device/uevent", "read answer", "dd if=/dev/zero of=${device} bs=512 count=35", "parted ${device} mklabel gpt", "parted ${device} mkpart boot fat32 0% $boot_size", "parted ${device} set 1 boot on", "parted ${device} mkpart root ext4 $rootfs_start $rootfs_end", "parted ${device} mkpart swap linux-swap $swap_start 100%", "mkfs.vfat $bootfs", "mkfs.ext4 $rootfs", "mkswap $swap", "mount $rootfs /tgt_root", "mount -o rw,loop,noatime,nodiratime /run/media/$1/$2 /src_root", "cp -a /src_root/* /tgt_root", "blkid -o value -s UUID ${bootfs}", "blkid -o value -s PARTUUID ${swap}", "sed -i ...", "sync", "reboot -f"], "search-terms": ["init-install-efi", "EFI", "partitioning", "bootloader", "installation script", "UEFI boot", "Linux installation", "disk setup", "automount", "EFI file copy"], "state": 2, "file_id": 1759, "knowledge_revision": 14919, "git_revision": "", "hash": "a0d322f503a2d7482dd8e70f1ec70e07", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "openembedded-core/meta/recipes-core/initrdscripts/files/init-install-efi.sh", "revision_history": [{"14919": ""}]}