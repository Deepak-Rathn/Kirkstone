{"is_source_file": true, "format": "C", "description": "This file implements a delayed task scheduling utility in C, allowing tasks to be executed after a specified delay or at a specific time of day. It manages background threads, synchronization primitives, and task lifecycle operations such as scheduling, rescheduling, canceling, and forcing execution. The implementation includes data structures for task management, thread routines, and utility functions to handle timing and thread safety.", "external_files": ["icBuildtime.h", "icConcurrent/delayedTask.h", "icConcurrent/timedWait.h", "icTime/timeUtils.h", "icTypes/icLinkedList.h", "icConcurrent/threadUtils.h", "icUtil/stringUtils.h"], "external_methods": ["initTimedWaitCond", "getCurrentTime", "createThread", "linkedListCreate", "linkedListAppend", "linkedListFind", "linkedListDelete", "linkedListCount", "linkedListGetElementAt", "linkedListDestroy", "linkedListIteratorCreate", "linkedListIteratorHasNext", "linkedListIteratorGetNext", "linkedListIteratorDestroy", "standardDoNotFreeFunc", "granularIncrementalCondTimedWait"], "published": ["scheduleDelayTask", "scheduleTimeOfDayTask", "rescheduleDelayTask", "isDelayTaskWaiting", "cancelDelayTask", "exceuteDelayTask"], "classes": [], "methods": [{"name": "uint32_t scheduleDelayTask(uint64_t delayAmount,delayUnits units,taskCallbackFunc func,void * arg)", "description": "Creates and schedules a new delayed task to execute a callback after a specified delay.", "scope": "", "scopeKind": ""}, {"name": "uint32_t scheduleTimeOfDayTask(uint8_t hour,uint8_t min,taskCallbackFunc func,void * arg)", "description": "Schedules a task to run at a specific time of day.", "scope": "", "scopeKind": ""}, {"name": "bool rescheduleDelayTask(uint32_t task,uint64_t delayAmount,delayUnits units)", "description": "Reschedules an existing task with a new delay.", "scope": "", "scopeKind": ""}, {"name": "bool isDelayTaskWaiting(uint32_t task)", "description": "Checks if a task is currently waiting for its delay to expire.", "scope": "", "scopeKind": ""}, {"name": "void * cancelDelayTask(uint32_t task)", "description": "Cancels a waiting task and returns its argument for cleanup.", "scope": "", "scopeKind": ""}, {"name": "bool exceuteDelayTask(uint32_t task)", "description": "Forces immediate execution of a task if it is pending.", "scope": "", "scopeKind": ""}, {"name": "uint32_t assignHandle()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void computeWaitTime(delayedTask * def,struct timespec * waitTime)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void finalizeAllDelayTasks()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool finalizeTaskInternal(delayedTask * obj)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool findDelayedTaskByHandle(void * searchVal,void * item)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "delayedTask * getDelayedTask(uint32_t task)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void listDeleteDelayTask(void * item)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void releaseDelayTask(delayedTask * task)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void * runDelayTaskThread(void * arg)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["getDelayedTask", "assignHandle", "linkedListAppend", "linkedListCreate", "linkedListDelete", "linkedListCount", "createThread", "getCurrentTime", "computeWaitTime", "granularIncrementalCondTimedWait", "finalizeTaskInternal"], "search-terms": ["delayedTask scheduling", "background thread timer", "task rescheduling", "task cancellation", "threaded delayed execution", "time-based callback", "delayed task handle", "scheduling at specific time", "delayed task list management"], "state": 2, "file_id": 884, "knowledge_revision": 14043, "git_revision": "", "ctags": [{"_type": "tag", "name": "DELAY_TASK_CANCELED", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^    DELAY_TASK_CANCELED,    \\/\\/ signal a 'stop waiting', returns to IDLE$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon42c390400103", "scopeKind": "enum"}, {"_type": "tag", "name": "DELAY_TASK_IDLE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^    DELAY_TASK_IDLE,        \\/\\/ prior to 'wait'$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon42c390400103", "scopeKind": "enum"}, {"_type": "tag", "name": "DELAY_TASK_RUNNING", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^    DELAY_TASK_RUNNING,     \\/\\/ executing callback function$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon42c390400103", "scopeKind": "enum"}, {"_type": "tag", "name": "DELAY_TASK_WAITING", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^    DELAY_TASK_WAITING,     \\/\\/ waiting for time to expire$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon42c390400103", "scopeKind": "enum"}, {"_type": "tag", "name": "STATE_MTX", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^static pthread_mutex_t STATE_MTX = PTHREAD_MUTEX_INITIALIZER;$/", "file": true, "language": "C", "typeref": "typename:pthread_mutex_t", "kind": "variable"}, {"_type": "tag", "name": "TASKS_STATE_AVAILABLE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^    TASKS_STATE_AVAILABLE,$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon42c390400203", "scopeKind": "enum"}, {"_type": "tag", "name": "TASKS_STATE_FINALIZING", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^    TASKS_STATE_FINALIZING$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon42c390400203", "scopeKind": "enum"}, {"_type": "tag", "name": "TASK_MTX", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^static pthread_mutex_t  TASK_MTX = PTHREAD_MUTEX_INITIALIZER;$/", "file": true, "language": "C", "typeref": "typename:pthread_mutex_t", "kind": "variable"}, {"_type": "tag", "name": "__anon42c390400103", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^{$/", "file": true, "language": "C", "kind": "enum"}, {"_type": "tag", "name": "__anon42c390400203", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^{$/", "file": true, "language": "C", "kind": "enum"}, {"_type": "tag", "name": "_delayedTask", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^typedef struct _delayedTask$/", "file": true, "language": "C", "kind": "struct"}, {"_type": "tag", "name": "arg", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^    void                *arg;       \\/\\/ optional arg supplied by caller$/", "file": true, "language": "C", "typeref": "typename:void *", "kind": "member", "scope": "_delayedTask", "scopeKind": "struct"}, {"_type": "tag", "name": "assignHandle", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^static uint32_t assignHandle()$/", "file": true, "language": "C", "typeref": "typename:uint32_t", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "callback", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^    taskCallbackFunc    callback;   \\/\\/ function to execute after the delay$/", "file": true, "language": "C", "typeref": "typename:taskCallbackFunc", "kind": "member", "scope": "_delayedTask", "scopeKind": "struct"}, {"_type": "tag", "name": "cancelDelayTask", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^void *cancelDelayTask(uint32_t task)$/", "language": "C", "typeref": "typename:void *", "kind": "function", "signature": "(uint32_t task)"}, {"_type": "tag", "name": "computeWaitTime", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^static void computeWaitTime(delayedTask *def, struct timespec *waitTime)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(delayedTask * def,struct timespec * waitTime)"}, {"_type": "tag", "name": "cond", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^    pthread_cond_t      cond;       \\/\\/ condition used for canceling$/", "file": true, "language": "C", "typeref": "typename:pthread_cond_t", "kind": "member", "scope": "_delayedTask", "scopeKind": "struct"}, {"_type": "tag", "name": "delay", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^    uint64_t            delay;$/", "file": true, "language": "C", "typeref": "typename:uint64_t", "kind": "member", "scope": "_delayedTask", "scopeKind": "struct"}, {"_type": "tag", "name": "delayedTask", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^} delayedTask;$/", "file": true, "language": "C", "typeref": "struct:_delayedTask", "kind": "typedef"}, {"_type": "tag", "name": "exceuteDelayTask", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^bool exceuteDelayTask(uint32_t task)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(uint32_t task)"}, {"_type": "tag", "name": "finalizeAllDelayTasks", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^void finalizeAllDelayTasks()$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "finalizeTaskInternal", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^static bool finalizeTaskInternal(delayedTask *obj)$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(delayedTask * obj)"}, {"_type": "tag", "name": "findDelayedTaskByHandle", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^static bool findDelayedTaskByHandle(void *searchVal, void *item)$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(void * searchVal,void * item)"}, {"_type": "tag", "name": "getDelayedTask", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^static delayedTask* getDelayedTask(uint32_t task)$/", "file": true, "language": "C", "typeref": "typename:delayedTask *", "kind": "function", "signature": "(uint32_t task)"}, {"_type": "tag", "name": "handle", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^    uint32_t            handle;     \\/\\/ identifier returned to callers$/", "file": true, "language": "C", "typeref": "typename:uint32_t", "kind": "member", "scope": "_delayedTask", "scopeKind": "struct"}, {"_type": "tag", "name": "isDelayTaskWaiting", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^extern bool isDelayTaskWaiting(uint32_t task)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(uint32_t task)"}, {"_type": "tag", "name": "joinable", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^    bool                joinable;   \\/\\/ true when run thread should detach or otherwise safe to/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "member", "scope": "_delayedTask", "scopeKind": "struct"}, {"_type": "tag", "name": "listDeleteDelayTask", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^static void listDeleteDelayTask(void *item)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void * item)"}, {"_type": "tag", "name": "mutex", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^    pthread_mutex_t     mutex;      \\/\\/ mutex for the object$/", "file": true, "language": "C", "typeref": "typename:pthread_mutex_t", "kind": "member", "scope": "_delayedTask", "scopeKind": "struct"}, {"_type": "tag", "name": "releaseDelayTask", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^static void releaseDelayTask(delayedTask *task)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(delayedTask * task)"}, {"_type": "tag", "name": "rescheduleDelayTask", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^bool rescheduleDelayTask(uint32_t task, uint64_t delayAmount, delayUnits units)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(uint32_t task,uint64_t delayAmount,delayUnits units)"}, {"_type": "tag", "name": "runDelayTaskThread", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^static void *runDelayTaskThread(void *arg)$/", "file": true, "language": "C", "typeref": "typename:void *", "kind": "function", "signature": "(void * arg)"}, {"_type": "tag", "name": "scheduleDelayTask", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^uint32_t scheduleDelayTask(uint64_t delayAmount, delayUnits units, taskCallbackFunc func, void */", "language": "C", "typeref": "typename:uint32_t", "kind": "function", "signature": "(uint64_t delayAmount,delayUnits units,taskCallbackFunc func,void * arg)"}, {"_type": "tag", "name": "scheduleTimeOfDayTask", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^uint32_t scheduleTimeOfDayTask(uint8_t hour, uint8_t min, taskCallbackFunc func, void *arg)$/", "language": "C", "typeref": "typename:uint32_t", "kind": "function", "signature": "(uint8_t hour,uint8_t min,taskCallbackFunc func,void * arg)"}, {"_type": "tag", "name": "startTime", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^    struct timespec     startTime;  \\/\\/ when timer started$/", "file": true, "language": "C", "typeref": "struct:timespec", "kind": "member", "scope": "_delayedTask", "scopeKind": "struct"}, {"_type": "tag", "name": "state", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^    taskState           state;      \\/\\/ current state$/", "file": true, "language": "C", "typeref": "typename:taskState", "kind": "member", "scope": "_delayedTask", "scopeKind": "struct"}, {"_type": "tag", "name": "state", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^static tasksState state = TASKS_STATE_AVAILABLE;$/", "file": true, "language": "C", "typeref": "typename:tasksState", "kind": "variable"}, {"_type": "tag", "name": "taskState", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^} taskState;$/", "file": true, "language": "C", "typeref": "enum:__anon42c390400103", "kind": "typedef"}, {"_type": "tag", "name": "tasks", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^static icLinkedList     *tasks = NULL;  \\/\\/ list of delayedTask objects$/", "file": true, "language": "C", "typeref": "typename:icLinkedList *", "kind": "variable"}, {"_type": "tag", "name": "tasksState", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^} tasksState;$/", "file": true, "language": "C", "typeref": "enum:__anon42c390400203", "kind": "typedef"}, {"_type": "tag", "name": "tid", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^    pthread_t           tid;        \\/\\/ thread id of the tasks' thread$/", "file": true, "language": "C", "typeref": "typename:pthread_t", "kind": "member", "scope": "_delayedTask", "scopeKind": "struct"}, {"_type": "tag", "name": "units", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "pattern": "/^    delayUnits          units;$/", "file": true, "language": "C", "typeref": "typename:delayUnits", "kind": "member", "scope": "_delayedTask", "scopeKind": "struct"}], "hash": "8b27ccaea84ba1513f6e537c4625b3bc", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "components/opensource/zilker-sdk/source/libs/concurrent/c/src/delayedTask.c", "fields": [{"name": "pthread_mutex_t STATE_MTX", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pthread_mutex_t TASK_MTX", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void * arg", "scope": "_delayedTask", "scopeKind": "struct", "description": "unavailable"}, {"name": "taskCallbackFunc callback", "scope": "_delayedTask", "scopeKind": "struct", "description": "unavailable"}, {"name": "pthread_cond_t cond", "scope": "_delayedTask", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint64_t delay", "scope": "_delayedTask", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint32_t handle", "scope": "_delayedTask", "scopeKind": "struct", "description": "unavailable"}, {"name": "bool joinable", "scope": "_delayedTask", "scopeKind": "struct", "description": "unavailable"}, {"name": "pthread_mutex_t mutex", "scope": "_delayedTask", "scopeKind": "struct", "description": "unavailable"}, {"name": "struct:timespec startTime", "scope": "_delayedTask", "scopeKind": "struct", "description": "unavailable"}, {"name": "taskState state", "scope": "_delayedTask", "scopeKind": "struct", "description": "unavailable"}, {"name": "tasksState state", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "icLinkedList * tasks", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pthread_t tid", "scope": "_delayedTask", "scopeKind": "struct", "description": "unavailable"}, {"name": "delayUnits units", "scope": "_delayedTask", "scopeKind": "struct", "description": "unavailable"}], "revision_history": [{"14043": ""}]}