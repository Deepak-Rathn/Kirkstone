{"is_source_file": true, "format": "C", "description": "This source file implements the handling of IEEE 1905.1 commands, including reassembly of fragmented messages, duplicate detection, forwarding logic, and packet processing callback functions for IEEE 1905.1 network interfaces. It manages the reception, reassembly, and forwarding of CMDUs, as well as maintaining duplicate detection to prevent network storms.", "external_files": ["platform.h", "utils.h", "packet_tools.h", "1905_tlvs.h", "1905_cmdus.h", "1905_l2.h", "lldp_tlvs.h", "lldp_payload.h", "al.h", "al_datamodel.h", "al_send.h", "al_recv.h", "al_utils.h", "platform_interfaces.h", "platform_os.h"], "external_methods": ["parse_1905_CMDU_header_from_packet", "parse_1905_CMDU_from_packets", "visit_lldp_PAYLOAD_structure", "print_callback", "convert_1905_CMDU_type_to_string", "forward1905RawPacket", "PLATFORM_GET_LIST_OF_1905_INTERFACES", "PLATFORM_FREE_LIST_OF_1905_INTERFACES", "PLATFORM_GET_1905_INTERFACE_INFO", "PLATFORM_FREE_1905_INTERFACE_INFO", "DMinterfaceNameToMac", "DMinit", "DMfini", "DMsetMac", "DMmapWholeNetworkSet", "DMinit", "DMfini", "DMsetMac", "DMmapWholeNetworkSet", "acu_mac_string", "maccpy", "maccmp", "DMinterfaceNameToMac", "map_is_loopback_iface", "PLATFORM_GET_1905_INTERFACE_INFO", "PLATFORM_FREE_1905_INTERFACE_INFO", "acu_mac_string", "htons"], "published": ["start1905AL", "stop1905AL"], "classes": [], "methods": [{"name": "uint8_t start1905AL(mac_addr al_mac_address,uint8_t map_whole_network_flag,UNUSED char * registrar_interface,i1905_interface_cb_t interface_cb,al1905_cmdu_cb_t cmdu_cb)", "description": "Initializes the IEEE 1905.1 agent layer with the specified MAC address, interface callback, and CMDU callback. Sets up platform-specific functions and data model.", "scope": "", "scopeKind": ""}, {"name": "void stop1905AL(void)", "description": "Shuts down the IEEE 1905.1 agent layer, freeing resources and resetting internal state.", "scope": "", "scopeKind": ""}, {"name": "uint8_t check_duplicates(uint8_t * src_mac_address,i1905_cmdu_t * c)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void check_forwarding(char * receiving_interface_name,uint8_t * destination_mac_addr,i1905_cmdu_t * c)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void packet_cb(char * if_name,uint8_t * packet,uint16_t packet_len)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "i1905_cmdu_t * reassemble_fragmented_cmdu(uint8_t * packet_buffer,uint16_t len)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["reassemble_fragmented_cmdu", "check_duplicates", "check_forwarding", "parse_1905_CMDU_header_from_packet", "parse_1905_CMDU_from_packets", "free_1905_CMDU_structure", "convert_1905_CMDU_type_to_string", "forward1905RawPacket", "PLATFORM_GET_LIST_OF_1905_INTERFACES", "PLATFORM_FREE_LIST_OF_1905_INTERFACES", "PLATFORM_GET_1905_INTERFACE_INFO", "PLATFORM_FREE_1905_INTERFACE_INFO", "acu_mac_string", "maccpy", "maccmp", "map_is_loopback_iface"], "search-terms": ["ieee1905", "CMDU", "fragment reassembly", "duplicate detection", "1905 MAC addresses", "1905 interface callbacks", "1905 packet processing", "1905 forwarding", "1905 reassembly buffer", "1905 message ID logging"], "state": 2, "file_id": 8645, "knowledge_revision": 21675, "git_revision": "", "ctags": [{"_type": "tag", "name": "LOG_TAG", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/ieee1905/src/al/src_independent/al_entity.c", "pattern": "/^#define LOG_TAG /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MAX_DUPLICATES_LOG_ENTRIES", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/ieee1905/src/al/src_independent/al_entity.c", "pattern": "/^#define MAX_DUPLICATES_LOG_ENTRIES /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MAX_FRAGMENTS_PER_MID", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/ieee1905/src/al/src_independent/al_entity.c", "pattern": "/^#define MAX_FRAGMENTS_PER_MID /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MAX_MIDS_IN_FLIGHT", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/ieee1905/src/al/src_independent/al_entity.c", "pattern": "/^#define MAX_MIDS_IN_FLIGHT /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "__anon6a612b250108", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/ieee1905/src/al/src_independent/al_entity.c", "pattern": "/^typedef struct {$/", "file": true, "language": "C", "kind": "struct"}, {"_type": "tag", "name": "__anon6a612b250208", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/ieee1905/src/al/src_independent/al_entity.c", "pattern": "/^typedef struct {$/", "file": true, "language": "C", "kind": "struct"}, {"_type": "tag", "name": "age", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/ieee1905/src/al/src_independent/al_entity.c", "pattern": "/^    uint32_t age;    \\/* Used to keep track of which is the oldest CMDU for$/", "file": true, "language": "C", "typeref": "typename:uint32_t", "kind": "member", "scope": "mids_in_flight_s", "scopeKind": "struct"}, {"_type": "tag", "name": "check_duplicates", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/ieee1905/src/al/src_independent/al_entity.c", "pattern": "/^static uint8_t check_duplicates(uint8_t *src_mac_address, i1905_cmdu_t *c)$/", "file": true, "language": "C", "typeref": "typename:uint8_t", "kind": "function", "signature": "(uint8_t * src_mac_address,i1905_cmdu_t * c)"}, {"_type": "tag", "name": "check_duplicates_t", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/ieee1905/src/al/src_independent/al_entity.c", "pattern": "/^} check_duplicates_t;$/", "file": true, "language": "C", "typeref": "struct:__anon6a612b250208", "kind": "typedef"}, {"_type": "tag", "name": "check_forwarding", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/ieee1905/src/al/src_independent/al_entity.c", "pattern": "/^static void check_forwarding(char *receiving_interface_name, uint8_t *destination_mac_addr, i190/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(char * receiving_interface_name,uint8_t * destination_mac_addr,i1905_cmdu_t * c)"}, {"_type": "tag", "name": "current_age", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/ieee1905/src/al/src_independent/al_entity.c", "pattern": "/^    uint32_t         current_age;$/", "file": true, "language": "C", "typeref": "typename:uint32_t", "kind": "member", "scope": "__anon6a612b250108", "scopeKind": "struct"}, {"_type": "tag", "name": "dst_addr", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/ieee1905/src/al/src_independent/al_entity.c", "pattern": "/^    mac_addr dst_addr;$/", "file": true, "language": "C", "typeref": "typename:mac_addr", "kind": "member", "scope": "mids_in_flight_s", "scopeKind": "struct"}, {"_type": "tag", "name": "fragments", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/ieee1905/src/al/src_independent/al_entity.c", "pattern": "/^    uint8_t fragments[MAX_FRAGMENTS_PER_MID];$/", "file": true, "language": "C", "typeref": "typename:uint8_t[]", "kind": "member", "scope": "mids_in_flight_s", "scopeKind": "struct"}, {"_type": "tag", "name": "g_check_dup", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/ieee1905/src/al/src_independent/al_entity.c", "pattern": "/^static check_duplicates_t g_check_dup;$/", "file": true, "language": "C", "typeref": "typename:check_duplicates_t", "kind": "variable"}, {"_type": "tag", "name": "g_cmdu_cb", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/ieee1905/src/al/src_independent/al_entity.c", "pattern": "/^static al1905_cmdu_cb_t   g_cmdu_cb;$/", "file": true, "language": "C", "typeref": "typename:al1905_cmdu_cb_t", "kind": "variable"}, {"_type": "tag", "name": "g_reassemble", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/ieee1905/src/al/src_independent/al_entity.c", "pattern": "/^static reassemble_t       g_reassemble;$/", "file": true, "language": "C", "typeref": "typename:reassemble_t", "kind": "variable"}, {"_type": "tag", "name": "in_use", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/ieee1905/src/al/src_independent/al_entity.c", "pattern": "/^    uint8_t  in_use; \\/* Is this entry free? *\\/$/", "file": true, "language": "C", "typeref": "typename:uint8_t", "kind": "member", "scope": "mids_in_flight_s", "scopeKind": "struct"}, {"_type": "tag", "name": "last_fragment", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/ieee1905/src/al/src_independent/al_entity.c", "pattern": "/^    uint8_t last_fragment;$/", "file": true, "language": "C", "typeref": "typename:uint8_t", "kind": "member", "scope": "mids_in_flight_s", "scopeKind": "struct"}, {"_type": "tag", "name": "lengths", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/ieee1905/src/al/src_independent/al_entity.c", "pattern": "/^    uint16_t lengths[MAX_FRAGMENTS_PER_MID + 1];$/", "file": true, "language": "C", "typeref": "typename:uint16_t[]", "kind": "member", "scope": "mids_in_flight_s", "scopeKind": "struct"}, {"_type": "tag", "name": "mac_addresses", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/ieee1905/src/al/src_independent/al_entity.c", "pattern": "/^    mac_addr mac_addresses[MAX_DUPLICATES_LOG_ENTRIES];$/", "file": true, "language": "C", "typeref": "typename:mac_addr[]", "kind": "member", "scope": "__anon6a612b250208", "scopeKind": "struct"}, {"_type": "tag", "name": "message_ids", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/ieee1905/src/al/src_independent/al_entity.c", "pattern": "/^    uint16_t message_ids  [MAX_DUPLICATES_LOG_ENTRIES];$/", "file": true, "language": "C", "typeref": "typename:uint16_t[]", "kind": "member", "scope": "__anon6a612b250208", "scopeKind": "struct"}, {"_type": "tag", "name": "message_type", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/ieee1905/src/al/src_independent/al_entity.c", "pattern": "/^    uint16_t message_type [MAX_DUPLICATES_LOG_ENTRIES];$/", "file": true, "language": "C", "typeref": "typename:uint16_t[]", "kind": "member", "scope": "__anon6a612b250208", "scopeKind": "struct"}, {"_type": "tag", "name": "mid", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/ieee1905/src/al/src_independent/al_entity.c", "pattern": "/^    uint16_t mid;    \\/* 'mid' associated to this CMDU *\\/$/", "file": true, "language": "C", "typeref": "typename:uint16_t", "kind": "member", "scope": "mids_in_flight_s", "scopeKind": "struct"}, {"_type": "tag", "name": "mids_in_flight", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/ieee1905/src/al/src_independent/al_entity.c", "pattern": "/^    mids_in_flight_t mids_in_flight[MAX_MIDS_IN_FLIGHT];$/", "file": true, "language": "C", "typeref": "typename:mids_in_flight_t[]", "kind": "member", "scope": "__anon6a612b250108", "scopeKind": "struct"}, {"_type": "tag", "name": "mids_in_flight_s", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/ieee1905/src/al/src_independent/al_entity.c", "pattern": "/^typedef struct mids_in_flight_s {$/", "file": true, "language": "C", "kind": "struct"}, {"_type": "tag", "name": "mids_in_flight_t", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/ieee1905/src/al/src_independent/al_entity.c", "pattern": "/^} mids_in_flight_t;$/", "file": true, "language": "C", "typeref": "struct:mids_in_flight_s", "kind": "typedef"}, {"_type": "tag", "name": "packet_cb", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/ieee1905/src/al/src_independent/al_entity.c", "pattern": "/^static void packet_cb(char *if_name, uint8_t *packet, uint16_t packet_len)$/", "file": true, "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(char * if_name,uint8_t * packet,uint16_t packet_len)"}, {"_type": "tag", "name": "reassemble_fragmented_cmdu", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/ieee1905/src/al/src_independent/al_entity.c", "pattern": "/^static i1905_cmdu_t *reassemble_fragmented_cmdu(uint8_t *packet_buffer, uint16_t len)$/", "file": true, "language": "C", "typeref": "typename:i1905_cmdu_t *", "kind": "function", "signature": "(uint8_t * packet_buffer,uint16_t len)"}, {"_type": "tag", "name": "reassemble_t", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/ieee1905/src/al/src_independent/al_entity.c", "pattern": "/^} reassemble_t;$/", "file": true, "language": "C", "typeref": "struct:__anon6a612b250108", "kind": "typedef"}, {"_type": "tag", "name": "src_addr", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/ieee1905/src/al/src_independent/al_entity.c", "pattern": "/^    mac_addr src_addr;$/", "file": true, "language": "C", "typeref": "typename:mac_addr", "kind": "member", "scope": "mids_in_flight_s", "scopeKind": "struct"}, {"_type": "tag", "name": "start", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/ieee1905/src/al/src_independent/al_entity.c", "pattern": "/^    uint8_t  start;$/", "file": true, "language": "C", "typeref": "typename:uint8_t", "kind": "member", "scope": "__anon6a612b250208", "scopeKind": "struct"}, {"_type": "tag", "name": "start1905AL", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/ieee1905/src/al/src_independent/al_entity.c", "pattern": "/^uint8_t start1905AL(mac_addr al_mac_address, uint8_t map_whole_network_flag,$/", "language": "C", "typeref": "typename:uint8_t", "kind": "function", "signature": "(mac_addr al_mac_address,uint8_t map_whole_network_flag,UNUSED char * registrar_interface,i1905_interface_cb_t interface_cb,al1905_cmdu_cb_t cmdu_cb)"}, {"_type": "tag", "name": "stop1905AL", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/ieee1905/src/al/src_independent/al_entity.c", "pattern": "/^void stop1905AL(void)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(void)"}, {"_type": "tag", "name": "streams", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/ieee1905/src/al/src_independent/al_entity.c", "pattern": "/^    uint8_t *streams[MAX_FRAGMENTS_PER_MID + 1];$/", "file": true, "language": "C", "typeref": "typename:uint8_t * []", "kind": "member", "scope": "mids_in_flight_s", "scopeKind": "struct"}, {"_type": "tag", "name": "total", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkEasyMeshController/source/ieee1905/src/al/src_independent/al_entity.c", "pattern": "/^    uint8_t  total;$/", "file": true, "language": "C", "typeref": "typename:uint8_t", "kind": "member", "scope": "__anon6a612b250208", "scopeKind": "struct"}], "hash": "4f8d8b5ae55397d9ac8494f472ed2f01", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/RdkEasyMeshController/source/ieee1905/src/al/src_independent/al_entity.c", "fields": [{"name": "uint32_t age", "scope": "mids_in_flight_s", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint32_t current_age", "scope": "__anon6a612b250108", "scopeKind": "struct", "description": "unavailable"}, {"name": "mac_addr dst_addr", "scope": "mids_in_flight_s", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint8_t[] fragments", "scope": "mids_in_flight_s", "scopeKind": "struct", "description": "unavailable"}, {"name": "check_duplicates_t g_check_dup", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "al1905_cmdu_cb_t g_cmdu_cb", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "reassemble_t g_reassemble", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "uint8_t in_use", "scope": "mids_in_flight_s", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint8_t last_fragment", "scope": "mids_in_flight_s", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint16_t[] lengths", "scope": "mids_in_flight_s", "scopeKind": "struct", "description": "unavailable"}, {"name": "mac_addr[] mac_addresses", "scope": "__anon6a612b250208", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint16_t[] message_ids", "scope": "__anon6a612b250208", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint16_t[] message_type", "scope": "__anon6a612b250208", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint16_t mid", "scope": "mids_in_flight_s", "scopeKind": "struct", "description": "unavailable"}, {"name": "mids_in_flight_t[] mids_in_flight", "scope": "__anon6a612b250108", "scopeKind": "struct", "description": "unavailable"}, {"name": "mac_addr src_addr", "scope": "mids_in_flight_s", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint8_t start", "scope": "__anon6a612b250208", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint8_t * [] streams", "scope": "mids_in_flight_s", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint8_t total", "scope": "__anon6a612b250208", "scopeKind": "struct", "description": "unavailable"}], "revision_history": [{"21675": ""}]}