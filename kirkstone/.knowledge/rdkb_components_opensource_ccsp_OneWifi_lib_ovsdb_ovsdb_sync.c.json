{"is_source_file": true, "format": "C", "description": "This file provides synchronous access functions for OVSDB, including JSON RPC communication, database backup, and transaction management. It includes functions to send commands, process responses, and handle database backup operations.", "external_files": ["stdint.h", "unistd.h", "jansson.h", "string.h", "errno.h", "os_socket.h", "log.h", "json_util.h", "ovsdb.h", "ovsdb_priv.h", "ovsdb_jsonrpc.pjs.h", "pjs_gen_c.h", "wifi_util.h", "wifi_ctrl.h"], "external_methods": ["write()", "system()", "json_object_get()", "json_array_size()", "json_array_get()", "json_string_value()", "json_object_set_new()", "json_incref()", "json_decref()", "json_loads()", "json_dump_callback()", "json_split()", "json_object()", "json_array()", "json_array_append()", "json_array_foreach()", "WIFEXITED()"], "published": ["ovsdb_write_s", "onewifi_ovsdb_method_send_s", "onewifi_ovsdb_tran_call_s", "onewifi_ovsdb_insert_with_parent_s", "onewifi_ovsdb_delete_with_parent_res_s", "onewifi_ovsdb_delete_with_parent_s"], "classes": [], "methods": [{"name": "int ovsdb_sync_write_fn(const char * buf,size_t sz,void * self)", "description": "Callback for JSON dump, writes buffer to OVSDB socket.", "scope": "", "scopeKind": ""}, {"name": "bool exec_cmd(const char * cmd)", "description": "Executes a shell command and returns success status.", "scope": "", "scopeKind": ""}, {"name": "bool is_ovsdb_changed(const json_t * jsdata)", "description": "Checks if the OVSDB JSON response indicates a change.", "scope": "", "scopeKind": ""}, {"name": "bool ovsdb_backup()", "description": "Performs database backup by executing backup commands with mutex locking.", "scope": "", "scopeKind": ""}, {"name": "json_t * ovsdb_write_s(char * ovsdb_sock_path,json_t * jsdata)", "description": "Performs a synchronous write to OVSDB with JSON data, handles connection, sends data, and reads response.", "scope": "", "scopeKind": ""}, {"name": "json_t * onewifi_ovsdb_method_send_s(const char * ovsdb_sock_path,ovsdb_mt_t mt,json_t * jparams)", "description": "Sends a JSON RPC method request synchronously to OVSDB and processes the response.", "scope": "", "scopeKind": ""}, {"name": "json_t * onewifi_ovsdb_tran_call_s(const char * ovsdb_sock_path,const char * table,ovsdb_tro_t oper,json_t * where,json_t * row)", "description": "Issues a transaction call to OVSDB for a specific table operation.", "scope": "", "scopeKind": ""}, {"name": "bool onewifi_ovsdb_insert_with_parent_s(const char * ovsdb_sock_path,char * table,json_t * row,char * parent_table,json_t * parent_where,char * parent_column)", "description": "Inserts a row with parent reference via OVSDB transaction.", "scope": "", "scopeKind": ""}, {"name": "json_t * onewifi_ovsdb_delete_with_parent_res_s(const char * ovsdb_sock_path,const char * table,json_t * where,const char * parent_table,json_t * parent_where,const char * parent_column)", "description": "Deletes rows with parent reference; retrieves UUIDs, creates delete transaction, and sends request.", "scope": "", "scopeKind": ""}, {"name": "bool onewifi_ovsdb_delete_with_parent_s(const char * ovsdb_sock_path,char * table,json_t * where,char * parent_table,json_t * parent_where,char * parent_column)", "description": "Wrapper that performs delete with parent transaction and response handling.", "scope": "", "scopeKind": ""}], "calls": ["write()", "system()", "json_object_get()", "json_array_size()", "json_array_get()", "json_string_value()", "json_object_set_new()", "json_incref()", "json_decref()", "json_loads()", "json_dump_callback()", "json_split()", "json_object()", "json_array()", "json_array_append()", "json_array_foreach()", "WIFEXITED()", "is_db_consolidated()", "get_wifidb_obj()", "onewifi_ovsdb_conn()", "json_dumps_static()", "json_decref()", "rpc_response_from_json()", "json_object_get()", "json_incref()"], "search-terms": ["ovsdb_sync", "jsonrpc", "ovsdb_backup", "synchronous", "ovsdb write", "ovsdb transaction", "database dump", "ovsdb_client", "ovsdb_response", "json_util"], "state": 2, "file_id": 6193, "knowledge_revision": 19298, "git_revision": "", "ctags": [{"_type": "tag", "name": "BACKUP_SAVE_CMD", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/ovsdb/ovsdb_sync.c", "pattern": "/^#define BACKUP_SAVE_CMD /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "BACKUP_SNAPSHOT_CMD", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/ovsdb/ovsdb_sync.c", "pattern": "/^#define BACKUP_SNAPSHOT_CMD /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "PERSISTENT_DB_BACKUP", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/ovsdb/ovsdb_sync.c", "pattern": "/^#define PERSISTENT_DB_BACKUP /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "PERSISTENT_DB_BACKUP_TMP", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/ovsdb/ovsdb_sync.c", "pattern": "/^#define PERSISTENT_DB_BACKUP_TMP /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "UNSECURE_DB", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/ovsdb/ovsdb_sync.c", "pattern": "/^#define UNSECURE_DB /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "UNSECURE_DB_SAVE_CMD", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/ovsdb/ovsdb_sync.c", "pattern": "/^#define UNSECURE_DB_SAVE_CMD /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "backup_lock", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/ovsdb/ovsdb_sync.c", "pattern": "/^static pthread_mutex_t backup_lock;$/", "file": true, "language": "C", "typeref": "typename:pthread_mutex_t", "kind": "variable"}, {"_type": "tag", "name": "exec_cmd", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/ovsdb/ovsdb_sync.c", "pattern": "/^static bool exec_cmd(const char *cmd)$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(const char * cmd)"}, {"_type": "tag", "name": "is_ovsdb_changed", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/ovsdb/ovsdb_sync.c", "pattern": "/^static bool is_ovsdb_changed(const json_t *jsdata)$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(const json_t * jsdata)"}, {"_type": "tag", "name": "onewifi_ovsdb_delete_with_parent_res_s", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/ovsdb/ovsdb_sync.c", "pattern": "/^json_t* onewifi_ovsdb_delete_with_parent_res_s(const char *ovsdb_sock_path,$/", "language": "C", "typeref": "typename:json_t *", "kind": "function", "signature": "(const char * ovsdb_sock_path,const char * table,json_t * where,const char * parent_table,json_t * parent_where,const char * parent_column)"}, {"_type": "tag", "name": "onewifi_ovsdb_delete_with_parent_s", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/ovsdb/ovsdb_sync.c", "pattern": "/^bool onewifi_ovsdb_delete_with_parent_s(const char *ovsdb_sock_path,$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(const char * ovsdb_sock_path,char * table,json_t * where,char * parent_table,json_t * parent_where,char * parent_column)"}, {"_type": "tag", "name": "onewifi_ovsdb_insert_with_parent_s", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/ovsdb/ovsdb_sync.c", "pattern": "/^bool onewifi_ovsdb_insert_with_parent_s(const char *ovsdb_sock_path,$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(const char * ovsdb_sock_path,char * table,json_t * row,char * parent_table,json_t * parent_where,char * parent_column)"}, {"_type": "tag", "name": "onewifi_ovsdb_method_send_s", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/ovsdb/ovsdb_sync.c", "pattern": "/^json_t *onewifi_ovsdb_method_send_s(const char *ovsdb_sock_path,$/", "language": "C", "typeref": "typename:json_t *", "kind": "function", "signature": "(const char * ovsdb_sock_path,ovsdb_mt_t mt,json_t * jparams)"}, {"_type": "tag", "name": "onewifi_ovsdb_tran_call_s", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/ovsdb/ovsdb_sync.c", "pattern": "/^json_t *onewifi_ovsdb_tran_call_s(const char *ovsdb_sock_path,$/", "language": "C", "typeref": "typename:json_t *", "kind": "function", "signature": "(const char * ovsdb_sock_path,const char * table,ovsdb_tro_t oper,json_t * where,json_t * row)"}, {"_type": "tag", "name": "ovsdb_backup", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/ovsdb/ovsdb_sync.c", "pattern": "/^static bool ovsdb_backup()$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "ovsdb_lock", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/ovsdb/ovsdb_sync.c", "pattern": "/^static pthread_mutex_t ovsdb_lock;$/", "file": true, "language": "C", "typeref": "typename:pthread_mutex_t", "kind": "variable"}, {"_type": "tag", "name": "ovsdb_sync_write_fn", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/ovsdb/ovsdb_sync.c", "pattern": "/^int ovsdb_sync_write_fn(const char *buf, size_t sz, void *self)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const char * buf,size_t sz,void * self)"}, {"_type": "tag", "name": "ovsdb_write_buf", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/ovsdb/ovsdb_sync.c", "pattern": "/^static char ovsdb_write_buf[256*1024];$/", "file": true, "language": "C", "typeref": "typename:char[]", "kind": "variable"}, {"_type": "tag", "name": "ovsdb_write_s", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/OneWifi/lib/ovsdb/ovsdb_sync.c", "pattern": "/^json_t *ovsdb_write_s(char *ovsdb_sock_path, json_t *jsdata)$/", "language": "C", "typeref": "typename:json_t *", "kind": "function", "signature": "(char * ovsdb_sock_path,json_t * jsdata)"}], "hash": "a6627fcff1fc1ff074ba49f78c011b28", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/OneWifi/lib/ovsdb/ovsdb_sync.c", "fields": [{"name": "pthread_mutex_t backup_lock", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pthread_mutex_t ovsdb_lock", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char[] ovsdb_write_buf", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"19298": ""}]}