{"is_source_file": true, "format": "C", "description": "This file appears to be a C source code file implementing a web configuration decoder for a device management system. It includes functions for HTTP communication, message pack decoding, base64 decoding, and handling of remote procedure calls via rbus. The code manages web configuration data fetched from cloud or local sources and processes multipart responses, message pack data, and subdocuments.", "external_files": ["<stdint.h>", "<stdlib.h>", "<stdio.h>", "<math.h>", "<curl/curl.h>", "<stdarg.h>", "<time.h>", "<getopt.h>", "<string.h>", "<msgpack.h>", "<trower-base64/base64.h>", "<rbus.h>"], "external_methods": ["curl_slist_append", "curl_easy_init", "curl_easy_setopt", "curl_easy_perform", "curl_easy_getinfo", "curl_slist_free_all", "curl_easy_cleanup", "rbus_open", "rbus_close", "rbusObject_Init", "rbusValue_Init", "rbusValue_SetString", "rbusObject_SetValue", "rbusValue_Release", "rbus_get", "rbusMethod_Invoke", "rbusObject_Release", "rbusValue_GetString", "rbusValue_GetBytes", "rbusValue_GetUInt32", "rbusValue_GetUInt8", "rbusObject_GetValue", "rbusValue_GetString", "rbusValue_GetUInt32", "rbus_close"], "published": ["WEBCFG_RBUS_METHOD"], "classes": [], "methods": [{"name": "int checkObject(const char * buf,size_t len)", "description": "Checks if the given buffer contains a MessagePack object that is a map, indicating valid configuration data.", "scope": "", "scopeKind": ""}, {"name": "void print_msgpack_object(FILE * fp,msgpack_object obj)", "description": "Recursively prints a MessagePack object to a specified file pointer.", "scope": "", "scopeKind": ""}, {"name": "void msgPackDecoder()", "description": "Decodes a message pack file, reading from a globally specified filename, and prints the decoded object.", "scope": "", "scopeKind": ""}, {"name": "void b64Decoder()", "description": "Decodes a base64-encoded file into message pack data and prints the decoded object.", "scope": "", "scopeKind": ""}, {"name": "int readBinFromFile(const char * filename,char ** data,size_t * len)", "description": "Reads binary data from a specified file into a buffer, null-terminating the buffer.", "scope": "", "scopeKind": ""}, {"name": "size_t cli_writer_callback_fn(void * buffer,size_t size,size_t nmemb,struct token_data * data)", "description": "A callback for libcurl to write received data into a dynamically allocated buffer.", "scope": "", "scopeKind": ""}, {"name": "int getauthtokenfromfile(const char * authfile,char ** data)", "description": "Reads an authentication token from a file into memory.", "scope": "", "scopeKind": ""}, {"name": "void rbus_init(const char * pComponentName)", "description": "Initializes rbus for the component.", "scope": "", "scopeKind": ""}, {"name": "void rbus_unint()", "description": "Cleans up rbus handle.", "scope": "", "scopeKind": ""}, {"name": "void cli_createCurlHeader(struct curl_slist * list,struct curl_slist ** header_list,char * versionlist)", "description": "Creates HTTP headers for curl, including authorization and custom headers based on rbus values.", "scope": "", "scopeKind": ""}, {"name": "int cli_getHttpResponse(char ** configData,long * code,char * contentType,size_t * dataSize,const char * url,char * doclist,char * versionlist)", "description": "Performs an HTTP GET request to retrieve web configuration data, handling multipart responses and content types.", "scope": "", "scopeKind": ""}, {"name": "void cli_line_parser(char * ptr,int no_of_bytes,char ** name_space,uint32_t * etag,char ** data,size_t * data_size)", "description": "Parses individual lines in multipart responses to extract namespace, etag, and data.", "scope": "", "scopeKind": ""}, {"name": "void cli_subdoc_parser(char * ptr,int no_of_bytes)", "description": "Parses subdocument data from a multipart response based on boundary markers.", "scope": "", "scopeKind": ""}, {"name": "void cloudConfig(char ** args)", "description": "Fetches configuration from a cloud URL and processes multipart data.", "scope": "", "scopeKind": ""}, {"name": "int rbusFetch(char ** args)", "description": "Uses rbus to invoke a method to fetch a document's data and prints the message pack decoded content.", "scope": "", "scopeKind": ""}, {"name": "int main(int argc,char * argv[])", "description": "Main entry point, handles command line arguments to perform decoding, cloud fetch, or rbus fetch.", "scope": "", "scopeKind": ""}, {"name": "int cli_parseMultipartDocument(void * config_data,char * ct,size_t data_size)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["curl_slist_append", "curl_easy_setopt", "curl_easy_perform", "curl_easy_getinfo", "rbus_open", "rbus_get", "rbusObject_SetValue", "rbusMethod_Invoke", "msgpack_unpack_next", "msgpack_unpacked_init", "msgpack_unpacked_destroy", "msgpack_zone_init", "msgpack_zone_destroy", "b64_decode", "fopen", "fread", "fseek", "ftell", "fclose", "memcpy", "memchr", "strcmp", "snprintf", "strndup", "strncasecmp", "strtok", "strstr"], "search-terms": ["webcfg_decoder", "cloudConfig", "msgpack", "rbus", "multipart/mixed", "webconfig", "base64", "fetchCachedBlob", "webcfg", "CcspMisc", "HttpResponse", "webConfigData", "LoadConfigFromCloud", "WebConfigFetcher"], "state": 2, "file_id": 9831, "knowledge_revision": 22850, "git_revision": "", "ctags": [{"_type": "tag", "name": "CURL_TIMEOUT_SEC", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/webcfg_decoder/main.c", "pattern": "/^#define CURL_TIMEOUT_SEC\t/", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MAX_BUF_SIZE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/webcfg_decoder/main.c", "pattern": "/^#define MAX_BUF_SIZE\t/", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "MAX_HEADER_LEN", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/webcfg_decoder/main.c", "pattern": "/^#define MAX_HEADER_LEN\t/", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "SUBDOC_TAG_COUNT", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/webcfg_decoder/main.c", "pattern": "/^#define SUBDOC_TAG_COUNT /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "WEBCFG_RBUS_METHOD", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/webcfg_decoder/main.c", "pattern": "/^#define WEBCFG_RBUS_METHOD /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "authfile", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/webcfg_decoder/main.c", "pattern": "/^const char * authfile = NULL;$/", "language": "C", "typeref": "typename:const char *", "kind": "variable"}, {"_type": "tag", "name": "b64Decoder", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/webcfg_decoder/main.c", "pattern": "/^void b64Decoder()$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "checkObject", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/webcfg_decoder/main.c", "pattern": "/^int checkObject(const char * buf, size_t len)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const char * buf,size_t len)"}, {"_type": "tag", "name": "cli_createCurlHeader", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/webcfg_decoder/main.c", "pattern": "/^void cli_createCurlHeader( struct curl_slist *list, struct curl_slist **header_list, char * vers/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(struct curl_slist * list,struct curl_slist ** header_list,char * versionlist)"}, {"_type": "tag", "name": "cli_getHttpResponse", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/webcfg_decoder/main.c", "pattern": "/^int cli_getHttpResponse(char **configData, long *code, char* contentType, size_t *dataSize, cons/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(char ** configData,long * code,char * contentType,size_t * dataSize,const char * url,char * doclist,char * versionlist)"}, {"_type": "tag", "name": "cli_line_parser", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/webcfg_decoder/main.c", "pattern": "/^void cli_line_parser(char *ptr, int no_of_bytes, char **name_space, uint32_t *etag, char **data,/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(char * ptr,int no_of_bytes,char ** name_space,uint32_t * etag,char ** data,size_t * data_size)"}, {"_type": "tag", "name": "cli_parseMultipartDocument", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/webcfg_decoder/main.c", "pattern": "/^int cli_parseMultipartDocument(void *config_data, char *ct , size_t data_size)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(void * config_data,char * ct,size_t data_size)"}, {"_type": "tag", "name": "cli_subdoc_parser", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/webcfg_decoder/main.c", "pattern": "/^void cli_subdoc_parser(char *ptr, int no_of_bytes)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(char * ptr,int no_of_bytes)"}, {"_type": "tag", "name": "cli_writer_callback_fn", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/webcfg_decoder/main.c", "pattern": "/^size_t cli_writer_callback_fn(void *buffer, size_t size, size_t nmemb, struct token_data *data)$/", "language": "C", "typeref": "typename:size_t", "kind": "function", "signature": "(void * buffer,size_t size,size_t nmemb,struct token_data * data)"}, {"_type": "tag", "name": "cloudConfig", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/webcfg_decoder/main.c", "pattern": "/^void cloudConfig(char **args)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(char ** args)"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/webcfg_decoder/main.c", "pattern": "/^    char* data;$/", "file": true, "language": "C", "typeref": "typename:char *", "kind": "member", "scope": "token_data", "scopeKind": "struct"}, {"_type": "tag", "name": "docflag", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/webcfg_decoder/main.c", "pattern": "/^static bool docflag = false;$/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "variable"}, {"_type": "tag", "name": "docname", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/webcfg_decoder/main.c", "pattern": "/^const char * docname = NULL;$/", "language": "C", "typeref": "typename:const char *", "kind": "variable"}, {"_type": "tag", "name": "filename", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/webcfg_decoder/main.c", "pattern": "/^const char *filename = NULL;$/", "language": "C", "typeref": "typename:const char *", "kind": "variable"}, {"_type": "tag", "name": "getauthtokenfromfile", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/webcfg_decoder/main.c", "pattern": "/^int getauthtokenfromfile(const char * authfile, char **data)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const char * authfile,char ** data)"}, {"_type": "tag", "name": "handle", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/webcfg_decoder/main.c", "pattern": "/^static rbusHandle_t handle;$/", "file": true, "language": "C", "typeref": "typename:rbusHandle_t", "kind": "variable"}, {"_type": "tag", "name": "interface", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/webcfg_decoder/main.c", "pattern": "/^const char *interface = NULL;$/", "language": "C", "typeref": "typename:const char *", "kind": "variable"}, {"_type": "tag", "name": "main", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/webcfg_decoder/main.c", "pattern": "/^int main( int argc, char *argv[] )$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(int argc,char * argv[])"}, {"_type": "tag", "name": "msgPackDecoder", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/webcfg_decoder/main.c", "pattern": "/^void msgPackDecoder()$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "print_msgpack_object", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/webcfg_decoder/main.c", "pattern": "/^void print_msgpack_object(FILE* fp, msgpack_object obj)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(FILE * fp,msgpack_object obj)"}, {"_type": "tag", "name": "rbusFetch", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/webcfg_decoder/main.c", "pattern": "/^int rbusFetch(char **args)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(char ** args)"}, {"_type": "tag", "name": "rbus_init", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/webcfg_decoder/main.c", "pattern": "/^void rbus_init(const char *pComponentName)$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "(const char * pComponentName)"}, {"_type": "tag", "name": "rbus_unint", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/webcfg_decoder/main.c", "pattern": "/^void rbus_unint()$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "readBinFromFile", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/webcfg_decoder/main.c", "pattern": "/^static int readBinFromFile(const char *filename, char **data, size_t *len)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const char * filename,char ** data,size_t * len)"}, {"_type": "tag", "name": "size", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/webcfg_decoder/main.c", "pattern": "/^    size_t size;$/", "file": true, "language": "C", "typeref": "typename:size_t", "kind": "member", "scope": "token_data", "scopeKind": "struct"}, {"_type": "tag", "name": "supportedDocs_header", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/webcfg_decoder/main.c", "pattern": "/^static char *supportedDocs_header =  NULL;$/", "file": true, "language": "C", "typeref": "typename:char *", "kind": "variable"}, {"_type": "tag", "name": "supportedVersion_header", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/webcfg_decoder/main.c", "pattern": "/^static char *supportedVersion_header=NULL;$/", "file": true, "language": "C", "typeref": "typename:char *", "kind": "variable"}, {"_type": "tag", "name": "token_data", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/webcfg_decoder/main.c", "pattern": "/^struct token_data {$/", "file": true, "language": "C", "kind": "struct"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/CcspMisc/source/webcfg_decoder/main.c", "pattern": "/^const char *url = NULL;$/", "language": "C", "typeref": "typename:const char *", "kind": "variable"}], "hash": "9774319c7bb47dd12f6c8d7d3a839d0f", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/CcspMisc/source/webcfg_decoder/main.c", "fields": [{"name": "const char * authfile", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char * data", "scope": "token_data", "scopeKind": "struct", "description": "unavailable"}, {"name": "bool docflag", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const char * docname", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const char * filename", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "rbusHandle_t handle", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const char * interface", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "size_t size", "scope": "token_data", "scopeKind": "struct", "description": "unavailable"}, {"name": "char * supportedDocs_header", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "char * supportedVersion_header", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const char * url", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"22850": ""}]}