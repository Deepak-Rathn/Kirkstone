{"is_source_file": true, "format": "C++", "description": "Test suite for the OvsDbApi module, using Google Test and Google Mock. Contains unit tests for initialization, deinitialization, ID generation, and table write operations with callback handling.", "external_files": ["test/mocks/mock_ovsdb_socket.h", "test/mocks/MockOvsDbReceiptCallback.h", "OvsDbApi/OvsDbApi.h", "common/OvsAgentLog.h"], "external_methods": ["ovsdb_init", "ovsdb_deinit", "id_generate", "ovsdb_write"], "published": ["g_ovsDbSocketMock", "g_ovsDbReceiptCallbackMock", "OvsDbApiTestFixture::OvsDbMonitorCallback", "OvsDbApiTestFixture::OvsDbReceiptCallback"], "classes": [{"name": "OvsDbApiTestFixture", "description": "Test fixture class that sets up mocks and provides utility methods for testing OvsDbApi operations."}], "methods": [{"name": "ovsdb_api_init_deinit", "description": "Tests the initialization and deinitialization of the OvsDbApi, verifying socket connect/disconnect calls."}, {"name": "ovsdb_api_id_generate", "description": "Tests that the ID generator produces sequential IDs starting from 0."}, {"name": "ovsdb_api_write_gateway_config_with_receipt_cb", "description": "Tests writing a Gateway_Config table entry with receipt callback, verifying message exchange and callback invocation."}, {"name": "ovsdb_api_write_feedback_with_receipt_cb", "description": "Tests writing a Feedback table entry with receipt callback."}, {"name": "ovsdb_multiple_write", "description": "Tests multiple consecutive table writes and receipt callbacks."}, {"name": "ACTION_TEMPLATE(CopyStringFromQueue,HAS_1_TEMPLATE_PARAMS (unsigned,uIndex),AND_3_VALUE_PARAMS (pQueue,pLock,pSize))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "OvsDbApiTestFixture()", "scope": "OvsDbApiTestFixture", "scopeKind": "class", "description": "unavailable"}, {"name": "void OvsDbMonitorCallback(OVS_STATUS status,Rdkb_Table_Config * table_config)", "scope": "OvsDbApiTestFixture", "scopeKind": "class", "description": "unavailable"}, {"name": "void OvsDbReceiptCallback(const char * rID,const OvsDb_Base_Receipt * receipt_result)", "scope": "OvsDbApiTestFixture", "scopeKind": "class", "description": "unavailable"}, {"name": "void SendMessage(const std::string & json_msg)", "scope": "OvsDbApiTestFixture", "scopeKind": "class", "description": "unavailable"}, {"name": "void SetUp()", "scope": "OvsDbApiTestFixture", "scopeKind": "class", "description": "unavailable"}, {"name": "void SetUpTestCase()", "scope": "OvsDbApiTestFixture", "scopeKind": "class", "description": "unavailable"}, {"name": "TEST_F(OvsDbApiTestFixture,ovsdb_api_id_generate)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(OvsDbApiTestFixture,ovsdb_api_init_deinit)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(OvsDbApiTestFixture,ovsdb_api_write_feedback_table_with_receipt_cb)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(OvsDbApiTestFixture,ovsdb_api_write_gateway_config_table_with_receipt_cb)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(OvsDbApiTestFixture,ovsdb_multiple_write)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void TearDown()", "scope": "OvsDbApiTestFixture", "scopeKind": "class", "description": "unavailable"}, {"name": "void TearDownTestCase()", "scope": "OvsDbApiTestFixture", "scopeKind": "class", "description": "unavailable"}, {"name": "~OvsDbApiTestFixture()", "scope": "OvsDbApiTestFixture", "scopeKind": "class", "description": "unavailable"}], "calls": ["ovsdb_init", "ovsdb_deinit", "id_generate", "ovsdb_write", "g_ovsDbSocketMock->ovsdb_socket_connect", "g_ovsDbSocketMock->ovsdb_socket_listen", "g_ovsDbSocketMock->ovsdb_socket_write", "g_ovsDbSocketMock->ovsdb_socket_disconnect", "g_ovsDbReceiptCallbackMock->OvsDbReceiptCallback", "g_ovsDbReceiptCallbackMock->notify", "GetInstance()->current_test_info()", "OvsDbApiInfo", "SendMessage"], "search-terms": ["OvsDbApiTest", "ovsdb_write", "g_ovsDbSocketMock", "GTest", "MockOvsDbReceiptCallback", "receipt callback", "json message", "ovsdb socket mock", "unit test", "table configuration", "callback invocation"], "state": 2, "file_id": 12697, "knowledge_revision": 25600, "git_revision": "", "ctags": [{"_type": "tag", "name": "ACTION_TEMPLATE", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/test/OvsDbApi/OvsDbApiTest.cpp", "pattern": "/^ACTION_TEMPLATE(CopyStringFromQueue, HAS_1_TEMPLATE_PARAMS(unsigned, uIndex), AND_3_VALUE_PARAMS/", "language": "C++", "kind": "function", "signature": "(CopyStringFromQueue,HAS_1_TEMPLATE_PARAMS (unsigned,uIndex),AND_3_VALUE_PARAMS (pQueue,pLock,pSize))"}, {"_type": "tag", "name": "OvsDbApiTestFixture", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/test/OvsDbApi/OvsDbApiTest.cpp", "pattern": "/^        OvsDbApiTestFixture()$/", "file": true, "language": "C++", "kind": "function", "signature": "()", "scope": "OvsDbApiTestFixture", "scopeKind": "class"}, {"_type": "tag", "name": "OvsDbApiTestFixture", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/test/OvsDbApi/OvsDbApiTest.cpp", "pattern": "/^class OvsDbApiTestFixture : public ::testing::Test$/", "file": true, "language": "C++", "kind": "class"}, {"_type": "tag", "name": "OvsDbMonitorCallback", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/test/OvsDbApi/OvsDbApiTest.cpp", "pattern": "/^        static void OvsDbMonitorCallback(OVS_STATUS status,$/", "file": true, "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(OVS_STATUS status,Rdkb_Table_Config * table_config)", "scope": "OvsDbApiTestFixture", "scopeKind": "class"}, {"_type": "tag", "name": "OvsDbReceiptCallback", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/test/OvsDbApi/OvsDbApiTest.cpp", "pattern": "/^        static void OvsDbReceiptCallback(const char* rID,$/", "file": true, "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const char * rID,const OvsDb_Base_Receipt * receipt_result)", "scope": "OvsDbApiTestFixture", "scopeKind": "class"}, {"_type": "tag", "name": "SendMessage", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/test/OvsDbApi/OvsDbApiTest.cpp", "pattern": "/^        void SendMessage(const std::string& json_msg)$/", "file": true, "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const std::string & json_msg)", "scope": "OvsDbApiTestFixture", "scopeKind": "class"}, {"_type": "tag", "name": "SetUp", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/test/OvsDbApi/OvsDbApiTest.cpp", "pattern": "/^        virtual void SetUp()$/", "file": true, "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "OvsDbApiTestFixture", "scopeKind": "class"}, {"_type": "tag", "name": "SetUpTestCase", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/test/OvsDbApi/OvsDbApiTest.cpp", "pattern": "/^        static void SetUpTestCase()$/", "file": true, "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "OvsDbApiTestFixture", "scopeKind": "class"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/test/OvsDbApi/OvsDbApiTest.cpp", "pattern": "/^TEST_F(OvsDbApiTestFixture, ovsdb_api_id_generate)$/", "language": "C++", "kind": "function", "signature": "(OvsDbApiTestFixture,ovsdb_api_id_generate)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/test/OvsDbApi/OvsDbApiTest.cpp", "pattern": "/^TEST_F(OvsDbApiTestFixture, ovsdb_api_init_deinit)$/", "language": "C++", "kind": "function", "signature": "(OvsDbApiTestFixture,ovsdb_api_init_deinit)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/test/OvsDbApi/OvsDbApiTest.cpp", "pattern": "/^TEST_F(OvsDbApiTestFixture, ovsdb_api_write_feedback_table_with_receipt_cb)$/", "language": "C++", "kind": "function", "signature": "(OvsDbApiTestFixture,ovsdb_api_write_feedback_table_with_receipt_cb)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/test/OvsDbApi/OvsDbApiTest.cpp", "pattern": "/^TEST_F(OvsDbApiTestFixture, ovsdb_api_write_gateway_config_table_with_receipt_cb)$/", "language": "C++", "kind": "function", "signature": "(OvsDbApiTestFixture,ovsdb_api_write_gateway_config_table_with_receipt_cb)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/test/OvsDbApi/OvsDbApiTest.cpp", "pattern": "/^TEST_F(OvsDbApiTestFixture, ovsdb_multiple_write)$/", "language": "C++", "kind": "function", "signature": "(OvsDbApiTestFixture,ovsdb_multiple_write)"}, {"_type": "tag", "name": "TearDown", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/test/OvsDbApi/OvsDbApiTest.cpp", "pattern": "/^        virtual void TearDown()$/", "file": true, "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "OvsDbApiTestFixture", "scopeKind": "class"}, {"_type": "tag", "name": "TearDownTestCase", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/test/OvsDbApi/OvsDbApiTest.cpp", "pattern": "/^        static void TearDownTestCase()$/", "file": true, "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "OvsDbApiTestFixture", "scopeKind": "class"}, {"_type": "tag", "name": "g_ovsDbReceiptCallbackMock", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/test/OvsDbApi/OvsDbApiTest.cpp", "pattern": "/^OvsDbReceiptCallbackMock * g_ovsDbReceiptCallbackMock = NULL;$/", "language": "C++", "typeref": "typename:OvsDbReceiptCallbackMock *", "kind": "variable"}, {"_type": "tag", "name": "g_ovsDbSocketMock", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/test/OvsDbApi/OvsDbApiTest.cpp", "pattern": "/^OvsDbSocketMock * g_ovsDbSocketMock = NULL; \\/* This is the actual definition of the mock obj *\\/$/", "language": "C++", "typeref": "typename:OvsDbSocketMock *", "kind": "variable"}, {"_type": "tag", "name": "m_lock", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/test/OvsDbApi/OvsDbApiTest.cpp", "pattern": "/^        std::mutex m_lock;$/", "file": true, "language": "C++", "typeref": "typename:std::mutex", "kind": "member", "scope": "OvsDbApiTestFixture", "scopeKind": "class"}, {"_type": "tag", "name": "m_responseQueue", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/test/OvsDbApi/OvsDbApiTest.cpp", "pattern": "/^        std::queue<std::string> m_responseQueue;$/", "file": true, "language": "C++", "typeref": "typename:std::queue<std::string>", "kind": "member", "scope": "OvsDbApiTestFixture", "scopeKind": "class"}, {"_type": "tag", "name": "mockedOvsDbReceiptCallback", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/test/OvsDbApi/OvsDbApiTest.cpp", "pattern": "/^        OvsDbReceiptCallbackMock mockedOvsDbReceiptCallback;$/", "file": true, "language": "C++", "typeref": "typename:OvsDbReceiptCallbackMock", "kind": "member", "scope": "OvsDbApiTestFixture", "scopeKind": "class"}, {"_type": "tag", "name": "mockedOvsDbSocket", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/test/OvsDbApi/OvsDbApiTest.cpp", "pattern": "/^        OvsDbSocketMock mockedOvsDbSocket;$/", "file": true, "language": "C++", "typeref": "typename:OvsDbSocketMock", "kind": "member", "scope": "OvsDbApiTestFixture", "scopeKind": "class"}, {"_type": "tag", "name": "~OvsDbApiTestFixture", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdk/components/generic/OvsAgent/source/test/OvsDbApi/OvsDbApiTest.cpp", "pattern": "/^        virtual ~OvsDbApiTestFixture()$/", "file": true, "language": "C++", "kind": "function", "signature": "()", "scope": "OvsDbApiTestFixture", "scopeKind": "class"}], "hash": "29604d62824fb5aed2d6a51d93f35331", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdk/components/generic/OvsAgent/source/test/OvsDbApi/OvsDbApiTest.cpp", "fields": [{"name": "OvsDbReceiptCallbackMock * g_ovsDbReceiptCallbackMock", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "OvsDbSocketMock * g_ovsDbSocketMock", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "std::mutex m_lock", "scope": "OvsDbApiTestFixture", "scopeKind": "class", "description": "unavailable"}, {"name": "std::queue<std::string> m_responseQueue", "scope": "OvsDbApiTestFixture", "scopeKind": "class", "description": "unavailable"}, {"name": "OvsDbReceiptCallbackMock mockedOvsDbReceiptCallback", "scope": "OvsDbApiTestFixture", "scopeKind": "class", "description": "unavailable"}, {"name": "OvsDbSocketMock mockedOvsDbSocket", "scope": "OvsDbApiTestFixture", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"25600": ""}]}