{"is_source_file": true, "format": "shell script / sh", "description": "This file is a shell script used to calculate a random reboot time within a maintenance window and schedule a cron job for rebooting a device. It sources system configuration and log functions, reads device properties, computes randomized reboot timing considering timezone offsets, and updates the crontab to execute a reboot script.", "external_files": ["/etc/log_timestamp.sh", "/etc/device.properties"], "external_methods": ["log_timestamp.sh", "dmcli eRT getv Device.Time.TimeOffset"], "published": [], "classes": [], "methods": [{"name": "calcRebootExecTime", "description": "Calculates a randomized reboot execution time based on maintenance windows and device offset."}, {"name": "ScheduleCron", "description": "Schedules the reboot cron job at the calculated time."}], "calls": ["source /etc/log_timestamp.sh", "source /etc/device.properties", "dmcli eRT getv Device.Time.TimeOffset", "cat $FW_START", "cat $FW_END", "grep \"value:\"", "cut -d \":\" -f 3", "tr -d ' '", "awk -v min=$main_start_time -v max=$main_end_time -v seed=\"$(date +%N)\" 'BEGIN{srand(seed);print int(min+rand()*(max-min+1))}'", "crontab -l -c $CRONTAB_DIR", "sed -i '/RFC_Reboot\\.sh/d' $CRONFILE_BK", "crontab $CRONFILE_BK -c $CRONTAB_DIR", "rm -rf $CRONFILE_BK", "touch $RFC_REBOOT_SCHEDULED"], "search-terms": ["RfcRebootCronschedule", "calculate reboot time", "schedule reboot cron", "maintenance window", "device offset", "randomized reboot timer"], "state": 2, "file_id": 7092, "knowledge_revision": 20172, "git_revision": "", "hash": "3404bc549f359367f9458091a9faf055", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/sysint/RfcRebootCronschedule.sh", "revision_history": [{"20172": ""}]}