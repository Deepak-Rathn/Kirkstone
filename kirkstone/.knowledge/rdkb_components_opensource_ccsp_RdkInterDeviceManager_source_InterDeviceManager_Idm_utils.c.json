{"is_source_file": true, "format": "C", "description": "This file contains implementations of various utility functions for device and network management, including file existence checks, system event initialization, device addition and status updates, network interface checks, IP and MAC address retrieval, and RBUS interactions. It is part of a larger project related to inter-device management for RDK-based systems.", "external_files": ["Idm_rbus.h", "<net/if.h>", "<sys/ioctl.h>", "<ifaddrs.h>", "<sysevent/sysevent.h>", "<syscfg/syscfg.h>", "<net/if_arp.h>"], "external_methods": ["sysevent_open", "sysevent_close", "platform_hal_GetBaseMacAddress", "platform_hal_GetModelName", "CcspTraceInfo", "CcspTraceError", "IdmMgr_GetConfigData_locked", "IdmMgrDml_GetConfigData_release", "getifaddrs", "freeifaddrs", "inet_ntop", "socket", "ioctl", "close", "sleep", "usleep", "strncpy", "strcmp", "strstr", "strlen", "snprintf", "inet_addr", "getifaddrs", "ioctl", "inet_ntoa", "rbusMethod_Invoke", "rbusObject_Init", "rbusProperty_Init", "rbusObject_SetProperty", "rbusProperty_Release", "rbusValue_SetFromString", "rbusValue_Init", "rbusValue_Release", "rbusError_ToString", "rbusObject_Release"], "published": ["IsFileExists", "IDM_SyseventInit", "IDM_SyseventClose", "addDevice", "updateDeviceStatus", "getEventType", "getRmDeviceNode", "updteSubscriptionStatus", "IDM_RdkBus_GetParamValuesFromDB", "IDM_RdkBus_SetParamValuesToDB", "cidrMask", "IDM_UpdateLocalDeviceData", "checkInterfaceStatus", "getARPMac", "checkMacAddr"], "classes": [], "methods": [{"name": "int IsFileExists(char * file_name)", "description": "Checks if a specified file exists by attempting to retrieve its status.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS IDM_SyseventInit()", "description": "Initializes system event communication by opening a sysevent channel with retries.", "scope": "", "scopeKind": ""}, {"name": "void IDM_SyseventClose()", "description": "Closes the sysevent channel if open.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS addDevice(IDM_REMOTE_DEVICE_LINK_INFO * newNode)", "description": "Adds a new remote device link info node to the linked list of devices.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS updateDeviceStatus(PIDM_DML_INFO pidmDmlInfo,uint32_t index,uint32_t newStatus)", "description": "Updates the status of a device identified by an index in the device list.", "scope": "", "scopeKind": ""}, {"name": "EVENT_DATA_TYPES getEventType(char * event)", "description": "Determines the type of an event string (unsigned int, string, integer, or unknown).", "scope": "", "scopeKind": ""}, {"name": "IDM_REMOTE_DEVICE_LINK_INFO * getRmDeviceNode(PIDM_DML_INFO pidmDmlInfo,uint32_t index)", "description": "Retrieves a device node matching a specified index from the device list.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS updteSubscriptionStatus(char * event,IDM_RBUS_SUBS_STATUS * sidmRmSubStatus)", "description": "Updates subscription status flags based on event string content.", "scope": "", "scopeKind": ""}, {"name": "int IDM_RdkBus_GetParamValuesFromDB(char * pParamName,char * pReturnVal,int returnValLength)", "description": "Uses RBUS to get parameter values from the data broker.", "scope": "", "scopeKind": ""}, {"name": "int IDM_RdkBus_SetParamValuesToDB(char * pParamName,char * pParamVal)", "description": "Uses RBUS to set parameter values in the data broker.", "scope": "", "scopeKind": ""}, {"name": "unsigned int cidrMask(unsigned int n)", "description": "Calculates the number of set bits in an IPv4 subnet mask, returning the CIDR prefix length.", "scope": "", "scopeKind": ""}, {"name": "ANSC_STATUS IDM_UpdateLocalDeviceData()", "description": "Collects and updates local device network and hardware information, including IP addresses and MAC addresses.", "scope": "", "scopeKind": ""}, {"name": "bool checkInterfaceStatus(char * interface_name)", "description": "Checks if a network interface is up and has an IP address, with a maximum wait time.", "scope": "", "scopeKind": ""}, {"name": "int getARPMac(char * interface,char * ip_address,char * mac_address)", "description": "Retrieves the MAC address for a given IP address on a specified interface using ARP cache.", "scope": "", "scopeKind": ""}, {"name": "bool checkMacAddr(const char * mac)", "description": "Validates the format of a MAC address string.", "scope": "", "scopeKind": ""}], "calls": ["sysevent_open", "sysevent_close", "platform_hal_GetBaseMacAddress", "platform_hal_GetModelName", "CcspTraceInfo", "CcspTraceError", "IdmMgr_GetConfigData_locked", "IdmMgrDml_GetConfigData_release", "getifaddrs", "freeifaddrs", "inet_ntop", "socket", "ioctl", "close", "sleep", "usleep", "strncpy", "strcmp", "strstr", "strlen", "snprintf", "inet_addr", "getifaddrs", "ioctl", "inet_ntoa", "rbusMethod_Invoke", "rbusObject_Init", "rbusProperty_Init", "rbusObject_SetProperty", "rbusProperty_Release", "rbusValue_SetFromString", "rbusValue_Init", "rbusValue_Release", "rbusError_ToString", "rbusObject_Release"], "search-terms": ["Idm_utils.c", "sysevent_fd", "IDM_SyseventInit", "addDevice", "updateDeviceStatus", "checkInterfaceStatus", "getARPMac", "IDM_UpdateLocalDeviceData"], "state": 2, "file_id": 6653, "knowledge_revision": 19764, "git_revision": "", "ctags": [{"_type": "tag", "name": "DM_REMOTE_DEVICE_FT_STATUS", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkInterDeviceManager/source/InterDeviceManager/Idm_utils.c", "pattern": "/^#define DM_REMOTE_DEVICE_FT_STATUS /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "IDM_RdkBus_GetParamValuesFromDB", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkInterDeviceManager/source/InterDeviceManager/Idm_utils.c", "pattern": "/^int IDM_RdkBus_GetParamValuesFromDB( char *pParamName, char *pReturnVal, int returnValLength )$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(char * pParamName,char * pReturnVal,int returnValLength)"}, {"_type": "tag", "name": "IDM_RdkBus_SetParamValuesToDB", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkInterDeviceManager/source/InterDeviceManager/Idm_utils.c", "pattern": "/^int IDM_RdkBus_SetParamValuesToDB( char *pParamName, char *pParamVal )$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(char * pParamName,char * pParamVal)"}, {"_type": "tag", "name": "IDM_SYSNAME_SND", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkInterDeviceManager/source/InterDeviceManager/Idm_utils.c", "pattern": "/^#define IDM_SYSNAME_SND /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "IDM_SyseventClose", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkInterDeviceManager/source/InterDeviceManager/Idm_utils.c", "pattern": "/^void IDM_SyseventClose()$/", "language": "C", "typeref": "typename:void", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "IDM_SyseventInit", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkInterDeviceManager/source/InterDeviceManager/Idm_utils.c", "pattern": "/^ANSC_STATUS IDM_SyseventInit()$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "IDM_UpdateLocalDeviceData", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkInterDeviceManager/source/InterDeviceManager/Idm_utils.c", "pattern": "/^ANSC_STATUS IDM_UpdateLocalDeviceData()$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "INTERFACE_CHECK_TIME", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkInterDeviceManager/source/InterDeviceManager/Idm_utils.c", "pattern": "/^#define INTERFACE_CHECK_TIME /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "INTERFACE_MAX_WAIT_TIME", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkInterDeviceManager/source/InterDeviceManager/Idm_utils.c", "pattern": "/^#define INTERFACE_MAX_WAIT_TIME /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "IsFileExists", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkInterDeviceManager/source/InterDeviceManager/Idm_utils.c", "pattern": "/^int IsFileExists(char *file_name)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(char * file_name)"}, {"_type": "tag", "name": "SYSEVENT_OPEN_MAX_RETRIES", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkInterDeviceManager/source/InterDeviceManager/Idm_utils.c", "pattern": "/^#define SYSEVENT_OPEN_MAX_RETRIES /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "SYS_IP_ADDR", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkInterDeviceManager/source/InterDeviceManager/Idm_utils.c", "pattern": "/^#define SYS_IP_ADDR /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "addDevice", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkInterDeviceManager/source/InterDeviceManager/Idm_utils.c", "pattern": "/^ANSC_STATUS addDevice(IDM_REMOTE_DEVICE_LINK_INFO *newNode)$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(IDM_REMOTE_DEVICE_LINK_INFO * newNode)"}, {"_type": "tag", "name": "checkInterfaceStatus", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkInterDeviceManager/source/InterDeviceManager/Idm_utils.c", "pattern": "/^bool checkInterfaceStatus(char *interface_name)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(char * interface_name)"}, {"_type": "tag", "name": "checkMacAddr", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkInterDeviceManager/source/InterDeviceManager/Idm_utils.c", "pattern": "/^bool checkMacAddr(const char *mac)$/", "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(const char * mac)"}, {"_type": "tag", "name": "cidrMask", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkInterDeviceManager/source/InterDeviceManager/Idm_utils.c", "pattern": "/^unsigned int cidrMask(unsigned int n) {$/", "language": "C", "typeref": "typename:unsigned int", "kind": "function", "signature": "(unsigned int n)"}, {"_type": "tag", "name": "getARPMac", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkInterDeviceManager/source/InterDeviceManager/Idm_utils.c", "pattern": "/^int getARPMac(char *interface, char *ip_address, char *mac_address)$/", "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(char * interface,char * ip_address,char * mac_address)"}, {"_type": "tag", "name": "getEventType", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkInterDeviceManager/source/InterDeviceManager/Idm_utils.c", "pattern": "/^EVENT_DATA_TYPES getEventType(char *event)$/", "language": "C", "typeref": "typename:EVENT_DATA_TYPES", "kind": "function", "signature": "(char * event)"}, {"_type": "tag", "name": "getRmDeviceNode", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkInterDeviceManager/source/InterDeviceManager/Idm_utils.c", "pattern": "/^IDM_REMOTE_DEVICE_LINK_INFO* getRmDeviceNode(PIDM_DML_INFO pidmDmlInfo, uint32_t index)$/", "language": "C", "typeref": "typename:IDM_REMOTE_DEVICE_LINK_INFO *", "kind": "function", "signature": "(PIDM_DML_INFO pidmDmlInfo,uint32_t index)"}, {"_type": "tag", "name": "sidmDmlListInfo", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkInterDeviceManager/source/InterDeviceManager/Idm_utils.c", "pattern": "/^static IDM_DML_LINK_LIST sidmDmlListInfo;$/", "file": true, "language": "C", "typeref": "typename:IDM_DML_LINK_LIST", "kind": "variable"}, {"_type": "tag", "name": "sysevent_fd", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkInterDeviceManager/source/InterDeviceManager/Idm_utils.c", "pattern": "/^int sysevent_fd = -1;$/", "language": "C", "typeref": "typename:int", "kind": "variable"}, {"_type": "tag", "name": "sysevent_token", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkInterDeviceManager/source/InterDeviceManager/Idm_utils.c", "pattern": "/^token_t sysevent_token;$/", "language": "C", "typeref": "typename:token_t", "kind": "variable"}, {"_type": "tag", "name": "updateDeviceStatus", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkInterDeviceManager/source/InterDeviceManager/Idm_utils.c", "pattern": "/^ANSC_STATUS updateDeviceStatus(PIDM_DML_INFO pidmDmlInfo, uint32_t index, uint32_t newStatus)$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(PIDM_DML_INFO pidmDmlInfo,uint32_t index,uint32_t newStatus)"}, {"_type": "tag", "name": "updteSubscriptionStatus", "path": "/home/kavia/workspace/code-generation/Kirkstone/kirkstone/rdkb/components/opensource/ccsp/RdkInterDeviceManager/source/InterDeviceManager/Idm_utils.c", "pattern": "/^ANSC_STATUS updteSubscriptionStatus(char *event, IDM_RBUS_SUBS_STATUS *sidmRmSubStatus)$/", "language": "C", "typeref": "typename:ANSC_STATUS", "kind": "function", "signature": "(char * event,IDM_RBUS_SUBS_STATUS * sidmRmSubStatus)"}], "hash": "a63b88cbfd1d4b4ec5821af3bcda9d77", "format-version": 4, "code-base-name": "meta-rdk-sampleapp", "filename": "rdkb/components/opensource/ccsp/RdkInterDeviceManager/source/InterDeviceManager/Idm_utils.c", "fields": [{"name": "IDM_DML_LINK_LIST sidmDmlListInfo", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int sysevent_fd", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "token_t sysevent_token", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"19764": ""}]}